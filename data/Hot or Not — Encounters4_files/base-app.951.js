if(B.HoN_v3=new $u.Observable,B.Ovl.files.js="/v2/en-us/-/js/overlays/hon_v3/handlers.401.js",global.$p=$gpb.namespace("badoo.bma"),$gpb.exists("badoo.bma.ServerErrorMessage","message")||($gpb.exists("badoo.bma.ServerErrorType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerErrorType=new $gpb.Enum("badoo.bma.ServerErrorType");t._values=[0,13,14,15,17,18,19,20,21,22,23,24,25,26,27,28,30,31,32,33,34,35,36,37,38,39,40,41,42,43,45,46,47,9e3,9001,9002,9003,9010,9011,9012,9100,9101,9102,9110,9111,9112,9113,9120,9121,9122,1e4,10001,10011,10002,10003,10403,10404,10405,10406,10407],t.UNKNOWN_SERVER_ERROR_TYPE=0,t.SERVER_ERROR_TYPE_DUPLICATE_EMAIL=13,t.SERVER_ERROR_TYPE_BLOCKED_ACCOUNT=14,t.SERVER_ERROR_TYPE_CAPTCHA_REQUIRED=15,t.SERVER_ERROR_TYPE_LOCATION_REQUIRED=17,t.SERVER_ERROR_TYPE_MULTIMEDIA_DISABLED=18,t.SERVER_ERROR_TYPE_LOCATION_SHARING_DISABLED=19,t.SERVER_ERROR_TYPE_INVALID_PERSON_ID=20,t.SERVER_ERROR_TYPE_EXTERNAL_PROVIDER_TOKEN_EXPIRED=21,t.SERVER_ERROR_TYPE_PERMISSION_DENIED=22,t.SERVER_ERROR_TYPE_CANT_LOAD_AWARD=23,t.SERVER_ERROR_TYPE_ILLEGAL_ARGUMENT=24,t.SERVER_ERROR_TYPE_UNDERAGE_USER=25,t.SERVER_ERROR_TYPE_FEATURE_NOT_CONFIGURABLE=26,t.SERVER_ERROR_TYPE_ASYNC_NOT_SUPPORTED=27,t.SERVER_ERROR_TYPE_BACKGROUND_MODE_NOT_SUPPORTED=28,t.SERVER_ERROR_TYPE_NO_PRODUCTS_AVAILABLE=30,t.SERVER_ERROR_TYPE_UNKNOWN_COUNTRY=31,t.SERVER_ERROR_TYPE_FEATURE_UNAVAILABLE=32,t.SERVER_ERROR_TYPE_SAVE_FAILURE=33,t.SERVER_ERROR_TYPE_UNKNOWN_RESOURCE=34,t.SERVER_ERROR_TYPE_NOT_DELETABLE=35,t.SERVER_ERROR_TYPE_EXTERNAL_PROVIDER_DATA_INCOMPLETE=36,t.SERVER_ERROR_TYPE_PREMATCH_EXPIRED=37,t.SERVER_ERROR_TYPE_INCORRECT_PASSWORD=38,t.SERVER_ERROR_TYPE_COMMENT_TOO_SHORT=39,t.SERVER_ERROR_TYPE_CHAT_ERROR=40,t.SERVER_ERROR_TYPE_REQUEST_INCOMPLETE=41,t.SERVER_ERROR_TYPE_DATA_UNAVAILABLE=42,t.SERVER_ERROR_TYPE_RATE_LIMIT_EXCEEDED=43,t.SERVER_ERROR_SURVEY_INCOMPLETE=45,t.SERVER_ERROR_TYPE_NON_FATAL_ERROR=46,t.SERVER_ERROR_TYPE_PAYMENT_IN_PROGRESS=47,t.SERVER_ERROR_TYPE_CLIENT_UNKNOWN_WIRE_VERSION=9e3,t.SERVER_ERROR_TYPE_CLIENT_MESSAGE_TOO_LONG=9001,t.SERVER_ERROR_TYPE_CLIENT_MESSAGE_TOO_SHORT=9002,t.SERVER_ERROR_TYPE_CLIENT_MESSAGE_PARSE_ERROR=9003,t.SERVER_ERROR_TYPE_CLIENT_MESSAGE_INVALID=9010,t.SERVER_ERROR_TYPE_CLIENT_MESSAGE_BODY_MISSING=9011,t.SERVER_ERROR_TYPE_CLIENT_MESSAGE_BODY_INVALID=9012,t.SERVER_ERROR_TYPE_SERVER_INTERNAL_ERROR=9100,t.SERVER_ERROR_TYPE_SERVER_NOT_IMPLEMENTED=9101,t.SERVER_ERROR_TYPE_SERVER_VERSION_NOT_SUPPORTED=9102,t.SERVER_ERROR_TYPE_SERVER_PROXY_UNRESOLVED=9110,t.SERVER_ERROR_TYPE_SERVER_PROXY_TIMED_OUT=9111,t.SERVER_ERROR_TYPE_SERVER_PROXY_IO_ERROR=9112,t.SERVER_ERROR_TYPE_SERVER_PROXY_EARLY_CLOSE=9113,t.SERVER_ERROR_TYPE_SERVER_PROXY_HTTP_NOT_FOUND=9120,t.SERVER_ERROR_TYPE_SERVER_PROXY_HTTP_ERROR=9121,t.SERVER_ERROR_TYPE_SERVER_PROXY_HTTP_GARBAGE=9122,t.SERVER_ERROR_TYPE_SERVER_OLD_INTERNAL_ERROR=1e4,t.SERVER_ERROR_TYPE_SERVER_CONNECTION_OVERTAKE=10001,t.SERVER_ERROR_TYPE_USER_RECONNECTED_ANOTHER_DEVICE_WITH_DEACTIVATE=10011,t.SERVER_ERROR_TYPE_SERVER_TEMPORARILY_UNAVAILABLE=10002,t.SERVER_ERROR_TYPE_GENERAL_SERVER_ERROR_WITH_MESSAGE=10003,t.SERVER_ERROR_TYPE_SESSION_LOST=10403,t.SERVER_ERROR_TYPE_INVALID_CLIENT_IP=10404,t.SERVER_ERROR_TYPE_BANNED_CLIENT_IP=10405,t.SERVER_ERROR_TYPE_BANNED_EMAIL_DOMAIN=10406,t.SERVER_ERROR_TYPE_AUTHENTICATION_REQUIRED=10407}(),$gpb.exists("badoo.bma.ApplicationFeature","message")||($gpb.exists("badoo.bma.PaymentProductType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PaymentProductType=new $gpb.Enum("badoo.bma.PaymentProductType");t._values=[1,2,3,4,5,6,7,10,11,12,13,14,15,16],t.PAYMENT_PRODUCT_TYPE_SPP=1,t.PAYMENT_PRODUCT_TYPE_SPOTLIGHT=2,t.PAYMENT_PRODUCT_TYPE_CHAT_QUOTA=3,t.PAYMENT_PRODUCT_TYPE_VOTE_QUOTA=4,t.PAYMENT_PRODUCT_TYPE_GIFT=5,t.PAYMENT_PRODUCT_TYPE_EXTRA_SHOWS=6,t.PAYMENT_PRODUCT_TYPE_RISEUP=7,t.PAYMENT_PRODUCT_TYPE_HON_SUBSCRIPTION=10,t.PAYMENT_PRODUCT_TYPE_MATCH_EXTENSION=11,t.PAYMENT_PRODUCT_TYPE_CONTACTS_FOR_CREDITS=12,t.PAYMENT_PRODUCT_TYPE_CREDITS=13,t.PAYMENT_PRODUCT_TYPE_STICKER_PACK=14,t.PAYMENT_PRODUCT_TYPE_VIP=15,t.PAYMENT_PRODUCT_TYPE_EXCLUSIVE_ATTENTION=16}(),$gpb.exists("badoo.bma.GoalProgress","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.GoalProgress=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.GoalProgress",t.prototype._descriptor={fields:{progress:{type:5,number:2,label:2},goal:{type:5,number:1,label:2}}}}(),$gpb.exists("badoo.bma.PromoType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PromoType=new $gpb.Enum("badoo.bma.PromoType");t._values=[1,2,4,5,6,7,8],t.PROMO_TYPE_RISEUP_TO_THE_TOP=1,t.PROMO_TYPE_CHAT_SPECIAL_DELIVERY=2,t.PROMO_TYPE_ENCOUNTERS_POPULARITY_BOOST=4,t.PROMO_TYPE_UPLOAD_MORE_PHOTOS=5,t.PROMO_TYPE_CHAT_FIRST=6,t.PROMO_TYPE_READ_FIRST=7,t.PROMO_TYPE_CHAT_POPULAR=8}(),$gpb.exists("badoo.bma.FeatureType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FeatureType=new $gpb.Enum("badoo.bma.FeatureType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,68,70,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,10001,10002,10003,10004,10005,10006,10007,10008],t.UNKNOWN_FEATURE_TYPE=0,t.ALLOW_VIEW_PHOTOS=1,t.ALLOW_OPEN_CHAT=2,t.ALLOW_VIEW_MESSAGE_DETAILS=3,t.ALLOW_VIEW_PERSONAL_INFO=4,t.ALLOW_ADD_FAVOURITE=5,t.ALLOW_OPEN_MESSAGES=6,t.ALLOW_OPEN_FRIENDS=7,t.ALLOW_OPEN_FAVOURITES=8,t.ALLOW_OPEN_VISITORS=9,t.ALLOW_OPEN_PEOPLE_NEARBY=10,t.ALLOW_OPEN_ENCOUNTERS=11,t.ALLOW_OPEN_YOU_WANT=12,t.ALLOW_OPEN_WANT_YOU=13,t.ALLOW_OPEN_MUTUALS=14,t.ALLOW_ENCOUNTERS_VOTE=15,t.ALLOW_EDIT_PROFILE=16,t.ALLOW_BLOCK_USER=17,t.ALLOW_SEND_CHAT=18,t.ALLOW_SUPER_POWERS=19,t.ALLOW_LOAD_PEOPLE_NEARBY=20,t.ALLOW_LOAD_WANT_YOU=21,t.ALLOW_VIEW_CHAT_DELIVERY=22,t.ALLOW_OPEN_BLOCKED=23,t.ALLOW_INVITE_EMAIL=24,t.ALLOW_INVITE_PHONE=25,t.ALLOW_REGISTER_GENDER_PREF=26,t.ALLOW_SUPER_POWERS_RENEW=27,t.ALLOW_RISEUP=28,t.ALLOW_EDIT_LOCATION=29,t.ALLOW_CHAT_SPECIAL_DELIVERY=30,t.ALLOW_ENCOUNTERS_PROFILE=31,t.ALLOW_PRIORITY_SHOWS=32,t.ALLOW_REPORT_ABUSE=33,t.ALLOW_LOAD_SPOTLIGHT=34,t.ALLOW_ADD_TO_SPOTLIGHT=35,t.ALLOW_SHOW_CREDITS=36,t.ALLOW_MANAGE_PAYMENTS=37,t.ALLOW_TOPUP=38,t.ALLOW_INTERESTS=39,t.ALLOW_AMOBEE=40,t.ALLOW_FIKSU=41,t.ALLOW_OPEN_MATCHES=42,t.ALLOW_ADD_WANT_YOU=43,t.ALLOW_ADD_MUTUAL=44,t.ALLOW_ADD_YOU_WANT=45,t.ALLOW_OPEN_WANT_YOU_PROFILE=46,t.ALLOW_LOAD_YOU_WANT=47,t.ALLOW_BBM_INVITES=48,t.ALLOW_LOAD_FANS=49,t.ALLOW_LOAD_FAVORITES=50,t.ALLOW_LOAD_FRIENDS=51,t.ALLOW_ADD_FANS=52,t.ALLOW_ADD_FAVORITES=53,t.ALLOW_ADD_FRIENDS=54,t.ALLOW_ADD_VISITORS_TODAY=55,t.ALLOW_LOAD_VISITORS_MONTH=56,t.ALLOW_SPP_ONLY_CHAT=57,t.ALLOW_VERIFY=58,t.ALLOW_VIEW_FAVOURITES=59,t.ALLOW_SEND_GIFTS=60,t.ALLOW_PHOTO_RATING=61,t.ALLOW_ONLINE_STATUS_ACTION=62,t.ALLOW_RATE_IN_PHOTO_RATING=63,t.ALLOW_SOCIAL=64,t.ALLOW_LOAD_SOCIAL_NETWORK=65,t.ALLOW_AUTO_TOPUP=68,t.ALLOW_MULTIMEDIA=70,t.ALLOW_CREDITS_REWARDS=72,t.ALLOW_LOCATION_SHARING=73,t.ALLOW_AWARDS=74,t.ALLOW_PROFILE_RATING=75,t.ALLOW_VIRAL_FLOW=76,t.ALLOW_PROFILE_SEARCH=77,t.ALLOW_OPEN_FACEBOOK_INVITES=78,t.ALLOW_OPEN_LOCAL_HOT=79,t.ALLOW_ADD_TO_LOCAL_HOT=80,t.ALLOW_PROMOTED_VIDEOS=81,t.ALLOW_LOAD_VISITORS_WEEK=82,t.ALLOW_ADD_PEOPLE_NEARBY=83,t.ALLOW_FRIENDS_OF_FRIENDS=84,t.ALLOW_OPEN_SOCIAL_FRIEND_CONNECTION=85,t.ALLOW_LOAD_LOCAL_HOT=86,t.ALLOW_OPEN_UNIVERSITY_HOT_LIST=87,t.ALLOW_LOAD_UNIVERSITY_HOT_LIST=88,t.ALLOW_OPEN_FRIENDS_HOT_LIST=89,t.ALLOW_LOAD_FRIENDS_HOT_LIST=90,t.ALLOW_JUMP_THE_QUEUE_INVITES=91,t.ALLOW_BUMPED_INTO=92,t.ALLOW_EXTEND_MATCH=93,t.ALLOW_INVITE_PHONEBOOK=94,t.ALLOW_SHARED_FRIENDS=95,t.ALLOW_PROFILE_SHARING=96,t.ALLOW_HOTTEST_FRIENDS=97,t.ALLOW_RUSH_HOUR=98,t.ALLOW_SECRET_COMMENTS=99,t.ALLOW_REWIND=100,t.ALLOW_LOAD_FAVOURITED_YOU=101,t.ALLOW_COMMON_PLACES=102,t.ALLOW_POPULARITY=103,t.ALLOW_OPEN_MOBILE_APP_PROMO=104,t.ALLOW_SUPER_POWERS_TRIAL=105,t.ALLOW_UPLOAD_VIDEO=106,t.ALLOW_VIEW_FACEBOOK_PHOTOS=107,t.ALLOW_CONTACTS_FOR_CREDITS=108,t.ALLOW_PRIVATE_PHOTOS=109,t.ALLOW_SMILE=110,t.ALLOW_STICKERS=111,t.ALLOW_UNLOCK_STICKER_PACK=112,t.ALLOW_GIFTS=113,t.ALLOW_LOAD_POPULARITY=114,t.ALLOW_OPEN_COMMON_PLACE=115,t.ALLOW_ADD_TO_SPOTLIGHT_FOR_FREE=116,t.ALLOW_SEARCH_LOCATION_CHANGE=117,t.ALLOW_PAID_VIP=118,t.ALLOW_PAID_VIP_RENEW=119,t.ALLOW_PHOTO_OF_THE_DAY=120,t.ALLOW_EXTENDED_SEARCH=121,t.ALLOW_BUMBLE_VIBEE=122,t.ALLOW_ADD_TO_SPOTLIGHT_FOR_SHARING=123,t.ALLOW_QUICK_CHECKIN_TOOL=124,t.ALLOW_UNITED_FRIENDS=125,t.ALLOW_EXPERIMENTAL_POPULARITY=10001,t.ALLOW_EXPERIMENTAL_PAYMENTS=10002,t.ALLOW_EXPERIMENTAL_RUSH_HOUR=10003,t.ALLOW_EXPERIMENTAL_GIFTS=10004,t.ALLOW_EXPERIMENTAL_STICKERS=10005,t.ALLOW_EXPERIMENTAL_CRUSH_ON_FRIENDS=10006,t.ALLOW_EXPERIMENTAL_VIEW_PHOTOS_IN_PROFILES=10007,t.ALLOW_EXPERIMENTAL_VIEW_MY_CHANCES=10008}(),$gpb.exists("badoo.bma.SexType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SexType=new $gpb.Enum("badoo.bma.SexType");t._values=[1,2,3],t.MALE=1,t.FEMALE=2,t.UNKNOWN=3}(),$gpb.exists("badoo.bma.ApplicationFeaturePicture","message")||($gpb.exists("badoo.bma.OnlineStatus","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.OnlineStatus=new $gpb.Enum("badoo.bma.OnlineStatus");t._values=[1,2,3,4],t.ONLINE=1,t.IDLE=2,t.OFFLINE=3,t.STATUS_UNKNOWN=4}(),$gpb.exists("badoo.bma.NotificationBadgeType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.NotificationBadgeType=new $gpb.Enum("badoo.bma.NotificationBadgeType");t._values=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],t.NOTIFICATION_BADGE_TYPE_EMPTY=1,t.NOTIFICATION_BADGE_TYPE_TEXT=2,t.NOTIFICATION_BADGE_TYPE_FAVOURITES=3,t.NOTIFICATION_BADGE_TYPE_MUTUAL=4,t.NOTIFICATION_BADGE_TYPE_RISE_UP=5,t.NOTIFICATION_BADGE_TYPE_SPOTLIGHT=6,t.NOTIFICATION_BADGE_TYPE_EXTRA_SHOWS=7,t.NOTIFICATION_BADGE_TYPE_SPP=8,t.NOTIFICATION_BADGE_TYPE_CREDITS=9,t.NOTIFICATION_BADGE_TYPE_PHONEBOOK=10,t.NOTIFICATION_BADGE_TYPE_AWARD=11,t.NOTIFICATION_BADGE_TYPE_FREE=12,t.NOTIFICATION_BADGE_TYPE_ONLINE=13,t.NOTIFICATION_BADGE_TYPE_SECRET_COMMENT=14,t.NOTIFICATION_BADGE_TYPE_FIRST_IN_PLACE=15,t.NOTIFICATION_BADGE_TYPE_PIN=16}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ApplicationFeaturePicture=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ApplicationFeaturePicture",t.prototype._descriptor={fields:{photo_count:{type:5,number:3,label:1},photo_id:{type:9,number:7,label:1},name:{type:9,number:4,label:1},online_status:{type:14,type_name:"badoo.bma.OnlineStatus",number:2,label:1},online_status_text:{type:9,number:5,label:1},display_images:{type:9,number:1,label:2},badge_type:{type:14,type_name:"badoo.bma.NotificationBadgeType",number:6,label:1}}}}()),$gpb.exists("badoo.bma.ActionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ActionType=new $gpb.Enum("badoo.bma.ActionType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,27,28,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,10001,10002],t.NO_ACTION=0,t.NOTIFY=1,t.UPLOAD_PHOTO=2,t.COMPLETE_PROFILE=3,t.PAYMENT_REQUIRED=4,t.SIGNIN=5,t.SUPER_POWERS=6,t.DISPLAY=7,t.READ_MESSAGES=8,t.SPEND_CREDITS=9,t.OPEN_ENCOUNTERS=10,t.OPEN_PEOPLE_NEARBY=11,t.OPEN_CONTACTS=12,t.VERIFY_MYSELF=13,t.OPEN_VERIFY_SETTINGS=14,t.RATE_MORE_PHOTOS=15,t.OPEN_PRIVACY_SETTINGS=16,t.OPEN_ENCOUNTERS_SETTINGS=17,t.OPEN_YOUR_RATING=18,t.GROW_YOUR_NETWORK=19,t.TRY_LATER=20,t.CONNECT_ALL_FRIENDS=21,t.SELECT_FRIENDS=22,t.BUILD_YOUR_NETWORK=23,t.UPGRADE=24,t.VOTE_ENCOUNTER_YES=25,t.CONNECT_FACEBOOK=27,t.ACKNOWLEDGE_MODERATED_PHOTOS=28,t.LAUNCH_WEB=30,t.OPEN_MESSAGES=31,t.OPEN_MY_PHOTOS=32,t.SHARE_PROFILE_SCORE=33,t.OPEN_AWARD=34,t.CONNECT_TWITTER=35,t.OPEN_SPP=36,t.RATE_YOUR_FRIENDS=37,t.OPEN_ACCOUNT_SETTINGS=38,t.CONNECT_PHONEBOOK=39,t.SHOW_BMA_PROMO=40,t.UPLOAD_FACEBOOK_PHOTOS=41,t.IMPORT_WORK_AND_EDUCATION=42,t.WRITE_SECRET_COMMENT=43,t.OPEN_PHOTO_OF_THE_DAY_FOLDER=44,t.ACTION_TYPE_SHARE_COMMON_PLACE=45,t.PAID_VIP=46,t.UPLOAD_EXTERNAL_PHOTOS=47,t.IMPORT_PLACES=48,t.SHOW_MY_PROFILE_SCORE=49,t.SHOW_PROMOTED_VIDEO=50,t.SHARE_PROMOTED_VIDEO=51,t.SHARE_PROFILE=52,t.SHARE_PHOTO=53,t.ADD_INTERESTS=54,t.OPEN_PLACES=55,t.ENABLE_PUBLIC_PROFILE=56,t.ACTION_TYPE_EMAIL_US=57,t.OPEN_OFFERWALL=58,t.ACTION_TYPE_REQUEST_SYSTEM_PERMISSION=59,t.ACTION_TYPE_ACCEPT_PROMO=60,t.EXPERIMENTAL_OPEN_POPULARITY=10001,t.EXPERIMENTAL_OPEN_CRUSH_ON_FRIENDS=10002}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ApplicationFeature=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ApplicationFeature",t.prototype._descriptor={fields:{display_message:{type:9,number:4,label:1},experimental_other_text:{type:9,number:10001,label:1},product_type:{type:14,type_name:"badoo.bma.PaymentProductType",number:7,label:1},display_action:{type:9,number:6,label:1},required_action:{type:14,type_name:"badoo.bma.ActionType",number:3,label:1},goal_progress:{type:11,type_name:"badoo.bma.GoalProgress",number:11,label:1},display_title:{type:9,number:5,label:1},promo_type:{type:14,type_name:"badoo.bma.PromoType",number:13,label:1},enabled:{type:8,number:2,label:2},feature:{type_name:"badoo.bma.FeatureType",number:1,label:1,type:14,options:{"default":"UNKNOWN_FEATURE_TYPE"}},experimental_gender:{type:14,type_name:"badoo.bma.SexType",number:10002,label:1},credits_for_product:{type:14,type_name:"badoo.bma.PaymentProductType",number:16,label:1},display_images:{type:11,type_name:"badoo.bma.ApplicationFeaturePicture",number:8,label:3},display_comment:{type:9,number:10,label:1},block_reason_id:{type:9,number:9,label:1},display_number:{type:5,number:12,label:1},url:{type:9,number:15,label:1},payment_amount:{type:5,number:14,label:1},experimental_request_ids:{type:9,number:10003,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerErrorMessage=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerErrorMessage",t.prototype._descriptor={fields:{error_eta:{type:3,number:6,label:1},type:{type_name:"badoo.bma.ServerErrorType",number:7,label:1,type:14,options:{"default":"UNKNOWN_SERVER_ERROR_TYPE"}},error_message:{type:9,number:2,label:2},feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:3,label:1},error_id:{type:9,number:4,label:1},error_code:{type:9,number:1,label:2},error_title:{type:9,number:5,label:1}}}}()),B.Framework={interactive:!0,view_index:0,observer:new $u.Observable,noop:function(){},"abstract":function(){throw new Error("abstract function was not defined")},check_abstract:function(e){for(var t in e)if(e[t]===this.abstract)throw new Error("cannot instantiate abstract class")}},function(e){e.View=$class({index:null,data:null,controller:null,ready:!1,parent:null,get_result:e.abstract,on:e.noop,un:e.noop,fire:e.noop,constructor:function(){if(this.index=++e.view_index,this.data={},e.interactive&&this.controller){var t=this.controller=new this.controller(this);this.on=t.on.bind(t),this.un=t.un.bind(t),this.fire=t.action.bind(t)}},destroy:function(){this.controller&&this.controller.destroy(),this.parent=this.controller=this.data=this.on=this.un=null},set:function(e,t){this.data[e]=t},set_ready:function(){this.ready||(this.ready=!0,e.observer.fire("view:ready"))},is_ready:function(){for(var t in this.context){var i=this.context[t];if(i instanceof e.View&&!i.is_ready())return!1}return!0},render:function(){var t=this.get_result();if(!e.interactive)return'<div id="view-'+this.index+'">'+t+"</div>";var i=document.createElement("div");return i.id="view-"+this.index,i.innerHTML=t,this.controller&&this.controller.set_element(i),i},toString:function(){return this.get_result()}}),e.ViewController=$class($u.Observable,{el:null,init:e.abstract,deinit:e.abstract,start:e.abstract,stop:e.abstract,action:e.abstract,constructor:function(){$super(this,arguments),this.init()},destroy:function(){this.el&&(this.deinit(),this.stop()),$super(this,arguments),this.el=null},set_element:function(e){this.el&&this.stop(),this.el=e,this.start()}})}(B.Framework),function(){function e(e){return e.write('<style> .ovl { position: fixed; z-index: 100000; top: 0; left: 0; overflow-y: scroll; width: 100%; height: 100%; white-space: nowrap; text-align: center; } .ovl-frame { display: inline-block; position: relative; border-radius: 15px; background: #fff; vertical-align: middle; white-space: normal; } .ovl-align { display: inline-block; height: 100%; vertical-align: middle; } /* ovl-body */ .ovl-body { width: 600px; } .ovl-body--narrow { width: 400px; } /* content */ .ovl-content { margin: 35px 40px; } .ovl-content + .ovl-buttons { margin-top: -15px; } /* buttons */ .ovl-buttons { margin: 35px 40px; text-align: center; } </style> <div class="ovl"> <div class="ovl-frame"> <div class="ovl-body ovl-body--narrow"> <div class="ovl-content"> <h1>Something went wrong</h1> <p class="x-large">Please refresh the page</p> </div> <div class="ovl-buttons"> <div class="btn btn--blue"><span class="btn-txt">Refresh</span><span class="b-link" onclick="window.location.reload();"></span></div> </div> </div> </div><div class="ovl-align"></div> </div> <div class="ovl-fade"></div>')}return $u.dust.register("errors/popup.errors-client",e),e}(),function(e){function t(){B.on("page:fatal",this._show_page_fatal,this)}t.prototype={html_css_class_list:" ovl-fading ovl-opened",LEVEL:{NONE:0,SIMPLE:1,FATAL:2},_is_shown:!1,_exist:!1,exist:function(){return this._exist},on_error:function(){this._error_level==this.LEVEL.FATAL&&this._show_page_fatal()},get_level:function(){return this._error_level},start_track:function(){this._error_level=this.LEVEL.FATAL},stop_track:function(){this._error_level=this.LEVEL.NONE},_show_page_fatal:function(){this._exist=!0,this._show()},_show:function(){this._is_shown||(document.documentElement.className+=this.html_css_class_list,document.body.innerHTML+=$u.dust.render("errors/popup.errors-client"),this._is_shown=!0)}},e.fatal=new t}(window.$s||{}),$u.history=new $class($u.Observable,{name:"$u.history.Native",prev:[],state:null,url:null,constructor:function(){$super(this,arguments),this.url=document.location.href.split("#")[0],$e.add(window,"popstate",this._stateChange.bind(this)),null!==window.history.state&&this.setState(window.history.state)},_stateChange:function(e){var t=document.location.href.split("#")[0];return null!=e.state&&this.state!=e.state||this.url!=t?(this.setState(e.state),this.url=t,this.fire("statechange",this.getState()),void 0):!0},setState:function(e){e&&this.state&&e!==this.state&&this.prev.unshift(this.state),this.state=e},getPreviousState:function(){return this.prev[0]||!1},getState:function(){return{title:document.title,url:document.location.href.split("#")[0],state:this.state}},pushState:function(e,t,i){this.setState(e),this.url=i,window.history.pushState(e,t,i),document.title=t},replaceState:function(e,t,i){this.setState(e),this.url=i,window.history.replaceState(e,t,i),document.title=t},setTitle:function(e){var t=this.getState();e!==t.title&&this.replaceState(t.state,e,t.url)},replaceUrl:function(e){var t=this.getState();t.url!==e&&this.replaceState(t.state,t.title,e)},cleanUrl:function(e){var t=this.getState(),i=t.url.indexOf("?");i>=0&&this.replaceUrl(t.url.substring(0,i)+(e?"?"+$r.toQueryString(e):""))},getPathname:function(){return location.pathname}}),B.HoN_v3.App={},B.App=new $class({state:"",url:"",ver:0,enabled:0,_inited:0,pviews:{},constructor:function(){this.pviews=B.App.pviews,B.App.pviews={},B.App._inited=!0,this.enabled=1},register_pview:function(e){this.pviews[e.name]=e,this._inited&&$s.tryCall("B.App.register_pview",e.onload,e)},init_pviews:function(e){var t,i=this.pviews;for(var s in i)if(t=$s.tryCall("B.App.init_pviews < pviews.onload : "+i[s].name+" >",i[s].onload,i[s],e),t.error)return},app_link:function(e,t){B.HoN_v3.App.Manager.switchToUrl(t)},reload:function(){B.HoN_v3.App.Manager.reload()}}),B.HoN_v3.App.StaticHelper=new $class({buildStaticUrl:function(e){return $r.images_root+e},addCssDirection:function(e){return e.replace(/(\.[^\.]*?\.css)/,"-"+$el.dir()+"$1")}}),$gpb.exists("badoo.bma.ClientUpgrade","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientUpgrade=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientUpgrade",t.prototype._descriptor={fields:{url:{type:9,number:3,label:1},notice_message:{type:9,number:1,label:2},action_text:{type:9,number:6,label:1},image_url:{type:9,number:7,label:3},action_type:{type:9,number:5,label:1},notice_header:{type:9,number:4,label:1},compulsory:{type:8,number:2,label:2}}}}(),$gpb.exists("badoo.bma.ClientSpotlightMetaData","message")||($gpb.exists("badoo.bma.SpotlightServerData","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SpotlightServerData=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SpotlightServerData",t.prototype._descriptor={fields:{female_tolerance:{type:1,number:7,label:1},rating:{type:1,number:5,label:1},server_id:{type:9,number:1,label:2},city_id:{type:5,number:2,label:2},gender:{type:5,number:8,label:1},platform_id:{type:5,number:4,label:1},lang_id:{type:5,number:3,label:2},max_bets:{type:5,number:10,label:1},revision_id:{type:5,number:9,label:1},male_tolerance:{type:1,number:6,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientSpotlightMetaData=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientSpotlightMetaData",t.prototype._descriptor={fields:{spotlight_server_typed:{type:11,type_name:"badoo.bma.SpotlightServerData",number:7,label:1},is_verification_enabled:{type:8,number:4,label:1},is_rtl:{type:8,number:6,label:1},picture_domain:{type:9,number:2,label:1},picture_query_string:{type:9,number:3,label:1},spotlight_server:{type:12,number:1,label:1},can_view_online_status:{type:8,number:5,label:1}}}}()),B.HoN_v3.App.Startup=$class({spotlightMetaData:null,constructor:function(e){if(!B.HoN_v3.Partner.match("ok")){var t=e&&e.SpotlightMetaData;t&&(this.spotlightMetaData=this.deserializeSpotlightMetaData(e.SpotlightMetaData),B.HoN_v3.Spotlight.clientSpotlightMetaData=this.spotlightMetaData)}var i=e&&e.upgrade;if(i){var s=$gpb("badoo.bma.ClientUpgrade",i);this.onClientUpgrade(s)}},deserializeSpotlightMetaData:function(e){var t=e.spotlightServerTyped,i={};return i.picture_domain=e.photo_domain,i.spotlight_server_typed={server_id:t.cid,city_id:parseInt(t.city_id),lang_id:parseInt(t.lang_id),max_bets:parseFloat(t.bc),rating:parseFloat(t.rtg),female_tolerance:parseFloat(t.ftl),male_tolerance:parseFloat(t.mtl),gender:t.gdr},i.spotlight_server_typed.revision_id="undefined"!=typeof t.rid?t.rid:1e9,$gpb("badoo.bma.ClientSpotlightMetaData",i)},getSpotlightMetaData:function(){return this.spotlightMetaData},onClientUpgrade:function(){$vars.promo={type:"unsupported-browser"}}}),B.HoN_v3.App.Routing={},B.HoN_v3.App.Routing.BaseRoute=$class({pathList:null,constructor:function(e){this.pathList=e},match:function(e){for(var t,i,s,o,n,a=0;a<this.pathList.length;a++){t=this.pathList[a],s=[];var i=t.replace(/{(.*?)}/g,function(e,t){return s.push(t),"([^/]*)"});if(i="^"+i+"/?$",o=e.match(new RegExp(i))){n={};for(var r=0;r<s.length;r++)n[s[r]]=o[r+1];return n}}return null}}),B.HoN_v3.App.Routing.ProfileEditRoute=$class(B.HoN_v3.App.Routing.BaseRoute,{match:function(){var e=$super(this,arguments);return e&&e.userId!=B.Session.getUserId()&&(e=null),e}}),B.HoN_v3.App.Routing.ProfileViewRoute=$class(B.HoN_v3.App.Routing.BaseRoute,{match:function(){var e=$super(this,arguments);return e&&e.userId==B.Session.getUserId()&&(e=null),e}}),B.HoN_v3.App.Routing.MAP={mm:{path:"/game",js:"/v2/en-us/-/js/hon_v3/new-version/page.encounters.168.js",controller:"EncountersRootController",css:"/v2/-/-/css/hotornot_v2/page.profile.300.css",pageClass:"page-mm",hasStub:!0,canShowFooter:!0},"profile-view":{path:"/profile/0{userId}",route:B.HoN_v3.App.Routing.ProfileViewRoute,js:"/v2/en-us/-/js/hon_v3/new-version/page.profile-view.152.js",controller:"ProfileViewRootController",css:"/v2/-/-/css/hotornot_v2/page.profile.300.css",pageClass:"page-profile",canShowFooter:!0},"profile-edit":{path:"/profile/0{userId}",route:B.HoN_v3.App.Routing.ProfileEditRoute,js:"/v2/en-us/-/js/hon_v3/new-version/page.profile-edit.152.js",controller:"ProfileEditRootController",css:"/v2/-/-/css/hotornot_v2/page.profile.300.css",pageClass:"page-profile",canShowFooter:!0},"big-photo-view":{path:["/0{userId}","/0{userId}/{photoId}"],js:"/v2/en-us/-/js/hon_v3/new-version/page.big-photo-view.117.js",controller:"BigPhotoRootController",css:"/v2/-/-/css/hotornot_v2/page.profile.300.css",pageClass:"page-mm",canShowFooter:!0},search:{path:["/search","/{lang}/search"],js:"/v2/en-us/-/js/hon_v3/new-version/page.search.177.js",controller:"Folders.Search.Controller",css:"/v2/-/-/css/hotornot_v2/page.people-nearby.77.css",pageClass:"page_search",canShowFooter:!0},hotlist:{path:["/friends-hot-list","/friends-hot-list/{page}","/university-hot-list","/university-hot-list/{page}","/hot-list","/hot-list/{page}"],js:"/v2/en-us/-/js/hon_v3/new-version/page.hotlists.206.js",controller:"Folders.Hotlists.Controller",css:"/v2/-/-/css/hotornot_v2/page.hot-list.46.css",pageClass:"page-hotlist",canShowFooter:!0},fans:{path:["/fans","/fans/{page}"],js:"/v2/en-us/-/js/hon_v3/new-version/page.fans.228.js",controller:"Folders.Fans.Controller",css:"/v2/-/-/css/hotornot_v2/page.fans.68.css",pageClass:"page-fans",canShowFooter:!0},favorites:{path:["/added-you-to-favourite","/added-you-to-favourite/{page}","/you-added-to-favourite","/you-added-to-favourite/{page}"],js:"/v2/en-us/-/js/hon_v3/new-version/page.favorites.219.js",controller:"Folders.Favorites.Controller",css:"/v2/-/-/css/hotornot_v2/page.fans.68.css",pageClass:"page-favorites",canShowFooter:!0},visitors:{path:["/visitors","/visitors/{page}"],js:"/v2/en-us/-/js/hon_v3/new-version/page.visitors.212.js",controller:"Folders.Visitors.Controller",css:"/v2/-/-/css/hotornot_v2/page.fans.68.css",pageClass:"page-visitors",canShowFooter:!0},"contact-import":{path:"/contact-import",js:"/v2/en-us/-/js/hon_v3/new-version/page.contact-import.22.js",controller:"ContactImport.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"promo-email-problem":{path:"/promo/email-problem",js:"/v2/en-us/-/js/hon_v3/new-version/page.email-problem.8.js",controller:"EmailPromo.Problem.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"promo-email-spam-notify":{path:"/promo/email-spam-notify",js:"/v2/en-us/-/js/hon_v3/new-version/page.email-spam-notify.8.js",controller:"EmailPromo.SpamNotify.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"promo-email-trouble":{path:"/promo/email-trouble",js:"/v2/en-us/-/js/hon_v3/new-version/page.email-trouble.10.js",controller:"EmailPromo.Trouble.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"promo-facebook":{path:"/promo/facebook",js:"/v2/en-us/-/js/hon_v3/new-version/page.promo-facebook.19.js",controller:"PhotoImportPromoFacebook.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"promo-instagram":{path:"/promo/instagram",js:"/v2/en-us/-/js/hon_v3/new-version/page.promo-instagram.19.js",controller:"PhotoImportPromoInstagram.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"promo-empty-photo":{path:"/empty-photos",js:"/v2/en-us/-/js/hon_v3/new-version/page.empty-photos.125.js",controller:"EmptyPhotos.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"spp-signup-promo":{path:"/promo/spp",js:"/v2/en-us/-/js/hon_v3/new-version/page.spp-promo.35.js",controller:"Spp.Promo.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"abuse-promo":{path:"/promo/abuse",js:"/v2/en-us/-/js/hon_v3/new-version/page.promo-abuse.6.js",controller:"AbusePromo.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"profile-captcha":{path:"/promo/profile-captcha",js:"/v2/en-us/-/js/hon_v3/new-version/page.profile-captcha.16.js",controller:"ProfileCaptcha.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},"billing-allopass-unsubscribe":{path:"/billing/allopass_unsubscribe.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.allopass-unsubscribe.1.js",controller:"AllopassUnsubscribe.Controller",css:"/v2/-/-/css/hotornot_v2/page.plain-promo.27.css",promo:!0},credits:{path:"/credits",js:"/v2/en-us/-/js/hon_v3/new-version/page.credits.16.js",controller:"Credits.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-credits"},"spp-promo":{path:"/spp",js:"/v2/en-us/-/js/hon_v3/new-version/page.spp.31.js",controller:"Spp.Page.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},popularity:{path:["/popularity"],js:"/v2/en-us/-/js/hon_v3/new-version/page.popularity.12.js",controller:"Popularity.Controller",css:"/v2/-/-/css/hotornot_v2/page.popularity.54.css",pageClass:"page-popularity"},update:{path:"/update",js:"/v2/en-us/-/js/hon_v3/new-version/page.update.3.js",controller:"Update.Controller",css:"/v2/-/-/css/hotornot_v2/page.homepage.51.css"},settings:{path:["/settings"],js:"/v2/en-us/-/js/hon_v3/new-version/page.settings.323.js",controller:"Settings.RootController",css:"/v2/-/-/css/hotornot_v2/page.settings.65.css",pageClass:"page-settings"},moderated:{path:"/0{userId}/photos/moderated",js:"/v2/en-us/-/js/hon_v3/new-version/page.moderated.71.js",controller:"ModeratedPhotos.Controller",css:"/v2/-/-/css/hotornot_v2/page.moderated-photos.8.css"},not_found:{path:"/not_found",js:"/v2/en-us/-/js/hon_v3/new-version/page.not-found.28.js",controller:"NotFound.Controller",css:"/v2/-/-/css/hotornot_v2/page.errors.7.css"},"fb-photo-import-on-signup":{path:"/fb_signup_action",js:"/v2/en-us/-/js/hon_v3/new-version/page.fb-photo-import-on-signup.4.js",controller:"FbPhotoImportOnSignup.Controller",css:"/v2/-/-/css/hotornot_v2/page.search-friends.3.css"},"spp-unsubscribe-confirm":{path:"/billing/spp_unsubscribe_confirm.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.spp-unsubscribe-confirm.4.js",controller:"SppUnsubscribe.Confirm.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},"spp-unsubscribe":{path:"/billing/spp_unsubscribe.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.unsubscribe-spp.7.js",controller:"Unsubscribe.SPPController",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},"spp-unsubscribe-promo":{path:"/billing/spp_unsubscribe_promo.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.spp-unsubscribe-promo.4.js",controller:"SppUnsubscribe.Promo.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},"spp-unsubscribe-survey":{path:"/billing/spp_unsubscribe_survey.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.spp-unsubscribe-survey.6.js",controller:"SppUnsubscribe.Survey.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},"vip-unsubscribe-confirm":{path:"/billing/vip_unsubscribe_confirm.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.vip-unsubscribe-confirm.5.js",controller:"VipUnsubscribe.Confirm.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},"vip-unsubscribe":{path:"/billing/vip_unsubscribe.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.unsubscribe-vip.8.js",controller:"Unsubscribe.VipController",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"},"vip-unsubscribe-survey":{path:"/billing/vip_unsubscribe_survey.phtml",js:"/v2/en-us/-/js/hon_v3/new-version/page.vip-unsubscribe-survey.6.js",controller:"VipUnsubscribe.Survey.Controller",css:"/v2/-/-/css/hotornot_v2/page.payment-promo.53.css",pageClass:"page-spp"}},B.HoN_v3.App.Routing.PageEntry=$class({url:null,params:null,legacyStateName:null,_data:null,constructor:function(e,t,i,s){this.url=e,this.params=t,this.legacyStateName=i,this._data=s
},getUrl:function(){return this.url},getParams:function(){return this.params},getLegacyStateName:function(){return this.legacyStateName},getJsUrl:function(){return this._data.js},getCssUrl:function(){return B.HoN_v3.App.StaticHelper.addCssDirection(this._data.css)},getControllerType:function(){return this._getTypeByName("B.HoN_v3."+this._data.controller)},getPageClass:function(){return this._data.pageClass||""},hasStub:function(){return!!this._data.hasStub},canShowFooter:function(){return!!this._data.canShowFooter},isPromo:function(){return!!this._data.promo},_getTypeByName:function(e){for(var t=window,i=e.split(".");i.length;)t=t[i.shift()];return t}}),B.HoN_v3.App.Routing.Router=$class({legacyState:null,legacyUrl:null,setLegacyVars:function(e,t){this.legacyState=e,this.legacyUrl=t},processRouteLegacy:function(){if(this.legacyState&&this.legacyUrl){var e=this.processRoute($u.relative(this.legacyUrl));if(!e){var t=B.HoN_v3.App.Routing.MAP[this.legacyState];t&&(e=new B.HoN_v3.App.Routing.PageEntry(this.legacyUrl,{},this.legacyState,$clone(t)))}return e}},processRoute:function(e){var t,i,s,o,n,a=e.split("?"),r=a[0],l=a[1],_=l?$r.fromQueryString(l):{},p=B.HoN_v3.App.Routing.MAP;for(var c in p)if(t=p[c],i=t.path,i instanceof Array||(i=[i]),s=new(t.route||B.HoN_v3.App.Routing.BaseRoute)(i),o=s.match(r)){n=new B.HoN_v3.App.Routing.PageEntry(e,$config({},o,_),c,$clone(t));break}return n||(n=this.processRouteLegacy()),n}}),B.HoN_v3.App.Fade=$class({transparentActive:!1,translucentActive:!1,translucentTimer:null,translucentPending:!1,SWITCH_TO_TRANSLUCENT_TIMEOUT:1e3,BLOCKER_TPL:'<div id="disable_ovl"></div>',constructor:function(){document.body.appendChild($u.tpl2el(this.BLOCKER_TPL)),this.translucentTimer=new $t(this.commitSwitchToTranslucent,this,this.SWITCH_TO_TRANSLUCENT_TIMEOUT)},show:function(e){this.translucentActive||(this.transparentActive||this.toggleTransparent(!0),e?this.beginSwitchToTranslucent():this.rollbackSwitchToTranslucent())},hide:function(){this.rollbackSwitchToTranslucent(),this.toggleTransparent(!1),this.toggleTranslucent(!1)},beginSwitchToTranslucent:function(){this.translucentPending||(this.translucentTimer.set(),this.translucentPending=!0)},commitSwitchToTranslucent:function(){this.translucentPending=!1,this.toggleTransparent(!1),this.toggleTranslucent(!0)},rollbackSwitchToTranslucent:function(){this.translucentPending&&(this.translucentTimer.clear(),this.translucentPending=!1)},toggleTransparent:function(e){this.transparentActive=e,$el.tgl(document.documentElement,"opacity00",this.transparentActive)},toggleTranslucent:function(e){this.translucentActive=e,$el.tgl(document.documentElement,"opacity06",this.translucentActive)}}),B.HoN_v3.App.StaticLoader=$class({jinbaRequest:null,js:null,css:null,firstTime:!1,readyCallback:null,errorCallback:null,context:null,staticRequest:null,requestCount:0,aborted:!1,BASE_CSS_URL:"/v2/-/-/css/hotornot_v2/base.795.css",FONTS:{"FS Albert Pro Web":{woff:"/v2/-/-/f/fs_albert_pro_web-regular.6.woff"},"FS Albert Pro Web Bold":{woff:"/v2/-/-/f/fs_albert_pro_web-bold.6.woff"},"Font Icons":{woff:"/v2/-/-/f/font-icons.3.woff"}},constructor:function(){this.js=[],this.css=[]},destroy:function(){this.readyCallback=null,this.errorCallback=null,this.context=null,this.aborted=!0,this.staticRequest&&(this.staticRequest.abort(),this.staticRequest=null),this.jinbaRequest=null,this.js=null,this.css=null},setJinbaRequest:function(e){return this.jinbaRequest=e,this},addJs:function(e){return this.js.push(e),this},addCss:function(e){return this.css.push(e),this},setFirstTime:function(e){return this.firstTime=e,this},load:function(e,t,i){return this.readyCallback=e,this.errorCallback=t,this.context=i,this.firstTime&&(this.css.unshift(B.HoN_v3.App.StaticHelper.addCssDirection(this.BASE_CSS_URL)),this.loadFonts()),this.loadScritsAndStyles(this.js,this.css),this},loadFonts:function(){var e;for(var t in this.FONTS){var e=$clone(this.FONTS[t]);for(var i in e)e[i]=B.HoN_v3.App.StaticHelper.buildStaticUrl(e[i]);this.requestCount++,$u.font.load(t,e,this.onFontReady,this,this.jinbaRequest)}},onFontReady:function(){this.ready()},loadScritsAndStyles:function(e,t){this.requestCount++,this.staticRequest=new $r.app(null,{js:e,css:t,ready:this.onScritsAndStylesReady,error:this.onScritsAndStylesError,$s:this.jinbaRequest},this)},onScritsAndStylesReady:function(){this.staticRequest=null,this.ready()},onScritsAndStylesError:function(e){this.staticRequest=null,this.errorCallback.call(this.context,e)},ready:function(){this.requestCount--,this.requestCount>0||this.aborted||this.readyCallback.call(this.context)}}),B.HoN_v3.App.Scroll=$class({positions:{},urls:[],SAVE_DEPTH:15,save:function(e){var t=$el.scroll_top();30>t||(e=encodeURIComponent(e),this.positions[e]||this.urls.push(e),this.positions[e]=t,this.urls.length>this.SAVE_DEPTH&&this.clear())},restore:function(e){e=encodeURIComponent(e);var t=0;t=this.positions[e],window.scroll(0,t)},scrollToTop:function(){window.scroll(0,0)},clear:function(){var e=this.urls.shift();delete this.positions[e]}}),B.HoN_v3.App.Layout=$class({pageClass:null,isPromo:!1,cssToCleanup:null,container:null,constructor:function(e,t){this.pageClass=e,this.isPromo=t,this.container=this.isPromo?$("plain"):$("app_c")},destroy:function(){this.container=null},setCssToCleanup:function(e){this.cssToCleanup=e},applyFrameMode:function(){this.isPromo||$el.dom.html($("plain"),""),$el.tgl($("page"),"page--plain",this.isPromo)},applyStyles:function(){this.cssToCleanup&&$r.loader.del(B.HoN_v3.App.StaticHelper.buildStaticUrl(this.cssToCleanup),!0),document.body.className=this.pageClass},getContainer:function(){return this.container}}),B.HoN_v3.App.StateController=$class({container:null,jinbaRequest:null,rootControllerType:null,hasStub:!1,skipStubDelay:!1,canShowFooter:!1,params:null,rootController:null,stubTimer:null,readyCallback:null,readyContext:null,_observer:null,STUB_RENDER_TIMEOUT:1500,constructor:function(){this._observer=new $u.Observable},destroy:function(){this._observer.destroy(),this._observer=null,this.destroyStubTimer(),this.rootController&&(this.rootController.destroy(),this.rootController=null),this.container=null,this.jinbaRequest=null,this.readyCallback=null,this.readyContext=null},setContainer:function(e){return this.container=e,this},setJinbaRequest:function(e){return this.jinbaRequest=e,this},setRootControllerType:function(e){return this.rootControllerType=e,this},setHasStub:function(e){return this.hasStub=e,this},setSkipStubDelay:function(e){return this.skipStubDelay=e,this},setCanShowFooter:function(e){return this.canShowFooter=e,this},setParams:function(e){return this.params=e,this},render:function(e,t){this.readyCallback=e,this.readyContext=t,this.rootController=(new this.rootControllerType).setPageParams(this.params).on({"view-ready":this.onViewReady},this),this.tryRenderStub(),this.rootController.request(this.jinbaRequest)},on:function(){return this._observer.on.apply(this._observer,arguments),this},un:function(){return this._observer.un.apply(this._observer,arguments),this},fire:function(){return this._observer.fire.apply(this._observer,arguments),this},renderContent:function(e){e&&$el.dom.html(this.container,e)},tryRenderStub:function(){this.hasStub&&(this.skipStubDelay?this.renderStub():(this.stubTimer=new $t(this.renderStub,this,this.STUB_RENDER_TIMEOUT),this.stubTimer.set()))},renderStub:function(){this.fire("need-layout"),this.renderContent(this.rootController.getStubView())},destroyStubTimer:function(){this.stubTimer&&(this.stubTimer.clear(),this.stubTimer=null)},renderFooter:function(){var e=this.canShowFooter&&this.rootController.hasFooter();B.HoN_v3.Footer.toggle_footer(e)},onViewReady:function(){this.destroyStubTimer(),this.renderContent(this.rootController.getView()),$u.history.setTitle($u.unescapeHTML(this.rootController.getTitle())),this.rootController.renderComplete(this.container),this.renderFooter(),this.readyCallback.call(this.readyContext)}}),B.HoN_v3.App.Manager=new $class({name:"AppManager",fade:null,staticLoader:null,scroll:null,layout:null,stateController:null,inited:!1,oldPageEntry:null,currentPageEntry:null,stashStateData:null,continueStateData:null,historyRedirect:!1,stateChangeInProgress:!1,needRestoreScroll:!1,renderInProgress:!1,forceRedirect:!1,jinbaRequest:null,$h:null,constructor:function(){$e.onready(this.init,this)},init:function(){$r.prototype.rt=$vars.rt,B.App.ver=$vars.App.ver,$r.ct&&($r.ct.ver=$vars.App.ver),this.$h=$u.history.on("statechange",this.onHistoryStateChange,this),$e.on(".app, * .app",this.onAppLink,this),B.on("page:fatal",this.onFatal,this),this.scroll=new B.HoN_v3.App.Scroll,this.fade=new B.HoN_v3.App.Fade,this.switchToUrl(location.pathname+location.search)},switchToUrl:function(e){this.stashStateData&&(this.continueStateData={url:e},e=this.stashStateData.url,this.stashStateData=null);var t=this.processRoute(e);t?(this.oldPageEntry=this.currentPageEntry,this.currentPageEntry=t,B.App.state=this.currentPageEntry.getLegacyStateName(),B.App.url=this.currentPageEntry.getUrl(),this.switchToState()):($s.error_log($s.newError("UserError","Can't find page for url\""+e+'"'),{origin:"B.HoN_v3.App.Manager"}),B.fire("page:fatal"))},switchToState:function(){if(this.stateChangeInProgress&&this.rollbackStateChange(),this.renderInProgress){this.forceRedirect=!0;var e=$s.tryCall('Destroy state controller (force) - "'+this.currentPageEntry.getLegacyStateName()+'"  ',this.destroyStateController,this);if(e.error)return;this.renderInProgress=!1}else this.forceRedirect=!1;this.jinbaRequest&&(0!==this.jinbaRequest.timers_active||this.jinbaRequest._ended||this.jinbaRequest.abort()),this.inited?this.jinbaRequest=new $s.Request(this.currentPageEntry.getLegacyStateName(),$s.TAG_WEBAPP):(this.jinbaRequest=new $s.Request(this.currentPageEntry.getLegacyStateName(),$s.TAG_WEBAPPFRAME),$s.startup(this.jinbaRequest,!0),this.jinbaRequest.timer_add({group:"wf_usable"},+new Date-this.jinbaRequest.time_start),this.jinbaRequest.timer_start("wfa_usable",{group:"wfa_usable"})),this.fade.show(!this.currentPageEntry.hasStub()),this.beginStateChange()},processRoute:function(e){var t=new B.HoN_v3.App.Routing.Router;return this.inited||t.setLegacyVars($vars.App.state,$vars.App.url),t.processRoute(e)},stashState:function(e,t){this.stashStateData={url:t}},cleanStash:function(){this.stashStateData=null},getContinueState:function(){return this.continueStateData},reload:function(){this.switchToUrl(this.currentPageEntry.getUrl())},onAppLink:function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),i=e.getAttribute("href");i=i.replace(t,""),e.blur(),this.switchToUrl(i)},onHistoryStateChange:function(e){this.historyRedirect=!0,this.switchToUrl($u.relative(e.url))},onFatal:function(){$u.history.un(this.$h)},onStaticReady:function(){this.commitStateChange(),$s.fatal.start_track(),this.renderInProgress=!0,B.fire("app:prerender"),this.jinbaRequest.timer_start("app_init",{group:"app_init"}),this.inited?B.fire("app:statechange",this.oldPageEntry.getLegacyStateName(),this.currentPageEntry.getLegacyStateName()):B.fire("app:preinit");var e;return this.stateController&&(e=$s.tryCall('Destroy state controller - "'+this.oldPageEntry.getLegacyStateName()+'"  ',this.destroyStateController,this),e.error)?(this.fade.hide(),void 0):(e=$s.tryCall('Create state controller - "'+this.currentPageEntry.getLegacyStateName()+'" ',this.createStateController,this),e.error?(this.fade.hide(),void 0):(this.jinbaRequest.timer_stop("app_init"),this.inited||(new B.HoN_v3.App.Startup($vars.Startup),B.App.init_pviews(this.jinbaRequest),B.App._inited=!0,B.fire("app:init"),this.jinbaRequest.timer_stop("wfa_usable"),window.$vars={},this.inited=!0),e=$s.tryCall('Render page - "'+this.currentPageEntry.getLegacyStateName()+'" ',this.stateController.render,this.stateController,this.onRenderComplete,this),e.error&&this.fade.hide(),void 0))},onStaticError:function(e){this.rollbackStateChange(),this.fade.hide(),this.jinbaRequest.end($s.STATUS_ERROR),this.jinbaRequest=null,$s.error_log($s.newError(e.name,e.message),{origin:"B.HoN_v3.App.Manager"}),B.fire("page:fatal")},beginStateChange:function(){this.forceRedirect?this.needRestoreScroll=!1:(this.scroll.save(this.currentPageEntry.getUrl()),this.needRestoreScroll=this.historyRedirect);var e=this.inited&&this.currentPageEntry.getUrl()!=this.oldPageEntry.getUrl(),t=$u.history.getState(),i=!t.state,s=(e||i)&&!this.historyRedirect&&!this.forceRedirect&&this.inited,o=this.currentPageEntry.getUrl(),n=this.currentPageEntry.getLegacyStateName();s?$u.history.pushState(n,document.title,o):$u.history.replaceState(n,document.title,o),this.historyRedirect=!1,this.staticLoader=(new B.HoN_v3.App.StaticLoader).setJinbaRequest(this.jinbaRequest).addJs(this.currentPageEntry.getJsUrl()).addCss(this.currentPageEntry.getCssUrl()).setFirstTime(!this.inited).load(this.onStaticReady,this.onStaticError,this),this.layout=this.createLayout(),this.stateChangeInProgress=!0},commitStateChange:function(){this.staticLoader.destroy(),this.staticLoader=null,this.stateChangeInProgress=!1},rollbackStateChange:function(){this.staticLoader.destroy(),this.staticLoader=null,this.layout.destroy(),this.layout=null,this.stateChangeInProgress=!1},destroyStateController:function(){this.stateController.destroy(),this.stateController=null},createStateController:function(){this.stateController=(new B.HoN_v3.App.StateController).setContainer(this.layout.getContainer()).setJinbaRequest(this.jinbaRequest).setSkipStubDelay(!this.inited).setRootControllerType(this.currentPageEntry.getControllerType()).setHasStub(this.currentPageEntry.hasStub()).setCanShowFooter(this.currentPageEntry.canShowFooter()).setParams(this.currentPageEntry.getParams()).on({"need-layout":this.onNeedLayout},this)},onNeedLayout:function(){this.applyLayout()},onRenderComplete:function(){this.applyLayout(),this.fade.hide(),this.needRestoreScroll?(this.scroll.restore(this.currentPageEntry.getUrl()),this.needRestoreScroll=!1):this.scroll.scrollToTop(),this.jinbaRequest.timer_add({group:"usable"},+new Date-this.jinbaRequest.time_start,"usable"),new $t(function(){$s.time_ajax_images(this.jinbaRequest),this.jinbaRequest.end(),this.jinbaRequest=null,window.performance&&window.performance.mark&&window.performance.mark("usable")},this).set(0),this.renderInProgress=!1,$s.fatal.stop_track()},createLayout:function(){var e=new B.HoN_v3.App.Layout(this.currentPageEntry.getPageClass(),this.currentPageEntry.isPromo());if(this.inited){var t=this.oldPageEntry.getCssUrl();this.currentPageEntry.getCssUrl()!=t&&e.setCssToCleanup(t)}else e.applyFrameMode();return e},applyLayout:function(){this.layout&&(this.inited&&this.layout.applyFrameMode(),this.layout.applyStyles(),this.layout.destroy(),this.layout=null)}}),B.App.VersionReload=new $class({name:"AppVersionReload",check:!0,constructor:function(){B.on("app:statechange",this._onAppStateChange,this),$gpb.Rpc.any.on($gpb.Rpc.SpecialEvent.ON_REQ_END,this._onRpcEnd,this)},_onAppStateChange:function(){this.check=!0},_onRpcEnd:function(e){if(this.check&&e.rpc_response){var t=e.rpc_response.getHeader("X-Static-Version");if(t&&t!==B.App.ver)return window.location.reload(),!1}this.check=!1}}),B.Base=new $class(B.Page,{name:"Base",is_frame:!1,init:function(){!this.is_frame&&$u.in_iframe&&(document.body.innerHTML="",top.location.href=self.location.href)}}),$u.mediaquery=new $class($u.Observable,{supported:"matchMedia"in window,queries:{},constructor:function(){$super(this,arguments),this.on_query_notification_fn=this.on_query_notification.bind(this)},register:function(e){var t=window.matchMedia(e);return t.addListener(this.on_query_notification_fn),this.queries[e]=t,t},unregister:function(e){this.queries[e].removeListener(this.on_query_notification_fn),delete this.queries[e]},matches:function(e){return this.supported?window.matchMedia(e).matches:!1},on_query_notification:function(e){for(var t in this.queries)if(this.queries[t].media==e.media)return this.fire(t,e.matches),void 0},on:function(e){return this.supported?($super(this,arguments),arguments.length>1&&!this.queries[e]?this.register(e):void 0):void 0},un:function(e){this.supported&&($super(this,arguments),!(arguments.length>1&&this.queries[e])||this._subscribers[e]&&this._subscribers[e].length||this.unregister(e))}}),function(){function e(e,s){return e.write('<div class="sidebar-content').section(s.get(["_FILTER_IS_OPENED"],!1),s,{block:t},{}).write(' js-sidebar-wrapper js-search-people-wrapper" data-control-type="scrollable"> <div class="table js-scroller"> <div class="table-row"> <div class="table-cell table-cell--top"> <div class="sidebar-logo js-sidebar-logo"></div> <div class="sidebar-content_ js-nav js-search-people-nav" data-scroll-recalculate><div class="js-nav-cnt"> <div class="js-sidebar-user"> ').section(s.get(["AUTH_PROFILE"],!1),s,{block:i},{}).write(" ").section(s.get(["NONAUTH_LOGIN_FORM_HON"],!1),s,{block:y},{}).write(" ").section(s.get(["NONAUTH_LOGIN_FORM"],!1),s,{block:v},{}).write(" </div> ").section(s.get(["NONAUTH_LANGUAGE_SELECTOR_HON"],!1),s,{block:N},{}).write(' <div class="sb_seo_city_empty sidebar__el-hidden"></div> <div class="sidebar__el-hidden">').reference("HTMLBLOCK_DISCOVER_PEOPLE",s,["s"]).write('</div> <div class="js-sidebar-nav"> ').section(s.get(["MENU"],!1),s,{block:P},{}).write(' </div> </div> </div></div> </div> <div class="table-row"> <div class="table-cell table-cell--bottom"> <div class="sidebar-content_"> ').section(s.get(["_LOCAL_TOP"],!1),s,{block:bt},{}).write(" ").section(s.get(["_SPOTLIGHT"],!1),s,{block:ht},{}).write(" ").section(s.get(["_SEARCH_BY_NAME"],!1),s,{block:mt},{}).write(" ").section(s.get(["_SEARCH_BY_NAME_PLACEHOLDER"],!1),s,{block:Et},{}).write(' </div> <div class="sidebar-footer js-sidebar-footer"> ').section(s.get(["FOOTER"],!1),s,{block:gt},{}).write(" </div> </div> </div> </div> </div> ").section(s.get(["FILTER_FORM"],!1),s,{block:yt},{})}function t(e){return e.write(" filter-open")}function i(e,t){return e.write(' <div class="sidebar-nav').section(t.get(["_POPULARITY"],!1),t,{block:s},{}).write('"> <div class="sidebar-nav__cnt"> <span class="brick brick--hover').section(t.get(["_INVISIBLE"],!1),t,{block:o},{}).write('" id="header_ico_wrapper"> <span class="brick-img"><img src="').reference("user_photo",t).write('" alt="" id="header_ico"></span> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a> </span> ').section(t.get(["SIGN_OUT_BUTTON"],!1),t,{block:n},{}).write(' <div class="inline sidebar-nav__txt sidebar__el-hidden"> <b class="sidebar-nav__txt-title"><a href="').reference("url",t).write('" class="app js-user-name" rel="').reference("state",t).write('">').reference("user_name",t).write("</a></b> ").section(t.get(["PHOTOS"],!1),t,{block:a},{}).write(" ").section(t.get(["POPULARITY_LEVEL"],!1),t,{block:r},{}).write(' </div><span class="middle"></span> </div> ').section(t.get(["POPULARITY_BUTTON"],!1),t,{block:d},{}).write(" ").section(t.get(["PAYMENTS"],!1),t,{block:b},{}).write(" </div> ")}function s(e){return e.write(" sidebar-nav--popularity")}function o(e){return e.write(" brick--invisible")}function n(e){return e.write(' <i class="icon ico--grey ico--signout sidebar__el-hidden sidebar-nav__signout tooltip-wrap" data-control-type="tooltip"> <span class="b-link js-ovl-open" data-ovl-type="hon-v3-signout"></span> <span class="tooltip"><span class="tooltip-txt">Sign out</span></span> </i> ')}function a(e,t){return e.write('<b class="lgrey sidebar__el-hidden js-sidebar-photos">Photos: <span class="js-sidebar-photos-count">').reference("photos_count",t).write("</span></b>")}function r(e,t){return e.write(' <div class="sidebar-nav__popularity"> <span class="grey">Popularity:</span> ').section(t.get(["_VERY_LOW"],!1),t,{block:l},{}).write(" ").section(t.get(["_LOW"],!1),t,{block:_},{}).write(" ").section(t.get(["_AVERAGE"],!1),t,{block:p},{}).write(" ").section(t.get(["_HIGH"],!1),t,{block:c},{}).write(" ").section(t.get(["_VERY_HIGH"],!1),t,{block:u},{}).write(' <span class="b-link js-sidebar-popularity-link"></span> </div>')}function l(e,t){return e.write(' <div class="sidebar-nav__popularity-status sidebar-nav__popularity-status--low"> ').reference("level",t).write(' <i class="ico-popularity ico-popularity--vlow"></i> </div> ')}function _(e,t){return e.write(' <div class="sidebar-nav__popularity-status sidebar-nav__popularity-status--low"> ').reference("level",t).write(' <i class="ico-popularity ico-popularity--low"></i> </div> ')}function p(e,t){return e.write(' <div class="sidebar-nav__popularity-status sidebar-nav__popularity-status--average"> ').reference("level",t).write(' <i class="ico-popularity ico-popularity--average"></i> </div> ')}function c(e,t){return e.write(' <div class="sidebar-nav__popularity-status sidebar-nav__popularity-status--high"> ').reference("level",t).write(' <i class="ico-popularity ico-popularity--high"></i> </div> ')}function u(e,t){return e.write(' <div class="sidebar-nav__popularity-status sidebar-nav__popularity-status--high"> ').reference("level",t).write(' <i class="ico-popularity ico-popularity--vhigh"></i> </div> ')}function d(e){return e.write(' <div class="btn btn--xsm btn--blue sidebar-nav__btn sidebar__el-hidden"> <span class="btn-txt">Increase your popularity</span> <span class="b-link js-sidebar-popularity-button"></span> </div> ')}function b(e,t){return e.write(' <div class="sidebar-payments js-sidebar-alert"> ').section(t.get(["CREDITS"],!1),t,{block:h},{}).write(" ").section(t.get(["SPP"],!1),t,{block:E},{}).write(" ").section(t.get(["VIP"],!1),t,{block:f},{}).write(" </div> ")}function h(e,t){return e.write(' <div class="sidebar-payments__item sidebar-payments__item--credits').section(t.get(["_ACTIVE"],!1),t,{block:m},{}).write(' js-tooltip-ignore js-sidebar-credits"> <div class="tooltip-wrap" data-control-type="tooltip"> <i class="inline ico-feature ico-feature--color ico-feature--credits sidebar-payments__inactive"><a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a></i> <i class="inline ico-feature ico-feature--color ico-feature--credits sidebar-payments__active"><a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a></i> <span class="inline sidebar-payments__txt sidebar__el-hidden js-sidebar-credits-txt">').reference("credits_count",t).write('</span> <div class="tooltip"><span class="tooltip-txt">Meet new people with ').reference("PAGE_partner_name",t).write(' credits</span></div> </div> <span class="mark mark--sm mark--red">1</span> </div> ')}function m(e){return e.write(" sidebar-payments__item--active")}function E(e,t){return e.write(' <div class="sidebar-payments__item').section(t.get(["_ACTIVE"],!1),t,{block:g},{}).write(' js-sidebar-spp"> <div class="sidebar-payments__inactive tooltip-wrap" data-control-type="tooltip"> <i class="inline ico-feature ico-feature--color ico-feature--spp"> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a> </i> <div class="tooltip tc"><span class="tooltip-txt">Activate Super Powers</span></div> </div> <div class="sidebar-payments__active tooltip-wrap" data-control-type="tooltip"> <i class="inline ico-feature ico-feature--color ico-feature--spp"> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a> </i> <div class="tooltip"><span class="tooltip-txt">Your Super Powers are active!</span></div> </div> </div> ')}function g(e){return e.write(" sidebar-payments__item--active")}function f(e,t){return e.write(' <div class="sidebar-payments__item').section(t.get(["_ACTIVE"],!1),t,{block:T},{}).write(' js-sidebar-vip"> <div class="sidebar-payments__inactive tooltip-wrap" data-control-type="tooltip"> <i class="inline ico-feature ico-feature--color ico-feature--vip"> <span class="b-link js-vip-button"></span> </i> <div class="tooltip tc"><span class="tooltip-txt">Get VIP membership</span></div> </div> <div class="sidebar-payments__active tooltip-wrap" data-control-type="tooltip"> <i class="inline ico-feature ico-feature--color ico-feature--vip"> <span class="b-link js-vip-button"></span> </i> <div class="tooltip"><span class="tooltip-txt">You\'re already a VIP member</span></div> </div> </div> ')}function T(e){return e.write(" sidebar-payments__item--active")}function y(e,t){return e.write(' <div class="sidebar-nav"> <b class="sidebar__el-hidden">Find out who is Hot around you! Check out how Hot you are!</b> <div class="sidebar-nav__buttons"> ').reference("HTMLBLOCK_EXTERNAL_API",t,["s"]).write(' </div> <span class="grey sidebar__el-hidden">We will never post anything on Facebook without your permission.</span> </div> ')}function v(e,t){return e.write(' <div class="sidebar-nav"> <span class="inline sidebar-nav__txt">Sign in to check out who is around you right now!</span><span class="middle"></span> <div class="sidebar-nav__buttons"> ').reference("HTMLBLOCK_EXTERNAL_API",t,["s"]).write(' </div> <div class="sidebar__el-hidden"> <div class="large b sidebar-nav__title"> ').section(t.get(["SIGNIN_HEAD"],!1),t,{block:O},{}).write(" ").section(t.get(["SIGNUP_HEAD"],!1),t,{block:S},{}).write(" </div> ").reference("HTMLBLOCK_SIGN_FORM",t,["s"]).write(' <div class="sidebar-nav__footer"> ').section(t.get(["SIGNUP_FOOTER"],!1),t,{block:R},{}).write(" ").section(t.get(["SIGNIN_FOOTER"],!1),t,{block:I},{}).write(" </div> </div> </div> ")}function O(e){return e.write("Sign in with email")}function S(e){return e.write("Create an account")}function R(e,t){return e.write('Already a member? <a href="').reference("signin_url",t).write('" class="link">Sign in</a>')}function I(e,t){return e.write('Not a member? <a href="').reference("signup_url",t).write('" class="link">Create account</a>')}function N(e,t){return e.write(' <div class="sidebar__lang-selector">').reference("HTMLBLOCK_LANGUAGE_SELECT",t,["s"]).write("</div> ")}function P(e,t){return e.write(' <ul id="sidebar-menu" class="sidebar-menu"> ').section(t.get(["GAME_ITEM"],!1),t,{block:A},{}).write(" ").section(t.get(["PNB_ITEM"],!1),t,{block:k},{}).write(" ").section(t.get(["CONNECTIONS_ITEM"],!1),t,{block:U},{}).write(" ").section(t.get(["HOTLISTS_ITEM"],!1),t,{block:W},{}).write(" ").section(t.get(["FANS_ITEM"],!1),t,{block:K},{}).write(" ").section(t.get(["FAVORITES_ITEM"],!1),t,{block:et},{}).write(" ").section(t.get(["VISITORS_ITEM"],!1),t,{block:nt},{}).write(" ").section(t.get(["GETAPP_ITEM"],!1),t,{block:pt},{}).write(" </ul> ")}function A(e,t){return e.write(' <li class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:C},{}).write('"> ').section(t.get(["FILTER_EDIT"],!1),t,{block:L},{}).write(' <span class="sidebar-menu__item-lnk"> <i class="ico ico--game"><a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a></i> <b class="sidebar__el-hidden"> ').section(t.get(["HON_LABEL"],!1),t,{block:w},{}).write(" ").section(t.get(["FBAPP_LABEL"],!1),t,{block:$},{}).write(" ").section(t.get(["ENCOUNTERS_LABEL"],!1),t,{block:M},{}).write(' </b> </span> <div id="sidebar_filter" class="sidebar-datalist_ sidebar-filter js-sidebar-filter js-fx-wrap').section(t.get(["_FILTER_IS_OPENED"],!1),t,{block:B},{}).write('"> ').reference("HTMLBLOCK_FILTER_FORM",t,["s"]).write(" </div> </li> ")}function C(e){return e.write(" active")}function L(e){return e.write(' <i class="icon ico--grey ico--cog sidebar__el-hidden tooltip-wrap js-tiw-filter-toggle" data-control-type="tooltip" data-fx-wrap="sidebar-filter"> <span class="tooltip"><span class="tooltip-txt">Edit filter</span></span> </i> ')}function w(e,t){return e.reference("PAGE_partner_name",t)}function $(e){return e.write("The Game")}function M(e){return e.write("Encounters")}function B(e){return e.write(" fx")}function k(e,t){return e.write(' <li class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:F},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--pnb"><a id="js-sidebar-search-link" href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a></i> <b class="sidebar__el-hidden">People nearby</b> </span> </li> ')}function F(e){return e.write(" active")}function U(e,t){return e.write(' <li id="navigation_item_im" class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:H},{}).section(t.get(["_NO_PHOTO"],!1),t,{block:D},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--msg"> <a href="').reference("url",t).write('" class="b-link navigation__item-link-chat im-open" rel="').reference("state",t).write('"></a> <span id="mb1" class="mark mark--sm mark--red').section(t.get(["_NO_NEW_MESSAGES_SM"],!1),t,{block:x},{}).write('">').reference("count",t).write('</span> </i> <b class="sidebar__el-hidden"> ').section(t.get(["HON_LABEL"],!1),t,{block:Y},{}).write(" ").section(t.get(["FBAPP_LABEL"],!1),t,{block:V},{}).write(' </b> </span> <span id="mb" class="mark mark--red').section(t.get(["_NO_NEW_MESSAGES"],!1),t,{block:G},{}).write('">').reference("count",t).write("</span> </li> ")}function H(e){return e.write(" active")}function D(e){return e.write(" no-photo")}function x(e){return e.write(" invisible")}function Y(e){return e.write("Connections")}function V(e){return e.write("Messages")}function G(e){return e.write(" invisible")}function W(e,t){return e.write(' <li id="navigation_item_hot-list" class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:j},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--hotlist"><a href="').reference("url",t).write('" class="b-link app js-sidebar-hotlist-link" rel="').reference("state",t).write('"></a></i> <b class="sidebar__el-hidden">Hot Lists</b> </span> </li> ')}function j(e){return e.write(" active")}function K(e,t){return e.write(' <li id="navigation_item_fans" class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:q},{}).section(t.get(["_HIDDEN"],!1),t,{block:X},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--fans"> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a> <span class="mark mark--sm mark--red sidebar-menu__item--mark-sm').section(t.get(["_NO_NEW_FANS_SM"],!1),t,{block:z},{}).write('">').reference("count",t).write('</span> </i> <b class="sidebar__el-hidden"> ').section(t.get(["LIKED_YOU"],!1),t,{block:Q},{}).write(" ").section(t.get(["FANS"],!1),t,{block:J},{}).write(' </b> </span> <span id="js-sidebar-fans" class="mark mark--red').section(t.get(["_NO_NEW_FANS"],!1),t,{block:Z},{}).write('">').reference("count",t).write("</span> </li> ")}function q(e){return e.write(" active")}function X(e){return e.write(" hidden")}function z(e){return e.write(" invisible")}function Q(e){return e.write("Liked you")}function J(e){return e.write("Your fans")}function Z(e){return e.write(" invisible")}function et(e,t){return e.write(' <li id="navigation_item_favorites" class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:tt},{}).section(t.get(["_HIDDEN"],!1),t,{block:it},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--favorites"> <a href="').reference("url",t).write('" class="b-link app js-sidebar-favourites-link" rel="').reference("state",t).write('"></a> <span class="mark mark--sm mark--red sidebar-menu__item--mark-sm').section(t.get(["_NOT_NEW_SM"],!1),t,{block:st},{}).write('">').reference("count",t).write('</span> </i> <b class="sidebar__el-hidden">Favorited you</b> </span> <span id="js-sidebar-favorites" class="mark mark--red').section(t.get(["_NOT_NEW"],!1),t,{block:ot},{}).write('">').reference("count",t).write("</span> </li> ")}function tt(e){return e.write(" active")}function it(e){return e.write(" hidden")
}function st(e){return e.write(" invisible")}function ot(e){return e.write(" invisible")}function nt(e,t){return e.write(' <li id="navigation_item_visitors" class="sidebar-menu__item ').reference("state",t).write("_").section(t.get(["_ACTIVE"],!1),t,{block:at},{}).section(t.get(["_HIDDEN"],!1),t,{block:rt},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--visitors"> <a href="').reference("url",t).write('" class="b-link js-visitors-link"></a> <span class="mark mark--sm mark--red sidebar-menu__item--mark-sm').section(t.get(["_NOT_NEW_SM"],!1),t,{block:lt},{}).write('">').reference("count",t).write('</span> </i> <b class="sidebar__el-hidden">Visitors</b> </span> <span id="js-sidebar-visitors" class="mark mark--red').section(t.get(["_NOT_NEW"],!1),t,{block:_t},{}).write('">').reference("count",t).write("</span> </li> ")}function at(e){return e.write(" active")}function rt(e){return e.write(" hidden")}function lt(e){return e.write(" invisible")}function _t(e){return e.write(" invisible")}function pt(e,t){return e.write(' <li class="sidebar-menu__item').section(t.get(["_ACTIVE"],!1),t,{block:ct},{}).write('"> <span class="sidebar-menu__item-lnk"> <i class="ico ico--app"> ').section(t.get(["_LINK"],!1),t,{block:ut},{}).write(" ").section(t.get(["_OVL"],!1),t,{block:dt},{}).write(' </i> <b class="sidebar__el-hidden">Get the app</b> </span> </li> ')}function ct(e){return e.write(" active")}function ut(e,t){return e.write('<a href="').reference("url",t).write('" class="b-link" target="_blank"></a>')}function dt(e,t){return e.write('<span class="b-link js-ovl-open" data-ovl-type="ovl" data-ovl-url="').reference("ovl_url",t).write('"></span>')}function bt(e){return e.write('<div id="top100" class="local-top"><div class="loader loader--grey local-top__loader"><div class="loader_"></div></div></div>')}function ht(e){return e.write('<div id="spotlight" class="spotlight"><div class="loader loader--grey spotlight__loader"><div class="loader_"></div></div></div>')}function mt(e){return e.write('<div class="search-results js-search-people-users" data-scroll-recalculate><div class="js-search-people-users-cnt"></div></div>')}function Et(e){return e.write('<div id="search-by-name-result"></div>')}function gt(e,t){return e.write(" ").section(t.get(["SEARCH"],!1),t,{block:ft},{}).write(" ").section(t.get(["_SEARCH_PLACEHOLDER"],!1),t,{block:Tt},{}).write(" ")}function ft(e){return e.write(' <div class="sidebar-footer__search"> <div class="search-field js-search-people" data-control-type="search-people"> <div class="search-field_ js-search-people-field"> <input type="text" name="search" placeholder="Search by name" autocomplete="off" class="input input--sm js-search-people-input"> <i class="icon ico--grey ico--search"></i> <i class="icon ico--cross-sm js-search-people-cancel"></i> <div class="loader loader--sm"><div class="loader_"></div></div> </div> </div> </div> ')}function Tt(e){return e.write('<div id="search-by-name-input"></div>')}function yt(e,t){return e.write(' <form id="search_form" action="').reference("action_url",t).write('" class="js-fx-content" data-fx-wrap="sidebar-filter"> ').reference("HTMLBLOCK_PAGE_hidden_form",t,["s"]).write(' <input type="hidden" name="filter_form" value="1"> <div class="sidebar-datalist js-tiw-filter"> <div> <legend class="b grey">Show</legend> <div class="checkbox"> <input type="checkbox" name="gender[]" id="boy" value="M" ').section(t.get(["_MALE_SELECTED"],!1),t,{block:vt},{}).write('> <label for="boy">Guys</label> </div> <div class="checkbox"> <input type="checkbox" name="gender[]" id="girl" value="F" ').section(t.get(["_FEMALE_SELECTED"],!1),t,{block:Ot},{}).write('> <label for="girl">Girls</label> </div> </div> ').section(t.get(["AGE_SLIDER"],!1),t,{block:St},{}).write(" ").section(t.get(["ALSO_SHOW"],!1),t,{block:It},{}).write(' <div class="sidebar-filter__btn"> <button type="submit" class="btn btn--sm btn--blue"> <span class="btn-txt">Play</span> </button> <span class="btn btn--sm btn--white"> <span class="btn-txt">Cancel</span> <i class="b-link js-tiw-filter-toggle" data-fx-wrap="sidebar-filter"></i> </span> </div> </div> </form> ')}function vt(e){return e.write(' checked="checked"')}function Ot(e){return e.write(' checked="checked"')}function St(e,t){return e.write(' <div class="js-age-slider" data-control-type="age-slider" data-min="').reference("slider_min_age",t).write('" data-max="').reference("slider_max_age",t).write('" data-min-range="').reference("slider_min_range",t).write('"> <legend class="b grey">Age</legend> <div class="slider-wrap"> <div class="slider"> <input type="hidden" name="age_f" value="').reference("slider_age_from",t).write('" class="js-slider-begin-field"> <input type="hidden" name="age_t" value="').reference("slider_age_to",t).write('" class="js-slider-end-field"> <div class="slider-track js-slider-track"></div> <div class="slider-mover js-slider-begin" tabindex="0"></div> <div class="slider-mover js-slider-end" tabindex="0"></div> <b class="slider-count js-age-begin">').reference("slider_age_from",t).write('</b> <b class="slider-count js-age-end">').reference("slider_age_to_text",t).write("</b> </div> </div> ").section(t.get(["AGE_SLIDER_TEXT"],!1),t,{block:Rt},{}).write(" </div> ")}function Rt(e){return e.write('<div class="grey sidebar-filter__slider-txt">Hot people near you will be shown first.</div>')}function It(e,t){return e.write(' <div class="sidebar-filter__more"> <legend class="b grey">Also show</legend> ').section(t.get(["TRUSTED"],!1),t,{block:Nt},{}).write(" </div> ")}function Nt(e,t){return e.write(' <div> <div class="checkbox"> <input type="checkbox" id="show_trusted" name="show[]" value="trusted" ').section(t.get(["_SHOW_TRUSTED_CHECKED"],!1),t,{block:Pt},{}).write('> <label for="show_trusted">Friends and their friends</label> </div> </div> ')}function Pt(e){return e.write(" checked")}return $u.dust.register("sidebar/block.sidebar",e),e.s={_FILTER_IS_OPENED:t,AUTH_PROFILE:i,NONAUTH_LOGIN_FORM_HON:y,NONAUTH_LOGIN_FORM:v,NONAUTH_LANGUAGE_SELECTOR_HON:N,MENU:P,_LOCAL_TOP:bt,_SPOTLIGHT:ht,_SEARCH_BY_NAME:mt,_SEARCH_BY_NAME_PLACEHOLDER:Et,FOOTER:gt,FILTER_FORM:yt},i.s={_POPULARITY:s,_INVISIBLE:o,SIGN_OUT_BUTTON:n,PHOTOS:a,POPULARITY_LEVEL:r,POPULARITY_BUTTON:d,PAYMENTS:b},r.s={_VERY_LOW:l,_LOW:_,_AVERAGE:p,_HIGH:c,_VERY_HIGH:u},b.s={CREDITS:h,SPP:E,VIP:f},h.s={_ACTIVE:m},E.s={_ACTIVE:g},f.s={_ACTIVE:T},v.s={SIGNIN_HEAD:O,SIGNUP_HEAD:S,SIGNUP_FOOTER:R,SIGNIN_FOOTER:I},P.s={GAME_ITEM:A,PNB_ITEM:k,CONNECTIONS_ITEM:U,HOTLISTS_ITEM:W,FANS_ITEM:K,FAVORITES_ITEM:et,VISITORS_ITEM:nt,GETAPP_ITEM:pt},A.s={_ACTIVE:C,FILTER_EDIT:L,HON_LABEL:w,FBAPP_LABEL:$,ENCOUNTERS_LABEL:M,_FILTER_IS_OPENED:B},k.s={_ACTIVE:F},U.s={_ACTIVE:H,_NO_PHOTO:D,_NO_NEW_MESSAGES_SM:x,HON_LABEL:Y,FBAPP_LABEL:V,_NO_NEW_MESSAGES:G},W.s={_ACTIVE:j},K.s={_ACTIVE:q,_HIDDEN:X,_NO_NEW_FANS_SM:z,LIKED_YOU:Q,FANS:J,_NO_NEW_FANS:Z},et.s={_ACTIVE:tt,_HIDDEN:it,_NOT_NEW_SM:st,_NOT_NEW:ot},nt.s={_ACTIVE:at,_HIDDEN:rt,_NOT_NEW_SM:lt,_NOT_NEW:_t},pt.s={_ACTIVE:ct,_LINK:ut,_OVL:dt},gt.s={SEARCH:ft,_SEARCH_PLACEHOLDER:Tt},yt.s={_MALE_SELECTED:vt,_FEMALE_SELECTED:Ot,AGE_SLIDER:St,ALSO_SHOW:It},St.s={AGE_SLIDER_TEXT:Rt},It.s={TRUSTED:Nt},Nt.s={_SHOW_TRUSTED_CHECKED:Pt},e}(),B.HoN_v3._Sidebar={},B.HoN_v3._Sidebar.BaseView=$class(B.DustView,{init_data:function(e){return this.set(e),this}}),B.HoN_v3._Sidebar.BaseViewController=$class($u.Observable,{rootEl:null,view:null,data:null,isRendered:!1,constructor:function(e,t){$super(this,arguments),this.rootEl=e,t&&this.setInitialData(t)},init:function(){},destructor:function(){$el.dom.html(this.rootEl,""),this.rootEl=null,this.view=null,this.data=null},destroy:function(){this.destructor()},setInitialData:function(e){this.data=e,this._render(),this.init(),this.setInitialData=function(){}},_render:function(){$el.dom.html(this.rootEl,this.view.init_data(this.data)),this.isRendered=!0}}),function(){function e(e,r){return e.section(r.get(["HOTORNOT"],!1),r,{block:t},{}).write(" ").section(r.get(["BADOO"],!1),r,{block:i},{}).write(" ").section(r.get(["HOTORNOT_INDEX"],!1),r,{block:s},{}).write(" ").section(r.get(["BADOO_INDEX"],!1),r,{block:o},{}).write(" ").section(r.get(["HOTORNOT_MEDIUM"],!1),r,{block:n},{}).write(" ").section(r.get(["BADOO_MEDIUM"],!1),r,{block:a},{})}function t(e,t){return e.write(' <a href="').reference("logo_url",t).write('" class="logo_anchor js-logo" rel="').reference("logo_rel",t).write('"> <span class="logo"></span> <span class="logo-ico"></span> </a> ')}function i(e,t){return e.write(' <a href="').reference("logo_url",t).write('" class="logo_anchor app" rel="').reference("logo_rel",t).write('"> <span class="logo logo--badoo"></span> <span class="logo-ico logo-ico--badoo"></span> </a> ')}function s(e){return e.write(' <span class="logo logo--lg"></span> ')}function o(e){return e.write(' <span class="logo logo--lg logo--badoo"></span> ')}function n(e,t){return e.write(' <a href="').reference("base_url",t).write('" class="logo"></a> ')}function a(e,t){return e.write(' <a href="').reference("base_url",t).write('" class="logo logo--badoo"></a> ')}return $u.dust.register("common/block.logo",e),e.s={HOTORNOT:t,BADOO:i,HOTORNOT_INDEX:s,BADOO_INDEX:o,HOTORNOT_MEDIUM:n,BADOO_MEDIUM:a},e}(),B.HoN_v3._Sidebar.HeaderView=$class(B.HoN_v3._Sidebar.BaseView,{template:"common/block.logo",init_data:function(){var e={logo_url:"/game",logo_rel:"mm"},t=B.HoN_v3.Partner.getLabel();return e["badoo"==t?"BADOO":"HOTORNOT"]=!0,this.set(e),this}}),B.HoN_v3._Sidebar.HeaderViewController=$class(B.HoN_v3._Sidebar.BaseViewController,{view:new B.HoN_v3._Sidebar.HeaderView,constructor:function(){$super(this,arguments),this.setInitialData()},init:function(){$e.on({".js-logo":this.onLogoClick},this)},onLogoClick:function(e){B.App.app_link(e.rel,e.href),B.HoN_v3.fire("sidebar:logo_clicked")}}),$gpb.exists("badoo.bma.PopularityLevel","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PopularityLevel=new $gpb.Enum("badoo.bma.PopularityLevel");t._values=[10,20,30,40,50],t.POPULARITY_LEVEL_VERY_LOW=10,t.POPULARITY_LEVEL_LOW=20,t.POPULARITY_LEVEL_AVERAGE=30,t.POPULARITY_LEVEL_HIGH=40,t.POPULARITY_LEVEL_VERY_HIGH=50}(),function(){function e(e,a){return e.write('<div class="scale').section(a.get(["_LARGE"],!1),a,{block:t},{}).write('" data-control-type="meter" data-value="').reference("value",a).write('" data-line-width="').reference("line_width",a).write('" data-size="').reference("size",a).write('" data-style="').reference("style",a).write('" ').section(a.get(["_COUNTERCLOCKWISE"],!1),a,{block:i},{}).write(" ").section(a.get(["_ANIMATION"],!1),a,{block:s},{}).write(" ").section(a.get(["_BACKGROUND"],!1),a,{block:o},{}).write(" ").section(a.get(["_BACKGROUND_COLOR"],!1),a,{block:n},{}).write("></div>")}function t(e){return e.write(" scale--lg")}function i(e){return e.write(' data-counterclockwise="true"')}function s(e,t){return e.write(' data-timing="').reference("animation_time",t).write('"')}function o(e,t){return e.write(' data-background="').helper("version",t,{},{url:"/v2/-/-/i/hotornot_v2/ui/scale.5.png"}).write('"')}function n(e,t){return e.write(' data-background="').reference("color",t).section(t.get(["_VERY_LOW"],!1),t,{block:a},{}).section(t.get(["_LOW"],!1),t,{block:r},{}).section(t.get(["_AVERAGE"],!1),t,{block:l},{}).section(t.get(["_HIGH"],!1),t,{block:_},{}).section(t.get(["_VERY_HIGH"],!1),t,{block:p},{}).write('"')}function a(e){return e.write("#ea1b38")}function r(e){return e.write("#ff4200")}function l(e){return e.write("#ff6422")}function _(e){return e.write("#00cb00")}function p(e){return e.write("#00a25e")}return $u.dust.register("components/block.meter",e),e.s={_LARGE:t,_COUNTERCLOCKWISE:i,_ANIMATION:s,_BACKGROUND:o,_BACKGROUND_COLOR:n},n.s={_VERY_LOW:a,_LOW:r,_AVERAGE:l,_HIGH:_,_VERY_HIGH:p},e}(),B.HoN_v3._Sidebar.PopularityMeterView=$class(B.HoN_v3._Sidebar.BaseView,{template:"components/block.meter",init_data:function(e){var t={_LARGE:!1,value:2*e.popularity_level,line_width:4,size:54,style:"LIGHT",_COUNTERCLOCKWISE:!0,_ANIMATION:{animation_time:0},_BACKGROUND:!1,_BACKGROUND_COLOR:{}};return t._BACKGROUND_COLOR["_"+e.popularity_level_str]=!0,this.set(t),this}}),$l.register({section:"hon/profile",lang:"en-us",translations:{GRADUATION_YEAR_START:"select year",LANGUAGE_MORE_START:"Select language",RELATIONSHIP:{None:"no answer",Single:{M:"Single",F:"Single"},Taken:{M:"Taken",F:"Taken"},Open:{M:"Open",F:"Open"}},SEXUALITY:{None:"no answer",Gay:{M:"Gay",F:"Lesbian"},OpenMinded:{M:"Open-minded",F:"Open-minded"},Straight:{M:"Straight",F:"Straight"},Bi:{M:"Bisexual",F:"Bisexual"}},INTERESTED_IN:{Friends:"Meet new people",Partners:"Find people to party",Photos:"Share and explore",Chatting:"Discuss the world",Dating:"Dating..."},INTERESTED_IN_MORE:{Both:"Men and Women",Men:"Men",Women:"Women"},INCOME:{Low:"Low",Average:"Average",High:"High",None:"no answer"},BODY:{Average:"Average",ExtraPounds:"A few extra pounds",None:"no answer",Athletic:{M:"Athletic",F:"Athletic"},Muscular:{M:"Muscular",F:"Muscular"},Slim:{M:"Slim",F:"Slim"},OverWeight:{M:"Big and bold",F:"Big and beautiful"}},HAIR:{None:"no answer",Black:"Black",Brown:"Brown",Red:"Red",Blond:"Blond",Grey:"Grey",White:"White",Shaved:"Shaved",Dyed:"Dyed",Bald:{M:"Bald",F:"Bald"}},PIERCING:{Yes:"Have piercings"},TATTOO:{Yes:"Have tattoos"},EDUCATION:{School:"School only",Technical:"Trade/Technical",University:"College/University",Degree:"Advanced degree",None:"no answer"},CHILDREN:{Never:"No, never",Someday:"Someday",HavePlenty:"Already have",None:"no answer",EmptyNest:"Grown up"},RELIGION:{Not:{M:"Agnostic",F:"Agnostic"},Atheist:{M:"Atheist",F:"Atheist"},Buddhist:{M:"Buddhist",F:"Buddhist"},Christian:{M:"Christian",F:"Christian"},Hindu:{M:"Hindu",F:"Hindu"},Jewish:{M:"Jewish",F:"Jewish"},Muslim:{M:"Muslim",F:"Muslim"},Spiritual:{M:"Spiritual",F:"Spiritual"},None:{M:"no answer",F:"no answer"}},POLITICAL:{Anarchist:{M:"Anarchist",F:"Anarchist"},Communist:{M:"Communist",F:"Communist"},Socialist:{M:"Socialist",F:"Socialist"},Liberal:{M:"Liberal",F:"Liberal"},Moderate:{M:"Moderate",F:"Moderate"},Conservative:{M:"Conservative",F:"Conservative"},Right:{M:"Far right",F:"Far right"},None:{M:"no answer",F:"no answer"}},UFO:{Fake:"UFOs are fake",Real:"UFOs are real",Seen:"I have seen a UFO",Probed:"I have been abducted and probed by a UFO",None:"no answer"},LIVING:{Parents:"With parents",Roommate:"With housemate(s)",Dormitory:"Student dormitory",Partner:"With partner",None:"no answer",Alone:{M:"Alone",F:"Alone"}},DIETARY:{Vegetarian:{M:"Vegetarian",F:"Vegetarian"},Vegan:{M:"Vegan",F:"Vegan"},Meat:{M:"Meat eater",F:"Meat eater"},Omnivore:{M:"Conscientious omnivore",F:"Conscientious omnivore"},Organic:{M:"Organic eater",F:"Organic eater"},All:{M:"Junk food junkie",F:"Junk food junkie"},None:{M:"no answer",F:"no answer"}},ALCO_DRINK:{Beer:"Beer",Wine:"Wine",Cocktails:"Cocktails",Spirits:"Liquor/spirits",Anything:"Anything",No:"No alcohol for me, thanks",None:"no answer"},GET_DRUNK:{None:"no answer",Fight:{M:"Looking for a fight",F:"Looking for a fight"},Lethargic:{M:"Lethargic",F:"Lethargic"},Dont:{M:"I don't get drunk, thank you very much!",F:"I don't get drunk, thank you very much!"},Horny:{M:"Horny",F:"Horny"},Party:{M:"Life of the party",F:"Life of the party"},NotFunny:{M:"Not as funny as I think I'm being",F:"Not as funny as I think I'm being"},Vomiting:{M:"Vomiting",F:"Vomiting"},Hungry:{M:"Hungry",F:"Hungry"},Crying:{M:"Crying",F:"Crying"}},SMOKING:{None:"no answer",No:{M:"Non-smoker",F:"Non-smoker"},DontLike:{M:"Anti-smoker",F:"Anti-smoker"},Yes:{M:"Smoker",F:"Smoker"},Social:{M:"Social smoker",F:"Social smoker"},Chain:{M:"Chain-smoker",F:"Chain-smoker"}},PROFILE_LIST_TITLES:{background_text:"Passions & Expertise",music:"In music",movies:"In movies, books & TV",sport:"In sports"},PROFILE_LIST_EXAMPLES:{music:"Weezer, Doors, Chamillionaire, Madonna, The Shins, NIN, Black Eyed Peas, Feist, Jeff Buckley, Bob Dylan",sport:"Football, Soccer, Basketball, Baseball, Water Polo, Giants, Bucs, Manchester United, Real Madrid, David Beckham, Patrick Ewing, Michael Jordan, Bo Jackson, Pele",background_text:"photography, web design, stamp collecting, acting, fishing, playing guitar, PR, financial consulting, landscape painting, art collecting, computer programming, sailing",movies:{movies:"Bottle Rocket, Braveheart, Splash, Run Lola Run, Swingers, The Godfather, 12 Monkeys, Fear and Loathing in Las Vegas",books:"On the Road, War and Peace, The Great Gatsby, To Kill a Mockingbird, Jitterbug Perfume, The Things They Carried",tv:"Sopranos, Lost, Weeds, Desperate Housewives, Seinfeld, Friends, Sex and the City, Studio 60, Law and Order, CSI, Family Ties, Cheers"}},METRIC:{Cm:"{{value}}cm",Kg:"{{value}}kg",Foot:"{{foot}}' {{inch}}''",Pound:"{{value}} {{lbs}}",Less:"less than {{value}}",More:"more than {{value}}"},PROFILE_JS_TEXTS:{default_confirm_msg:"You have not saved your changes yet.\r\nClick OK to close this block, or click Cancel to continue editing and save your profile.",tpl_confirm_msg:'You have not saved your changes yet.\r\nClick OK to close this block, or click Cancel to continue editing and save "{section}".',edit_basic_form:"Your basic details",edit_personal_form:"Personal info",interest_tpl:"Remove",confirm_leave:'You have not saved your changes yet.\r\nClick "OK" to save your changes and continue or "Cancel" to proceed without saving.',confirm_unload:'You have not saved your changes yet.\r\nClick "Cancel" to return to the page and then click the "Save changes" button to save your work.',edit_languages_form:"Spoken languages",edit_favorites_form:"Interests",edit_education_form:"Education",edit_work_form:"Work",note:"Start typing and select your city from the list",loading:"Loading...",nothing_found_select:"Select from the list",nothing_found_text:"City not found"},PROFILE_FIELD_TITLES:{relationship:"Relationship status",sexuality:"Sexuality",height_metric:"Height, cm",height_english:"Height, ft' in\"",weight_metric:"Weight, kg",weight_english:"Weight, lbs",interested_in:"Here to",body:"Body type",hair:"Hair color",piercing:"Have piercings",tattoo:"Have tattoos",living:"Living",children:"Kids",smoking:"Smoking",language:"Spoken languages",name:"Name or nickname",birth_date:"Birthday",birth_day:"Day",birth_month:"Month",birth_year:"Year",location:"Location",gender:"Gender",drinking:"Drinking",education:"Education",languages:"Languages",work:"Work",appearance:"Appearance"},PROFILE_PART_TITLES:{personal:"Personal info",languages:"Spoken languages",favorites:"Interests",education:"Education",work:"Work",basic:"Basic info",about:"About me",location:"Location",interested_in:{M:"Interested in",F:"Interested in"}},EYES:{None:"no answer",Brown:"Brown",Grey:"Grey",Green:"Green",Blue:"Blue",Hazel:"Hazel",Other:"Other"},DRINKING:{No:"No",NoAtAll:"Anti-drinking",Yes:"Yes, please!",InCompany:"With company",None:"no answer"},GRAMMAR:{gender:{M:{MALE_UPPERCASE:"guy",FEMALE_UPPERCASE:""},F:{MALE_UPPERCASE:"",FEMALE_UPPERCASE:"girl"}},interested_in:{Friends:"meet new people",Partners:"find people to party",Photos:"share and explore",Chatting:"discuss the world",Dating_Both:"date men or women",Dating_Men:"date men",Dating_Women:"date women"},relationship:{Single:{MALE_UPPERCASE:"I'm single",FEMALE_UPPERCASE:"I'm single"},Taken:{MALE_UPPERCASE:"I'm taken",FEMALE_UPPERCASE:"I'm taken"},Open:{MALE_UPPERCASE:"I'm in an open relationship",FEMALE_UPPERCASE:"I'm in an open relationship"}},sexuality:{Straight:{MALE_UPPERCASE:"I'm straight",FEMALE_UPPERCASE:"I'm straight",MALE_LOWERCASE:"straight",FEMALE_LOWERCASE:"straight",MALE_TIW:"He's straight",FEMALE_TIW:"She's straight"},OpenMinded:{MALE_UPPERCASE:"I'm open-minded",FEMALE_UPPERCASE:"I'm open-minded",MALE_LOWERCASE:"open-minded",FEMALE_LOWERCASE:"open-minded",MALE_TIW:"He's open-minded",FEMALE_TIW:"She's open-minded"},Bi:{MALE_UPPERCASE:"I'm bisexual",FEMALE_UPPERCASE:"I'm bisexual",MALE_LOWERCASE:"bisexual",FEMALE_LOWERCASE:"bisexual",MALE_TIW:"He's bisexual",FEMALE_TIW:"She's bisexual"},Gay:{MALE_UPPERCASE:"I'm gay",FEMALE_UPPERCASE:"I'm a lesbian",MALE_LOWERCASE:"gay",FEMALE_LOWERCASE:"lesbian",MALE_TIW:"He's gay",FEMALE_TIW:"She's lesbian"}},body:{Slim:{MALE_UPPERCASE:"Slim body",FEMALE_UPPERCASE:"Slim body",MALE_LOWERCASE:"slim body",FEMALE_LOWERCASE:"slim body",MALE_TIW:"He has a slim body",FEMALE_TIW:"She has slim body"},Average:{MALE_UPPERCASE:"Average body",FEMALE_UPPERCASE:"Average body",MALE_LOWERCASE:"average body",FEMALE_LOWERCASE:"average body",MALE_TIW:"He has an average body",FEMALE_TIW:"She has an average body"},Athletic:{MALE_UPPERCASE:"Athletic body",FEMALE_UPPERCASE:"Athletic body",MALE_LOWERCASE:"athletic body",FEMALE_LOWERCASE:"athletic body",MALE_TIW:"He has an athletic body",FEMALE_TIW:"She has an athletic body"},Muscular:{MALE_UPPERCASE:"Muscular body",FEMALE_UPPERCASE:"Muscular body",MALE_LOWERCASE:"muscular body",FEMALE_LOWERCASE:"muscular body",MALE_TIW:"He has a muscular body",FEMALE_TIW:"She has a muscular body"},ExtraPounds:{MALE_UPPERCASE:"A few extra pounds",FEMALE_UPPERCASE:"A few extra pounds",MALE_LOWERCASE:"a few extra pounds",FEMALE_LOWERCASE:"a few extra pounds",MALE_TIW:"He has a few extra pounds",FEMALE_TIW:"She has a few extra pounds"},OverWeight:{MALE_UPPERCASE:"Big and bold",FEMALE_UPPERCASE:"Big and beautiful",MALE_LOWERCASE:"big and bold",FEMALE_LOWERCASE:"big and beautiful",MALE_TIW:"He's big and bold",FEMALE_TIW:"She's big and beautiful"}},hair:{Black:{MALE_UPPERCASE:"Black hair",FEMALE_UPPERCASE:"Black hair",MALE_LOWERCASE:"black hair",FEMALE_LOWERCASE:"black hair",MALE_TIW:"He has black hair",FEMALE_TIW:"She has black hair"},Brown:{MALE_UPPERCASE:"Brown hair",FEMALE_UPPERCASE:"Brown hair",MALE_LOWERCASE:"brown hair",FEMALE_LOWERCASE:"brown hair",MALE_TIW:"He has brown hair",FEMALE_TIW:"She has brown hair"},Red:{MALE_UPPERCASE:"Red hair",FEMALE_UPPERCASE:"Red hair",MALE_LOWERCASE:"red hair",FEMALE_LOWERCASE:"red hair",MALE_TIW:"He has red hair",FEMALE_TIW:"She has red hair"},Blond:{MALE_UPPERCASE:"Blond hair",FEMALE_UPPERCASE:"Blonde hair",MALE_LOWERCASE:"blond hair",FEMALE_LOWERCASE:"blonde hair",MALE_TIW:"He has blond hair",FEMALE_TIW:"She has blonde hair"},Grey:{MALE_UPPERCASE:"Grey hair",FEMALE_UPPERCASE:"Grey hair",MALE_LOWERCASE:"grey hair",FEMALE_LOWERCASE:"grey hair",MALE_TIW:"He has grey hair",FEMALE_TIW:"She has grey hair"},White:{MALE_UPPERCASE:"White hair",FEMALE_UPPERCASE:"White hair",MALE_LOWERCASE:"white hair",FEMALE_LOWERCASE:"white hair",MALE_TIW:"He has white hair",FEMALE_TIW:"She has white hair"},Shaved:{MALE_UPPERCASE:"Shaved hair",FEMALE_UPPERCASE:"Shaved hair",MALE_LOWERCASE:"shaved hair",FEMALE_LOWERCASE:"shaved hair",MALE_TIW:"He has shaved hair",FEMALE_TIW:"She has shaved hair"},Bald:{MALE_UPPERCASE:"Bald",FEMALE_UPPERCASE:"Bald",MALE_LOWERCASE:"bald",FEMALE_LOWERCASE:"bald",MALE_TIW:"He's bald",FEMALE_TIW:"She's bald"},Dyed:{MALE_UPPERCASE:"Dyed hair",FEMALE_UPPERCASE:"Dyed hair",MALE_LOWERCASE:"dyed hair",FEMALE_LOWERCASE:"dyed hair",MALE_TIW:"He has dyed hair",FEMALE_TIW:"She has dyed hair"}},eyes:{Black:{MALE_UPPERCASE:"Black eyes",FEMALE_UPPERCASE:"Black eyes",MALE_LOWERCASE:"black eyes",FEMALE_LOWERCASE:"black eyes",MALE_TIW:"He has black eyes",FEMALE_TIW:"She has black eyes"},Brown:{MALE_UPPERCASE:"Brown eyes",FEMALE_UPPERCASE:"Brown eyes",MALE_LOWERCASE:"brown eyes",FEMALE_LOWERCASE:"brown eyes",MALE_TIW:"He has brown eyes",FEMALE_TIW:"She has brown eyes"},Grey:{MALE_UPPERCASE:"Grey eyes",FEMALE_UPPERCASE:"Grey eyes",MALE_LOWERCASE:"grey eyes",FEMALE_LOWERCASE:"grey eyes",MALE_TIW:"He has grey eyes",FEMALE_TIW:"She has grey eyes"},Green:{MALE_UPPERCASE:"Green eyes",FEMALE_UPPERCASE:"Green eyes",MALE_LOWERCASE:"green eyes",FEMALE_LOWERCASE:"green eyes",MALE_TIW:"He has green eyes",FEMALE_TIW:"She has green eyes"},Blue:{MALE_UPPERCASE:"Blue eyes",FEMALE_UPPERCASE:"Blue eyes",MALE_LOWERCASE:"blue eyes",FEMALE_LOWERCASE:"blue eyes",MALE_TIW:"He has blue eyes",FEMALE_TIW:"She has blue eyes"},Hazel:{MALE_UPPERCASE:"Hazel eyes",FEMALE_UPPERCASE:"Hazel eyes",MALE_LOWERCASE:"hazel eyes",FEMALE_LOWERCASE:"hazel eyes",MALE_TIW:"He has hazel eyes",FEMALE_TIW:"She has hazel eyes"},Other:{MALE_UPPERCASE:"Other eyes",FEMALE_UPPERCASE:"Other eyes",MALE_LOWERCASE:"other eyes",FEMALE_LOWERCASE:"other eyes",MALE_TIW:"He has other eyes",FEMALE_TIW:"She has other eyes"}},tattoo:{Yes:"I have tattoos"},piercing:{Yes:{MALE_UPPERCASE:"I have piercings",FEMALE_UPPERCASE:"I have piercings",MALE_LOWERCASE:"piercings",FEMALE_LOWERCASE:"piercings"}},living:{Parents:{MALE:"With parents",FEMALE:"With parents"},Roommate:{MALE:"With housemate(s)",FEMALE:"With housemate(s)"},Dormitory:{MALE:"Student dormitory",FEMALE:"Student dormitory"},Partner:{MALE:{STRAIGHT:"With my partner",GAY:"With my partner"},FEMALE:{STRAIGHT:"With my partner",GAY:"With my partner"}},Alone:{MALE:"By myself",FEMALE:"By myself"}},children:{Never:"No, never",Someday:"Someday",HavePlenty:"Already have",HaveWant:"Already have",EmptyNest:"Grown up"},smoking:{No:{MALE:"Non-smoker",FEMALE:"Non-smoker"},DontLike:{MALE:"Anti-smoking",FEMALE:"Anti-smoking"},Social:{MALE:"Social smoker",FEMALE:"Social smoker"},Yes:{MALE:"Smoker",FEMALE:"Smoker"},Chain:{MALE:"Chain-smoker",FEMALE:"Chain-smoker"}},income:{Low:"I have a low income",Average:"I have a reasonable income",High:"I have a high income"},education:{School:"School only",Technical:"Trade/Technical",University:"College/University",Degree:"Advanced degree"},religion:{Not:{MALE:"I'm agnostic",FEMALE:"I'm agnostic"},Atheist:{MALE:"I'm an atheist",FEMALE:"I'm an atheist"},Buddhist:{MALE:"I'm a buddhist",FEMALE:"I'm a buddhist"},Christian:{MALE:"I'm a christian",FEMALE:"I'm a christian"},Hindu:{MALE:"I'm a hindu",FEMALE:"I'm a hindu"},Jewish:{MALE:"I'm jewish",FEMALE:"I'm jewish"},Muslim:{MALE:"I'm muslim",FEMALE:"I'm muslim"},Spiritual:{MALE:"I'm spiritual",FEMALE:"I'm spiritual"}},political:{Anarchist:"Politically I'm an anarchist",Communist:"Politically I'm a communist",Socialist:"Politically I'm a socialist",Liberal:"Politically I'm liberal",Moderate:"Politically I'm moderate",Conservative:"Politically I'm conservative",Right:"Politically I'm far right"},ufo:{Fake:"UFOs are fake",Real:"UFOs are real",Seen:"I have seen UFO's",Probed:"I have been abducted and probed by a UFO"},dietary:{Vegeterian:{MALE:"I'm a vegetarian",FEMALE:"I'm a vegetarian"},Vegan:{MALE:"I'm a vegan",FEMALE:"I'm a vegan"},Meat:{MALE:"I'm a meat eater",FEMALE:"I'm a meat eater"},Omnivore:{MALE:"I'm a conscientious omnivore",FEMALE:"I'm a conscientious omnivore"},Organic:{MALE:"I'm an organic eater",FEMALE:"I'm an organic eater"},All:{MALE:"I'm a junk food junkie",FEMALE:"I'm a junk food junkie"}},get_drunk:{Horny:{MALE:"When I get drunk, I get horny",FEMALE:"When I get drunk, I get horny"},Fight:{MALE:"When I get drunk, I look for a fight",FEMALE:"When I get drunk, I look for a fight"},Lethargic:{MALE:"When I get drunk, I get lethargic",FEMALE:"When I get drunk, I get lethargic"},Party:{MALE:"When I get drunk, I become the life of the party",FEMALE:"When I get drunk, I become the life of the party"},NotFunny:{MALE:"When I get drunk, I'm not as funny as I think I'm being",FEMALE:"When I get drunk, I'm not as funny as I think I'm being"},Vomiting:{MALE:"When I get drunk, I vomit",FEMALE:"When I get drunk, I vomit"},Hungry:{MALE:"When I get drunk, I get hungry",FEMALE:"When I get drunk, I get hungry"},Crying:{MALE:"When I get drunk, I cry",FEMALE:"When I get drunk, I cry"}},drinking:{No:"No",NoAtAll:"Not a fan of drinkers",Yes:"Yes, please!",InCompany:"Socially"},weight:{MALE:"His weight is {{value}}",FEMALE:"Her weight is {{value}}"},height:{MALE:"His height is {{value}}",FEMALE:"Her height is {{value}}"},_language_select_level:{None:"Select level",Low:"Low",Average:"Average",Fluent:"Fluent",Native:"Native"},_language_level:{None:"",Low:"low",Average:"average",Fluent:"fluent",Native:"native"},age:{MALE:"I am {{age}} {{years}} old",FEMALE:"I am {{age}} {{years}} old"}},TABS:{photos:"Photos",photos_and_videos:"Photos and Videos"},TITLES:{standart:"{{PAGE_partner_name}} &ndash; {{name}}, {{age}}, {{location}}",clientside:"{{name}}, {{num_years}} | {{PAGE_partner_name}}",404:"We can't seem to find this page",unavailable:"We're sorry, this page is temporarily unavailable"},PROMO:{Verification:"Congratulations, your mobile number is safely linked to your account.",AccountVerification:"Congratulations, your account is verified"},GRAMMAR_TEMPLATES:{WORK:{company_name_income_profession:"{{profession}}, {{company_name}}. {{income}}",company_name_profession:"{{profession}}, {{company_name}}",company_name_income:"{{company_name}}. {{income}}",income_profession:"{{profession}}. {{income}}"},APPEARANCE:{body_eyes:"{{body}} and {{eyes}}",body_hair:"{{body}} and {{hair}}",eyes_hair:"{{hair}} and {{eyes}}",body_eyes_hair:"{{body}}, {{hair}} and {{eyes}}",body_height:"{{height}}, {{body}}",eyes_height:"{{height}}, {{eyes}}",body_eyes_height:"{{height}}, {{body}} and {{eyes}}",hair_height:"{{height}}, {{hair}}",body_hair_height:"{{height}}, {{body}} and {{hair}}",eyes_hair_height:"{{height}}, {{hair}} and {{eyes}}",body_eyes_hair_height:"{{height}}, {{body}}, {{hair}} and {{eyes}}",body_sexuality:"{{sexuality}}, {{body}}",eyes_sexuality:"{{sexuality}}, {{eyes}}",body_eyes_sexuality:"{{sexuality}}, {{body}} and {{eyes}}",hair_sexuality:"{{sexuality}}, {{hair}}",body_hair_sexuality:"{{sexuality}}, {{body}} and {{hair}}",eyes_hair_sexuality:"{{sexuality}}, {{hair}} and {{eyes}}",body_eyes_hair_sexuality:"{{sexuality}}, {{body}}, {{hair}} and {{eyes}}",height_sexuality:"{{sexuality}}, {{height}}",body_height_sexuality:"{{sexuality}}, {{height}}, {{body}}",eyes_height_sexuality:"{{sexuality}}, {{height}}, {{eyes}}",body_eyes_height_sexuality:"{{sexuality}}, {{height}}, {{body}} and {{eyes}}",hair_height_sexuality:"{{sexuality}}, {{height}}, {{hair}}",body_hair_height_sexuality:"{{sexuality}}, {{height}}, {{body}} and {{hair}}",eyes_hair_height_sexuality:"{{sexuality}}, {{height}}, {{hair}} and {{eyes}}",body_eyes_hair_height_sexuality:"{{sexuality}}, {{height}}, {{body}}, {{hair}} and {{eyes}}",body_weight:"{{weight}}, {{body}}",eyes_weight:"{{weight}}, {{eyes}}",body_eyes_weight:"{{weight}}, {{body}} and {{eyes}}",hair_weight:"{{weight}}, {{hair}}",body_hair_weight:"{{weight}}, {{body}} and {{hair}}",eyes_hair_weight:"{{weight}}, {{hair}} and {{eyes}}",body_eyes_hair_weight:"{{weight}}, {{body}}, {{hair}} and {{eyes}}",height_weight:"{{height}}, {{weight}}",body_height_weight:"{{height}}, {{weight}}, {{body}}",eyes_height_weight:"{{height}}, {{weight}}, {{eyes}}",body_eyes_height_weight:"{{height}}, {{weight}}, {{body}} and {{eyes}}",hair_height_weight:"{{height}}, {{weight}}, {{hair}}",body_hair_height_weight:"{{height}}, {{weight}}, {{body}} and {{hair}}",eyes_hair_height_weight:"{{height}}, {{weight}}, {{hair}} and {{eyes}}",body_eyes_hair_height_weight:"{{height}}, {{weight}}, {{body}}, {{hair}} and {{eyes}}",sexuality_weight:"{{sexuality}}, {{weight}}",body_sexuality_weight:"{{sexuality}}, {{weight}}, {{body}}",eyes_sexuality_weight:"{{sexuality}}, {{weight}}, {{eyes}}",body_eyes_sexuality_weight:"{{sexuality}}, {{weight}}, {{body}} and {{eyes}}",hair_sexuality_weight:"{{sexuality}}, {{weight}}, {{hair}}",body_hair_sexuality_weight:"{{sexuality}}, {{weight}}, {{body}} and {{hair}}",eyes_hair_sexuality_weight:"{{sexuality}}, {{weight}}, {{hair}} and {{eyes}}",body_eyes_hair_sexuality_weight:"{{sexuality}}, {{weight}}, {{body}}, {{hair}} and {{eyes}}",height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}",body_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{body}}",eyes_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{eyes}}",body_eyes_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{body}} and {{eyes}}",hair_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{hair}}",body_hair_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{body}} and {{hair}}",eyes_hair_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{hair}} and {{eyes}}",body_eyes_hair_height_sexuality_weight:"{{sexuality}}, {{height}}, {{weight}}, {{body}}, {{hair}} and {{eyes}}"},EDUCATION_HISTORY:{education_graduation_year_institution:"{{education}}, {{institution}}, {{graduation_year}}",education_graduation_year:"{{education}}, {{graduation_year}}",graduation_year_institution:"{{institution}}, {{graduation_year}}",education_institution:"{{education}}, {{institution}}"}},EMPTY_VALUE_TEXT:{"default":"",advanced_search_overlay:"Add details for your profile"},DEFAULT_NAMES:{M:"John Doe",F:"Jane Doe"},ERRORS:{empty_field_name:"Enter a title"},HEADER:{HIS_INTERESTS:"HIS<br>INTERESTS",HER_INTERESTS:"HER<br>INTERESTS",HIS_FRIENDS:"HIS<br>FRIENDS",HER_FRIENDS:"HER<br>FRIENDS",YOUR_FRIENDS_MALE:"YOUR<br>FRIENDS",YOUR_FRIENDS_FEMALE:"YOUR<br>FRIENDS",YOUR_INTERESTS_MALE:"YOUR<br>INTERESTS",YOUR_INTERESTS_FEMALE:"YOUR<br>INTERESTS"},HON_HEADER:{HIS_INTERESTS:"his<br>interests",HER_INTERESTS:"her<br>interests",HIS_FRIENDS:"his<br>friends",HER_FRIENDS:"her<br>friends",YOUR_FRIENDS_MALE:"your<br>friends",YOUR_FRIENDS_FEMALE:"your<br>friends",YOUR_INTERESTS_MALE:"your<br>interests",YOUR_INTERESTS_FEMALE:"your<br>interests"},HON_CATEGORY:{INTERESTS:"{{num}} {{interests}}",NO_INTERESTS:"Interests"},OTHERS_PROFILE_IS_VERIFIED:{MALE:"Profile is verified",FEMALE:"Profile is verified"},MY_PROFILE_IS_VERIFIED:{MALE:"Profile is verified",FEMALE:"Profile is verified"},HON_PROFILE_HOTTEST_FRIEND_CHOICE:{MALE:"Guys",FEMALE:"Girls",ANY:"All"},POPULARITY_LEVELS:{VERY_LOW:"Very low",LOW:"Low",AVERAGE:"Average",HIGH:"High",VERY_HIGH:"Very high"},EDUCATION_JOB_HISTORY:{not_selected:"Not selected",job:"{{company}}, {{profession}}",education:"{{education}}, {{graduation_year}}",do_not_show:"Don't show",school:"School {{school}}"}}}),B.HoN_v3._Sidebar.UserView=$class(B.HoN_v3._Sidebar.BaseView,{template:"sidebar/block.sidebar",block:"AUTH_PROFILE",init_data:function(e){var t=e.user,i=e.features,s=e.photo_url,o=e.is_invisible,n=B.HoN_v3.Partner,a={user_name:t.getName(),url:"/profile/0"+t.getUserId()+"?from_my_profile=1",state:"profile-edit",user_photo:s},r=n.Features.extendedPopularity();
if(r){var l={};l[$p.PopularityLevel.POPULARITY_LEVEL_VERY_LOW]="VERY_LOW",l[$p.PopularityLevel.POPULARITY_LEVEL_LOW]="LOW",l[$p.PopularityLevel.POPULARITY_LEVEL_AVERAGE]="AVERAGE",l[$p.PopularityLevel.POPULARITY_LEVEL_HIGH]="HIGH",l[$p.PopularityLevel.POPULARITY_LEVEL_VERY_HIGH]="VERY_HIGH";var _=t.getPopularityLevel(),p=l[_],c=new B.HoN_v3._Sidebar.PopularityMeterView;c.init_data({popularity_level:_,popularity_level_str:p});var u=null;void 0!==e.vip_link&&(u={_ACTIVE:e.vip_link,_INACTIVE:!e.vip_link}),$config(a,{_POPULARITY:!0,_INVISIBLE:o,_SCALE_POPULARITY:{HTMLBLOCK_METER:c},POPULARITY_LEVEL:{level:$l.get("hon/profile","POPULARITY_LEVELS")[p]},POPULARITY_BUTTON:!0,PAYMENTS:{CREDITS:{url:"/credits",state:"credits",_ACTIVE:t.getCredits()>0,credits_count:$l.getFormattedNumber(t.getCredits()),PAGE_partner_name:B.HoN_v3.Partner.get_name()},SPP:e.allowShowSPP&&{_ACTIVE:i.ALLOW_SUPER_POWERS,url:"/spp",state:"spp-promo"},VIP:u}}),a.POPULARITY_LEVEL["_"+p]=!0}else $config(a,{PHOTOS:{photos_count:t.getPhotoCount()}});return n.canSignout()&&$config(a,{SIGN_OUT_BUTTON:!0}),this.set(a),this}}),B.HoN_v3._Sidebar.UserView.NO_PHOTO_URL=$r.images_root+"/v2/-/-/i/hotornot_v2/48_nophoto.1.png",B.HoN_v3._Sidebar.UserView.INVISIBLE_PHOTO_URL=$r.images_root+"/v2/-/-/i/hotornot_v2/40_invisible.1.png",function(){function e(e,t){return e.write('<div id="sidebar-promo" class="sidebar-datalist_ confirm js-fx-wrap fx"> <div class="js-fx-content"> <div class="sidebar-datalist"> <i class="icon ico--grey ico--cross-sm confirm__close js-fx-transition js-sidebar-credits-hide" data-fx-wrap="sidebar-promo"></i> <img src="').helper("version",t,{},{url:"/v2/-/-/i/hotornot_v2/credits-confirm-double.7.png"}).write('" srcset="').helper("version",t,{},{url:"/v2/-/-/i/hotornot_v2/credits-confirm-double.7.png"}).write(" 1x, ").helper("version",t,{},{url:"/v2/-/-/i/hotornot_v2/credits-confirm-double@2x.2.png"}).write(' 2x" width="70" height="30" class="confirm__img" alt=""> <h4 class="confirm__title">Get double credits!</h4> <p class="confirm__txt">Hurry up! This offer is only available to you for <b>').reference("day",t).write(" more ").reference("days",t).write('</b>.</p> <div class="btn btn--sm btn--blue"> <span class="btn-txt">Find out more</span> <a href="').reference("url",t).write('" class="b-link js-fx-transition js-sidebar-credits-showdetails" data-fx-wrap="sidebar-promo" rel="').reference("rel",t).write('"></a> </div> </div> </div> </div>')}return $u.dust.register("sidebar/block.credits-alert",e),e}(),B.HoN_v3._Sidebar.CreditsAlertView=$class(B.HoN_v3._Sidebar.BaseView,{template:"sidebar/block.credits-alert",init_data:function(e){var t={day:e.day,days:e.days,url:"/credits",rel:"credits"};return this.set(t),this}}),B.HoN_v3._Sidebar.UserViewController=$class(B.HoN_v3._Sidebar.BaseViewController,{view:new B.HoN_v3._Sidebar.UserView,photosCountEl:null,sppStatusEl:null,creditsEl:null,promoHolder:null,elTransitioning:null,user:null,settings:null,new_photo:null,$b:null,constructor:function(){$super(this,arguments)},destroy:function(){this.vip_ovl_view=null,this.cancelTransition(),$super(this,arguments)},init:function(){this.photosCountEl=$el.down(this.rootEl,".js-sidebar-photos-count"),this.sppStatusEl=$el.down(this.rootEl,".js-sidebar-spp"),this.vipStatusEl=$el.down(this.rootEl,".js-sidebar-vip"),this.creditsEl=$el.down(this.rootEl,".js-sidebar-credits"),this.promoHolder=$el.down(this.rootEl,".js-sidebar-alert"),this.sidebarPromo=$("sidebar-promo"),this.$b=B.on({"profile:change_photo":this.setProfilePhoto,"app-settings:change":this.setNewSettings,"profile:change_photos_total":this.setPhotosCount,"profile:change_name":this.setName,"credits:update_amount":this.setCreditsAmount,"spp:change_status":this.setSppStatus,"vip:change_status":this.vipUpdate},this),this.$e=$e.on({".js-sidebar-popularity-button":this.onPopularityButton,".js-sidebar-popularity-link":this.onPopularityLink,".js-sidebar-credits-showdetails":this.onShowDoubleCreditsLink,".js-sidebar-credits-hide":this.onHideDoubleCredits},this),this.promoHolder&&this._fetchIsCreditaAlertOnStartupOpened()},cancelTransition:function(){this.collapse_transition&&(this.collapse_transition.clear(),this.collapse_transition=null)},destroyDoubleCreditsPromoDom:function(){var e=$("sidebar-promo");e&&($el.remove(e),this.cancelTransition(),$el.del(this.creditsEl,"sidebar-payments__item--double-credits"))},doubleCreditsPromoHidden:function(e){if(this.destroyDoubleCreditsPromoDom(),e){var t=e.getAttribute("rel"),i=e.getAttribute("href");B.App.app_link(t,i)}},onShowDoubleCreditsLink:function(e){this.collapse_transition=$u.transition.wait(this.elTransitioning,this.doubleCreditsPromoHidden.bind(this,e),this)},onHideDoubleCredits:function(){this.collapse_transition=$u.transition.wait(this.elTransitioning,this.doubleCreditsPromoHidden,this)},onPopularityButton:function(){this.openPopularity("from=button")},onPopularityLink:function(){this.openPopularity()},isPopularityEnabled:function(){var e=B.Features.getFeature($p.FeatureType.ALLOW_LOAD_POPULARITY);return e&&e.getEnabled()},openPopularity:function(e){if(!this.isPopularityEnabled())return B.Upload2.UploadOverlayController.open("photos_of_me_blocker"),void 0;var t="/popularity";e&&(t+="?"+e),B.App.app_link("popularity",t)},setUser:function(e){this.user=e,this.initiateIfReady()},setSettings:function(e){this.settings=e,this.initiateIfReady()},initiateIfReady:function(){if(this.user&&this.settings){var e=B.Features.getFeature($p.FeatureType.ALLOW_SUPER_POWERS),t=B.Features.getFeature("ALLOW_PAID_VIP"),i={user:this.user,photo_url:this.getProfilePhotoUrl(),is_invisible:this.shouldShowAsInvisible(),features:{ALLOW_SUPER_POWERS:e.getEnabled()},allowShowSPP:e.getRequiredAction()!==$p.ActionType.NO_ACTION};t&&t.getRequiredAction()!==$p.ActionType.NO_ACTION&&(i.vip_link=t.getEnabled()),this.setInitialData(i),this.setPhotosCount(this.user.getPhotoCount())}},setName:function(e){e&&this.isRendered&&($el.down(this.rootEl,".js-user-name").innerHTML=e)},setPhotosCount:function(e){this.isRendered&&this.photosCountEl&&$el.dom.html(this.photosCountEl,e)},setProfilePhoto:function(e){this.new_photo=e,this.reloadPhoto()},setNewSettings:function(){B.HoN_v3.Models.Cache.AppSettingsCache.fetch(this.onSettingsFetched,this)},onSettingsFetched:function(e){this.settings=e.getSettings(),this.reloadPhoto()},reloadPhoto:function(){if(this.isRendered){var e=$("header_ico");e.src=this.getProfilePhotoUrl();var t=$("header_ico_wrapper");$el.tgl(t,"brick--invisible",this.shouldShowAsInvisible())}},setSppStatus:function(e){this.sppStatusEl&&$el.tgl(this.sppStatusEl,"sidebar-payments__item--active",e),this.setNewSettings()},vipUpdate:function(e){this.vipStatusEl&&$el.tgl(this.vipStatusEl,"sidebar-payments__item--active",e)},setCreditsAmount:function(e){this.creditsEl&&e&&"formatted_amount"in e&&($el.tgl(this.creditsEl,"sidebar-payments__item--active",parseInt(e.formatted_amount,10)>0),$el.down(this.creditsEl,".js-sidebar-credits-txt").innerHTML=e.formatted_amount)},shouldShowAsInvisible:function(){var e=B.Features.getFeature($p.FeatureType.ALLOW_SUPER_POWERS);return e.getEnabled()?this.settings.getPrivacyConcealMyPresence()||this.settings.getPrivacyDontListMe()||this.settings.getPrivacyDontShowSpp():!1},getProfilePhotoUrl:function(){return this.shouldShowAsInvisible()?B.HoN_v3._Sidebar.UserView.INVISIBLE_PHOTO_URL:this.new_photo?this.new_photo.photo_url.replace(/^https?:/,window.location.protocol):this.user.getProfilePhoto()?this.user.getProfilePhoto().getPreviewUrl():B.HoN_v3._Sidebar.UserView.NO_PHOTO_URL},_fetchIsCreditaAlertOnStartupOpened:function(){B.HoN_v3.Models.Cache.CommonSettingsCache.fetch(this._onCommonSettings,this)},_onCommonSettings:function(e){var t=e.getSettings(),i=t.getWebSpecificOptions()&&t.getWebSpecificOptions().getCreditsPromoPopup();if(i&&i.getType()===$p.CreditPromoPopupType.DOUBLE_CREDITS){var s=i.getDaysTillExpire();$el.dom.append(this.promoHolder,$u.tpl2el((new B.HoN_v3._Sidebar.CreditsAlertView).init_data({day:s,days:$l.get_num_dependent("day",s)}).toString())),this.elTransitioning=$el.down(this.rootEl,".js-fx-content"),$el.add(this.creditsEl,"sidebar-payments__item--double-credits")}}}),B.HoN_v3._Sidebar.NavView=$class(B.HoN_v3._Sidebar.BaseView,{template:"sidebar/block.sidebar",block:"MENU",init_data:function(e){var t=e.features,i="";t.ALLOW_OPEN_FRIENDS_HOT_LIST&&t.ALLOW_OPEN_FRIENDS_HOT_LIST.enabled?i="/friends-hot-list":t.ALLOW_OPEN_LOCAL_HOT&&t.ALLOW_OPEN_LOCAL_HOT.enabled?i="/hot-list":t.ALLOW_OPEN_UNIVERSITY_HOT_LIST&&t.ALLOW_OPEN_UNIVERSITY_HOT_LIST.enabled&&(i="/university-hot-list");var s=B.HoN_v3.Partner.Features.isLikedMode(),o=t.ALLOW_OPEN_VISITORS.exist&&B.Features.getFeature("ALLOW_OPEN_VISITORS").getRequiredAction()!=$p.ActionType.NO_ACTION,n={GAME_ITEM:t.ALLOW_OPEN_ENCOUNTERS.enabled&&{state:"mm",url:"/game",FILTER_EDIT:!0,ENCOUNTERS_LABEL:!0,_FILTER_IS_OPENED:!1,HTMLBLOCK_FILTER_FORM:""},PNB_ITEM:t.ALLOW_OPEN_PEOPLE_NEARBY.enabled&&{state:"search",url:"/search"},CONNECTIONS_ITEM:t.ALLOW_OPEN_MESSAGES.enabled&&{state:"messenger-open",url:"/messenger/open",_NO_PHOTO:!1,ovl_url:"/no_photos",FBAPP_LABEL:!0,_NO_NEW_MESSAGES_SM:!0,_NO_NEW_MESSAGES:!0,count:0},FANS_ITEM:t.ALLOW_OPEN_WANT_YOU.enabled&&{state:"fans",url:"/fans",_HIDDEN:!1,_NO_NEW_FANS_SM:!0,_NO_NEW_FANS:!0,count:0,LIKED_YOU:s,FANS:!s},HOTLISTS_ITEM:""!==i&&{state:"hotlist",url:i},FAVORITES_ITEM:t.ALLOW_OPEN_FAVOURITES.enabled&&{state:"favorites",url:"/added-you-to-favourite",_HIDDEN:!1,_NOT_NEW_SM:!0,_NOT_NEW:!0,count:0},VISITORS_ITEM:o&&{state:"visitors",url:"/visitors",_HIDDEN:!1,_NOT_NEW_SM:!0,_NOT_NEW:!0,count:0},GETAPP_ITEM:t.ALLOW_OPEN_MOBILE_APP_PROMO.enabled&&{_OVL:{ovl_url:"/ws/get-app-ovl?ref=web-ovl-menu"}}};return this.set(n),this}}),$gpb.exists("badoo.bma.FolderRequest","message")||($gpb.exists("badoo.bma.PersonNoticeType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PersonNoticeType=new $gpb.Enum("badoo.bma.PersonNoticeType");t._values=[1,2],t.PERSON_NOTICE_TYPE_FOLDER_BADGE=1,t.PERSON_NOTICE_TYPE_PROFILE_RATING=2}(),$gpb.exists("badoo.bma.FolderTypes","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FolderTypes=new $gpb.Enum("badoo.bma.FolderTypes");t._values=[-1,0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20,21,22,23,24,25,26],t.UNSPECIFIED_FOLDER=-1,t.ALL_MESSAGES=0,t.UNREAD_MESSAGES=2,t.FRIENDS=3,t.FAVOURITES=4,t.MUTUAL_ATTRACTIONS=5,t.WANT_TO_MEET_YOU=6,t.YOU_WANT_TO_MEET=7,t.PROFILE_VISITORS=8,t.BLOCKED=9,t.NEARBY_PEOPLE=10,t.PRIVATE_ALBUM_ACCESS=11,t.NEARBY_PEOPLE_2=12,t.SPOTLIGHT=13,t.NEARBY_PEOPLE_3=14,t.MATCHES=15,t.NEARBY_PEOPLE_4=16,t.RATED_ME=17,t.HON_MESSAGES=18,t.PROFILE_SEARCH=20,t.LOCAL_HOT=21,t.UNIVERSITY_HOT_LIST=22,t.FRIENDS_HOT_LIST=23,t.COMMON_PLACE=24,t.NEARBY_PEOPLE_WEB=25,t.PHOTO_OF_THE_DAY=26}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.FolderRequest=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FolderRequest",t.prototype._descriptor={fields:{person_notice_type:{type:14,type_name:"badoo.bma.PersonNoticeType",number:2,label:3},folder_id:{type:14,type_name:"badoo.bma.FolderTypes",number:1,label:3}}}}()),$gpb.exists("badoo.bma.PersonNotice","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PersonNotice=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PersonNotice",t.prototype._descriptor={fields:{int_value:{type:5,number:4,label:1},folder:{type:14,type_name:"badoo.bma.FolderTypes",number:2,label:1},place_id:{type:9,number:5,label:1},type:{type:14,type_name:"badoo.bma.PersonNoticeType",number:1,label:2},display_value:{type:9,number:3,label:1}}}}(),B.HoN_v3._Sidebar.PersonNoticeModel=$class({fetch:function(e,t){var i=$p.FolderTypes,s=(new $p.FolderRequest).addFolderId(i.ALL_MESSAGES).addFolderId(i.FAVOURITES).addFolderId(i.WANT_TO_MEET_YOU).addFolderId(i.PROFILE_VISITORS);new $gpb.Rpc($p.MessageType.SERVER_REQUEST_PERSON_NOTICE,s).on($p.MessageType.CLIENT_PERSON_NOTICE,e,t).request()}}),B.HoN_v3._Sidebar.NavViewController=$class(B.HoN_v3._Sidebar.BaseViewController,{view:new B.HoN_v3._Sidebar.NavView,constructor:function(){$super(this,arguments);for(var e,t=B.Features,i=["ALLOW_OPEN_FRIENDS_HOT_LIST","ALLOW_OPEN_LOCAL_HOT","ALLOW_OPEN_UNIVERSITY_HOT_LIST","ALLOW_OPEN_ENCOUNTERS","ALLOW_OPEN_PEOPLE_NEARBY","ALLOW_OPEN_MESSAGES","ALLOW_OPEN_WANT_YOU","ALLOW_OPEN_FAVOURITES","ALLOW_OPEN_VISITORS","ALLOW_OPEN_MOBILE_APP_PROMO"],s={},o=0;o<i.length;o++){var n=i[o];e=t.get(n),s[n]={exist:null!=e,enabled:null!=e&&e.enabled}}this.setInitialData({features:s})},init:function(){var e=new B.HoN_v3._Sidebar.PersonNoticeModel;e.fetch(this.onPersonNoticeFetch,this),B.on("app:statechange",this.onAppStateChange,this),B.App.state&&this.setCurrentFolder(B.App.state),B.on({"counters:updated":this.onCountersUpdate},this),B.fire("menu_updated"),this.$e=$e.on({".js-visitors-link":this._visitorsLink},this)},onAppStateChange:function(e,t){this.setCurrentFolder(t)},onCountersUpdate:function(e){if(e.fans&&this.setFansCount(e.fans),e.favorites&&this.setFavoritesCount(e.favorites),e.visitors&&this.setVisitorsCount(e.visitors),e.mutual)for(var t=0;t<e.mutual.length;t++){var i=e.mutual[t];B.IM.opened?B.IM.fire("new_contact",i.uid,i.c_increment):i.c_increment&&B.IM.fire("total_msgs",B.IM.Link.msg_count+1)}},onPersonNoticeFetch:function(e,t){if(!e){var i=(B.HoN_v3.Partner,$gpb.namespace("badoo.bma").FolderTypes),s=t.getIntValue(),o={n:s>99?"99+":s,is_new:s>0};switch(t.getFolder()){case i.ALL_MESSAGES:this.setImCount(o);break;case i.FAVOURITES:this.setFavoritesCount(o);break;case i.WANT_TO_MEET_YOU:this.setFansCount(o);break;case i.PROFILE_VISITORS:this.setVisitorsCount(o)}}},setFansCount:function(e){this.setCount("fans",e)},setFavoritesCount:function(e){this.setCount("favorites",e)},setVisitorsCount:function(e){this.setCount("visitors",e)},setImCount:function(e){this.setCount("im",e)},setCount:function(e,t){var i=$("navigation_item_"+e);if(null!==i){for(var s,o=$el.select(i,".mark"),n=0;n<o.length;n++)s=!t.is_new,s||(o[n].innerHTML=t.n),$el.tgl(o[n],"invisible",s);$el.del(i,"hidden")}},setCurrentFolder:function(e){"hotlist"===e&&($el.down(this.rootEl,".js-sidebar-hotlist-link").href=$u.history.getPathname()),"favorites"===e&&($el.down(this.rootEl,".js-sidebar-favourites-link").href=$u.history.getPathname());var t=$el.down(this.rootEl,".active");t&&$el.del(t,"active"),e&&(t=$el.down(this.rootEl,"."+e+"_"),t&&$el.add(t,"active"))},_visitorsLink:function(){var e=B.Features.getFeature($p.FeatureType.ALLOW_OPEN_VISITORS);e&&(e.getEnabled()?B.App.app_link("visitors","/visitors"):e.getRequiredAction()==$p.ActionType.UPLOAD_PHOTO&&(B.Upload2.UploadOverlayController.open("photos_of_me_blocker"),this.$e_upload||(this.$e_upload=B.Upload2.Controller.get_group("photos_of_me").on("queue_completed",this._queue_complete,this))))},_queue_complete:function(){B.Upload2.Controller.get_group("photos_of_me").un(this.$e_upload),this.$e_upload=null,B.App.app_link("visitors","/visitors")}}),B.Controls.AgeSlider||(B.Controls.AgeSlider=$class(B.Controls.BaseControl,{name:"Controls.AgeSlider",begin_field_el:null,end_field_el:null,begin_el:null,end_el:null,track_el:null,age_begin_el:null,age_end_el:null,min:0,max:0,begin:0,end:0,min_range:0,dir_map:{style_direction:"left",x_axis_multiplier:1},gap_map:[{min:13,max:17,gap:0},{min:18,max:20,gap:1},{min:21,max:26,gap:2},{min:27,max:34,gap:3},{min:35,max:46,gap:4},{min:47,max:100,gap:5}],init:function(){$super(this,arguments),"rtl"==$el.dir()&&(this.dir_map.style_direction="right",this.dir_map.x_axis_multiplier=-1),this.begin_field_el=this.get_element(this.wrap_el,"begin-field"),this.end_field_el=this.get_element(this.wrap_el,"end-field"),this.begin_el=this.get_element(this.wrap_el,"begin"),this.end_el=this.get_element(this.wrap_el,"end"),this.track_el=this.get_element(this.wrap_el,"track"),this.age_begin_el=this.get_element(this.wrap_el,"age-begin"),this.age_end_el=this.get_element(this.wrap_el,"age-end"),$e.add(this.begin_el,"mousedown",this.start_begin,this),$e.add(this.end_el,"mousedown",this.start_end,this),$e.add(this.begin_el,"click",this.move_focus,this),$e.add(this.end_el,"click",this.move_focus,this),$e.add(this.begin_el,"keydown",this.move_begin,this),$e.add(this.end_el,"keydown",this.move_end,this),this.min=+this.wrap_el.getAttribute("data-min"),this.max=+this.wrap_el.getAttribute("data-max"),this.min_range=+this.wrap_el.getAttribute("data-min-range"),this.begin=+this.begin_field_el.value,this.end=+this.end_field_el.value,this.age_end_el.innerHTML=this.filter_end(),this.update()},destroy:function(){this.stop(),$e.del(this.begin_el,"mousedown",this.start_begin,this),$e.del(this.end_el,"mousedown",this.start_end,this),$e.del(this.begin_el,"click",this.move_focus,this),$e.del(this.end_el,"click",this.move_focus,this),$e.del(this.begin_el,"keydown",this.move_begin,this),$e.del(this.end_el,"keydown",this.move_end,this),this.begin_el=this.end_el=this.track_el=this.begin_field_el=this.end_field_el=this.age_begin_el=this.age_end_el=null,$super(this,arguments)},get_element:function(e,t){switch(t){case"focus":return null;case"begin-field":return $el.down(e,".js-slider-begin-field");case"end-field":return $el.down(e,".js-slider-end-field");case"begin":return $el.down(e,".js-slider-begin");case"end":return $el.down(e,".js-slider-end");case"track":return $el.down(e,".js-slider-track");case"age-begin":return $el.down(e,".js-age-begin");case"age-end":return $el.down(e,".js-age-end")}return $super(this,arguments)},find_gap:function(e){for(var t=0;t<this.gap_map.length;t++){var i=this.gap_map[t];if(e>=i.min&&e<=i.max)return i.gap}return 0},get_min_range:function(e,t){return Math.max(this.min_range,this.find_gap(e),this.find_gap(t))},normalize_begin:function(e){return e=Math.round(e),e=Math.min(e,this.end-this.get_min_range(e,this.end)),e=Math.max(e,this.min)},set_begin:function(e){this.begin=this.normalize_begin(e),this.update(),this.on_change()},normalize_end:function(e){return e=Math.round(e),e=Math.min(e,this.max),e=Math.max(e,this.begin+this.get_min_range(this.begin,e))},set_end:function(e){this.end=this.normalize_end(e),this.update(),this.on_change()},update:function(){var e=this.max-this.min,t=(this.begin-this.min)/e*100;this.begin_el.style[this.dir_map.style_direction]=t+"%";var i=(this.end-this.min)/e*100;this.end_el.style[this.dir_map.style_direction]=i+"%",this.track_el.style[this.dir_map.style_direction]=t+"%",this.track_el.style.width=i-t+"%"},on_change:function(){this.age_begin_el.innerHTML=this.begin,this.age_end_el.innerHTML=this.filter_end(),this.begin_field_el.value=this.begin,this.end_field_el.value=this.end,this.fire("change",this.begin,this.end)},filter_end:function(){return this.end>=80?"80+":this.end},start_begin:function(e){this.drag_start_value=this.begin,this.drag_set=this.set_begin,this.start(e)},start_end:function(e){this.drag_start_value=this.end,this.drag_set=this.set_end,this.start(e)},start:function(e){this.drag_start=$e.pageX($e.e),this.drag_width=this.wrap_el.clientWidth-e.clientWidth,$el.del(this.begin_el,"active"),$el.del(this.end_el,"active"),$el.add(e,"active"),$e.add(document,"mousemove",this.drag,this),$e.add(document,"mouseup",this.stop,this)},drag:function(){var e=($e.pageX($e.e)-this.drag_start)/this.drag_width*(this.max-this.min);this.drag_set(this.drag_start_value+this.dir_map.x_axis_multiplier*e)},stop:function(){this.drag_set=null,$el.del(this.begin_el,"active"),$el.del(this.end_el,"active"),$e.del(document,"mousemove",this.drag,this),$e.del(document,"mouseup",this.stop,this)},move_focus:function(e){e.focus()},move_begin:function(){return this.move_start_value=this.begin,this.move_set=this.set_begin,this.move_start()},move_end:function(){return this.move_start_value=this.end,this.move_set=this.set_end,this.move_start()},move_start:function(){var e=$e.key($e.e);switch(e){case 39:return this.move_set(this.move_start_value+1),!1;case 37:return this.move_set(this.move_start_value-1),!1}return!0},set:function(e,t){this.set_begin(e),this.set_end(t)}}),$c.register("age-slider",B.Controls.AgeSlider,!0)),B.TiwFilter=$class($u.Observable,{name:"TiwFilter",closed_url:null,opened:!1,autoopen:!0,submit:!1,save_state:"",save_url:"",validate:null,form:null,slider:null,saved_values:null,restore_timer:null,constructor:function(e){$super(this,arguments),$config(this,e),this.form=$("search_form"),this.form&&(this.toggle_el=$el.down(document,".js-tiw-filter-toggle"),$e.add(this.form,"submit",this._on_form_submit,this),this.$e=$e.on({".js-tiw-filter-toggle, * .js-tiw-filter-toggle":this.toggle,".js-tiw-filter-open, * .js-tiw-filter-open":this.open},this),this.init_slider(),this.restore_timer=new $t(this.restore,this,300),this.save_values(),this.opened&&this.autoopen&&this.toggle_popup(this.toggle_el))},destroy:function(){$super(this,arguments),this.form&&($e.del(this.form,"submit",this._on_form_submit,this),$e.un(this.$e),this.destroy_slider(),this.restore_timer.clear(),this.restore_timer=null,this.form=this.saved_values=null)},init_slider:function(){var e=$el.down(this.form,".js-age-slider");e&&(this.slider=$c.get(e,"age-slider"))},destroy_slider:function(){this.slider&&(this.slider=null)},_on_form_submit:function(){this.update_search()},update_search:function(){if(this.toggle_popup(this.form),this.opened=!1,this.submit)return!0;var e=$r.serialize(this.form);return this.save(e),this.fire("changed",e),B.HoN_v3&&B.HoN_v3.fire("filter:changed"),this.save_values(),e},save:function(e){"gender[]"in e||(e["gender[]"]=["M","F"]);var t=this.validate?this.validate(e):!0;t&&B.App.app_link(this.save_state,this.save_url+"?"+$r.toQueryString(e))},toggle:function(e,t){t!==this.opened&&(this.opened=!this.opened,this.toggle_popup(e),B.fire("ga:manage",e),this.opened||(this.restore_timer.set(),this.closed_url&&(new $r(this.closed_url),this.closed_url=null)),B.fire("sidebar:filter_toggled"),this.fire("toggled",this.opened))},open:function(e){this.fire("before_open"),this.toggle(e||this.toggle_el,!0)},toggle_popup:function(e){e.getAttribute("data-fx-wrap")&&$u.FxTransition.fx(e),B.Toggle.manage(e)},save_values:function(){this.saved_values=$r.serialize(this.form)},restore:function(){var e=this.form.elements,t=this.saved_values;e.to_custom&&(e.to_custom.value=t.to_custom),this.slider.set(t.age_f,t.age_t);var i={M:"boy",F:"girl"},s=t["gender[]"];for(var o in i)e[i[o]].checked=s[0]===o||s[1]===o},set_gender:function(e,t){var i=[];e&&i.push("M"),t&&i.push("F"),this.saved_values["gender[]"]=i},set_age_limit:function(e,t){this.saved_values.age_f=e,this.saved_values.age_t=t}}),$gpb.exists("badoo.bma.SearchSettings","message")||($gpb.exists("badoo.bma.SearchDistances","message")||($gpb.exists("badoo.bma.Unit","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Unit=new $gpb.Enum("badoo.bma.Unit");t._values=[0,1,2],t.UNIT_UNKNOWN=0,t.UNIT_METRIC=1,t.UNIT_IMPERIAL=2}(),$gpb.exists("badoo.bma.SearchArea","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchArea=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SearchArea",t.prototype._descriptor={fields:{maximal:{type:8,number:4,label:1},area_id:{type:9,number:1,label:1},radius:{type:5,number:2,label:1},minimal:{type:8,number:3,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchDistances=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SearchDistances",t.prototype._descriptor={fields:{unit_type:{type:14,type_name:"badoo.bma.Unit",number:1,label:1},area:{type:11,type_name:"badoo.bma.SearchArea",number:2,label:3}}}}()),$gpb.exists("badoo.bma.TiwIdea","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.TiwIdea=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.TiwIdea",t.prototype._descriptor={fields:{tiw_phrase:{type:9,number:2,label:1},tiw_phrase_id:{type:5,number:1,label:1},show_interested_in:{type:8,number:3,label:1}}}}(),$gpb.exists("badoo.bma.SearchSettingsAgeOption","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchSettingsAgeOption=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SearchSettingsAgeOption",t.prototype._descriptor={fields:{display_text:{type:9,number:2,label:1},age_option_id:{type:5,number:1,label:1}}}}(),$gpb.exists("badoo.bma.Slider","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Slider=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Slider",t.prototype._descriptor={fields:{min_range:{type:5,number:4,label:1},max_value:{type:5,number:2,label:1},min_value:{type:5,number:1,label:1},is_left_adjustable:{type:8,number:5,label:1},unit_type:{type_name:"badoo.bma.Unit",number:6,label:1,type:14,options:{"default":"UNIT_UNKNOWN"}},step:{type:5,number:3,label:1}}}}(),$gpb.exists("badoo.bma.ExtendedSearchSettings","message")||($gpb.exists("badoo.bma.ExtendedSearchFilter","message")||($gpb.exists("badoo.bma.ExtendedSearchOption","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExtendedSearchOption=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExtendedSearchOption",t.prototype._descriptor={fields:{display_text:{type:9,number:3,label:1},selected:{type:8,number:2,label:1},id:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.SelectType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SelectType=new $gpb.Enum("badoo.bma.SelectType");t._values=[1,2,3],t.SELECT_SINGLE=1,t.SELECT_MULTIPLE=2,t.SELECT_RANGE=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExtendedSearchFilter=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExtendedSearchFilter",t.prototype._descriptor={fields:{display_text:{type:9,number:2,label:1},additional_options:{type:11,type_name:"badoo.bma.ExtendedSearchOption",number:5,label:3},select_type:{type:14,type_name:"badoo.bma.SelectType",number:3,label:1},id:{type:9,number:1,label:1},options:{type:11,type_name:"badoo.bma.ExtendedSearchOption",number:4,label:3}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExtendedSearchSettings=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExtendedSearchSettings",t.prototype._descriptor={fields:{selected_filters_order:{type:9,number:2,label:3},filters:{type:11,type_name:"badoo.bma.ExtendedSearchFilter",number:1,label:3}}}}()),$gpb.exists("badoo.bma.UserFieldFilter","message")||($gpb.exists("badoo.bma.ServerGetAlbum","message")||($gpb.exists("badoo.bma.AlbumType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.AlbumType=new $gpb.Enum("badoo.bma.AlbumType");t._values=[1,2,3,4,5,6,7,8],t.ALBUM_TYPE_WITH_ID=1,t.ALBUM_TYPE_PHOTOS_OF_ME=2,t.ALBUM_TYPE_OTHER_PHOTOS=3,t.ALBUM_TYPE_PRIVATE_PHOTOS=4,t.ALBUM_TYPE_SPOTLIGHT_PHOTOS=5,t.ALBUM_TYPE_MY_RATING=6,t.ALBUM_TYPE_ENCOUNTERS=7,t.ALBUM_TYPE_CHAT_RECENT=8}(),$gpb.exists("badoo.bma.PhotoSize","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoSize=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhotoSize",t.prototype._descriptor={fields:{width:{type:5,number:1,label:1},height:{type:5,number:2,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetAlbum=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetAlbum",t.prototype._descriptor={fields:{count:{type:5,number:4,label:1},album_type:{type:14,type_name:"badoo.bma.AlbumType",number:5,label:1},album_id:{type:9,number:2,label:1},large_size:{type:11,type_name:"badoo.bma.PhotoSize",number:7,label:1},offset:{type:5,number:3,label:1},person_id:{type:9,number:1,label:1},preview_size:{type:11,type_name:"badoo.bma.PhotoSize",number:6,label:1},highlight_new:{type:8,number:8,label:1}}}}()),$gpb.exists("badoo.bma.UserField","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.UserField=new $gpb.Enum("badoo.bma.UserField");t._values=[10,20,30,40,50,60,70,80,90,91,92,93,100,110,200,210,220,230,240,250,260,270,280,290,300,301,302,303,304,310,311,320,330,331,340,350,360,370,400,410,420,430,431,432,440,460,470,471,480,490,500,510,511,512,513,520,530,540,550,560,570,580,581,590,600,610,620,630,640,650,660,670,680,681,690,691,692,693,700,710,720,730,731,740,741,742,750,760,761,762,770,780,781,790,800,10001],t.USER_FIELD_EMAIL=10,t.USER_FIELD_PHONE=20,t.USER_FIELD_CREDITS=30,t.USER_FIELD_ACCOUNT_CONFIRMED=40,t.USER_FIELD_PROFILE_COMPLETE_PERCENT=50,t.USER_FIELD_ALLOW_EDIT_DOB=60,t.USER_FIELD_ALLOW_EDIT_GENDER=70,t.USER_FIELD_ALLOW_EDIT_NAME=80,t.USER_FIELD_LOCATION=90,t.USER_FIELD_COUNTRY=91,t.USER_FIELD_REGION=92,t.USER_FIELD_CITY=93,t.USER_FIELD_VERIFIED_INFORMATION=100,t.USER_FIELD_CREDITS_REWARDS=110,t.USER_FIELD_NAME=200,t.USER_FIELD_AGE=210,t.USER_FIELD_DOB=220,t.USER_FIELD_GENDER=230,t.USER_FIELD_IS_NEWBIE=240,t.USER_FIELD_IS_DELETED=250,t.USER_FIELD_IS_HOT=260,t.USER_FIELD_IS_INVISIBLE=270,t.USER_FIELD_IS_UNREAD=280,t.USER_FIELD_IS_VERIFIED=290,t.USER_FIELD_IS_EXTENDED_MATCH=300,t.USER_FIELD_HAS_SPP=301,t.USER_FIELD_HAS_PAID_VIP=302,t.USER_FIELD_HAS_RISEUP=303,t.USER_FIELD_LAST_RISEUP_TIME_MESSAGE=304,t.USER_FIELD_PHOTO_COUNT=310,t.USER_FIELD_VIDEO_COUNT=311,t.USER_FIELD_PERSONAL_INFO_SOURCE=320,t.USER_FIELD_ONLINE_STATUS=330,t.USER_FIELD_ONLINE_STATUS_TEXT=331,t.USER_FIELD_PROFILE_PHOTO=340,t.USER_FIELD_POPULARITY=350,t.USER_FIELD_WISH=360,t.USER_FIELD_ALBUMS=370,t.USER_FIELD_INTERESTS_TOTAL=400,t.USER_FIELD_INTERESTS_IN_COMMON=410,t.USER_FIELD_INTERESTS=420,t.USER_FIELD_BUMPED_INTO=430,t.USER_FIELD_BUMPED_INTO_PLACES=431,t.USER_FIELD_HAS_BUMPED_INTO_PLACES=432,t.USER_FIELD_AWARDS=440,t.USER_FIELD_SOCIAL_NETWORKS=460,t.USER_FIELD_PROFILE_SCORE=470,t.USER_FIELD_PROFILE_SCORE_NUMERIC=471,t.USER_FIELD_SPOKEN_LANGUAGES=480,t.USER_FIELD_PROFILE_FIELDS=490,t.USER_FIELD_FRIENDS_CONNECTIONS=500,t.USER_FIELD_FRIENDS_IN_COMMON=510,t.USER_FIELD_PLACES_IN_COMMON=511,t.USER_FIELD_PLACES_IN_COMMON_TOTAL=512,t.USER_FIELD_COMMON_PLACES_IMPORT_PROVIDERS=513,t.USER_FIELD_DISTANCE=520,t.USER_FIELD_DISTANCE_SHORT=530,t.USER_FIELD_DISTANCE_LONG=540,t.USER_FIELD_MY_VOTE=550,t.USER_FIELD_THEIR_VOTE=560,t.USER_FIELD_MATCH_MESSAGE=570,t.USER_FIELD_IS_MATCH=580,t.USER_FIELD_MATCH_DATE=581,t.USER_FIELD_PRE_MATCH_TIME_LEFT=590,t.USER_FIELD_IS_BLOCKED=600,t.USER_FIELD_IS_FAVOURITE=610,t.USER_FIELD_IS_FRIEND=620,t.USER_FIELD_IS_CONVERSATION=630,t.USER_FIELD_UNREAD_MESSAGES_COUNT=640,t.USER_FIELD_ALLOW_ADD_TO_FAVOURITES=650,t.USER_FIELD_ALLOW_CHAT=660,t.USER_FIELD_ALLOW_VOTING=670,t.USER_FIELD_HAS_MOBILE_APP=680,t.USER_FIELD_VOTE_HINT=681,t.USER_FIELD_POPULARITY_LEVEL=690,t.USER_FIELD_POPULARITY_PNB_PLACE=691,t.USER_FIELD_POPULARITY_VISITORS_TODAY=692,t.USER_FIELD_POPULARITY_VISITORS_MONTH=693,t.USER_FIELD_DISPLAY_MESSAGE=700,t.USER_FIELD_VOTE_SHARING_PROMO=710,t.USER_FIELD_VOTE_SHARING_PROVIDERS=720,t.USER_FIELD_ALLOW_SMILE=730,t.USER_FIELD_ALLOW_SEND_GIFT=731,t.USER_FIELD_SECRET_COMMENT_COUNT=740,t.USER_FIELD_SECRET_COMMENT_PREVIEW=741,t.USER_FIELD_IS_SECRET_COMMENT_ENABLED=742,t.USER_FIELD_RECEIVED_GIFTS=750,t.USER_FIELD_CAME_FROM=760,t.USER_FIELD_CAME_FROM_TEXT=761,t.USER_FIELD_IS_INAPP_PROMO_PARTNER=762,t.USER_FIELD_ALLOW_SHARING=770,t.USER_FIELD_LAST_ACTIVE=780,t.USER_FIELD_LAST_ACTIVE_STRING=781,t.USER_FIELD_IS_HIGHLIGHTED=790,t.USER_FIELD_UNITED_FRIENDS=800,t.EXPERIMENTAL_USER_WHATS_MY_CHANCES=10001}(),$gpb.exists("badoo.bma.ServerInterestsGet","message")||($gpb.exists("badoo.bma.InterestSortOrder","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.InterestSortOrder=new $gpb.Enum("badoo.bma.InterestSortOrder");t._values=[1,2,3],t.POPULAR=1,t.MOST_POPULAR=2,t.RANDOM=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerInterestsGet=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerInterestsGet",t.prototype._descriptor={fields:{user_id:{type:9,number:1,label:1},group_id:{type:5,number:2,label:1},limit:{type:5,number:4,label:1},order:{type:14,type_name:"badoo.bma.InterestSortOrder",number:5,label:1},offset:{type:5,number:3,label:1}}}
}()),$gpb.exists("badoo.bma.UnitedFriendsFilter","message")||($gpb.exists("badoo.bma.UnitedFriendsSectionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.UnitedFriendsSectionType=new $gpb.Enum("badoo.bma.UnitedFriendsSectionType");t._values=[1,2,3],t.UNITED_FRIENDS_SECTION_REGISTERED=1,t.UNITED_FRIENDS_SECTION_UNREGISTERED=2,t.UNITED_FRIENDS_SECTION_HOTTEST=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.UnitedFriendsFilter=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.UnitedFriendsFilter",t.prototype._descriptor={fields:{count:{type:5,number:2,label:1},section_type:{type:14,type_name:"badoo.bma.UnitedFriendsSectionType",number:3,label:1},offset:{type:5,number:1,label:1}}}}()),$gpb.exists("badoo.bma.PhotoSizeSpec","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoSizeSpec=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhotoSizeSpec",t.prototype._descriptor={fields:{large_photo_size:{type:11,type_name:"badoo.bma.PhotoSize",number:2,label:1},preview_photo_size:{type:11,type_name:"badoo.bma.PhotoSize",number:1,label:1},square_face_photo_size:{type:11,type_name:"badoo.bma.PhotoSize",number:3,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.UserFieldFilter=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.UserFieldFilter",t.prototype._descriptor={fields:{request_albums:{type:11,type_name:"badoo.bma.ServerGetAlbum",number:20,label:3},projection:{type:14,type_name:"badoo.bma.UserField",number:10,label:3},request_interests:{type:11,type_name:"badoo.bma.ServerInterestsGet",number:30,label:1},common_place_count:{type:5,number:50,label:1},united_friends_filter:{type:11,type_name:"badoo.bma.UnitedFriendsFilter",number:60,label:3},profile_photo_size:{type:11,type_name:"badoo.bma.PhotoSizeSpec",number:40,label:1}}}}()),$gpb.exists("badoo.bma.SearchType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchType=new $gpb.Enum("badoo.bma.SearchType");t._values=[1,2,3],t.ENCOUNTERS=1,t.NEARBY=2,t.SAVE_WISH=3}(),$gpb.exists("badoo.bma.UserListFilter","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.UserListFilter=new $gpb.Enum("badoo.bma.UserListFilter");t._values=[0,1,2,3,4,5,6,7],t.LIST_FILTER_ONLINE=0,t.LIST_FILTER_NEW=1,t.LIST_FILTER_UNREAD=2,t.LIST_FILTER_CONVERSATIONS=3,t.LIST_FILTER_ACTIVE_USERS=4,t.LIST_FILTER_NEARBY=5,t.LIST_FILTER_FAVOURITES=6,t.LIST_FILTER_MATCHED=7}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchSettings=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SearchSettings",t.prototype._descriptor={fields:{distances:{type:11,type_name:"badoo.bma.SearchDistances",number:24,label:1},area_id:{type:9,number:23,label:1},cased_location_name:{type:9,number:25,label:1},number:{type:5,number:6,label:1},to_age:{type:5,number:5,label:1},location_id:{type:5,number:8,label:1},bumble_vibee_enabled:{type:8,number:27,label:1},current_distance_to:{type:5,number:22,label:1},location_name:{type:9,number:10,label:1},from_age:{type:5,number:4,label:1},current_age_option:{type:5,number:17,label:1},current_distance_from:{type:5,number:21,label:1},tiw_phrase_id:{type:5,number:15,label:1},tiw_ideas:{type:11,type_name:"badoo.bma.TiwIdea",number:14,label:3},nearby_age_range:{type:11,type_name:"badoo.bma.SearchSettingsAgeOption",number:16,label:3},distance_slider:{type:11,type_name:"badoo.bma.Slider",number:20,label:1},vote_on_celebrities:{type:8,number:19,label:1},wish_options_deprecated:{type:9,number:7,label:3},previously_saved:{type:8,number:9,label:1},folder_id:{type:14,type_name:"badoo.bma.FolderTypes",number:12,label:1},extended_search_settings:{type:11,type_name:"badoo.bma.ExtendedSearchSettings",number:26,label:1},min_age_range:{type:5,number:18,label:1},user_field_filter:{type:11,type_name:"badoo.bma.UserFieldFilter",number:28,label:1},context_type:{type:14,type_name:"badoo.bma.SearchType",number:1,label:2},wish:{type:9,number:2,label:1},filter:{type:14,type_name:"badoo.bma.UserListFilter",number:13,label:3},gender:{type:14,type_name:"badoo.bma.SexType",number:3,label:3},is_custom_tiw_allowed:{type:8,number:11,label:1}}}}()),$gpb.exists("badoo.bma.SearchSettingsContext","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchSettingsContext=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SearchSettingsContext",t.prototype._descriptor={fields:{search_response_context:{type:14,type_name:"badoo.bma.SearchType",number:1,label:2}}}}(),$gpb.exists("badoo.bma.ClientEncounters","message")||($gpb.exists("badoo.bma.RushHourConfig","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.RushHourConfig=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.RushHourConfig",t.prototype._descriptor={fields:{likes_total:{type:5,number:2,label:1},promo_started:{type:8,number:1,label:1},time_left:{type:5,number:5,label:1},likes_left:{type:5,number:4,label:1},time_total:{type:5,number:3,label:1}}}}(),$gpb.exists("badoo.bma.VotingQuota","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VotingQuota=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.VotingQuota",t.prototype._descriptor={fields:{yes_votes_quota:{type:5,number:1,label:1},no_votes_quota:{type:5,number:2,label:1}}}}(),$gpb.exists("badoo.bma.SearchResult","message")||($gpb.exists("badoo.bma.PromoBlock","message")||($gpb.exists("badoo.bma.PromoBlockType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PromoBlockType=new $gpb.Enum("badoo.bma.PromoBlockType");t._values=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,10001,10002,10003,10004],t.PROMO_BLOCK_TYPE_RISEUP=1,t.PROMO_BLOCK_TYPE_RISEUP_2=2,t.PROMO_BLOCK_TYPE_SPECIAL_DELIVERY=3,t.PROMO_BLOCK_TYPE_CHAT_WITH_NEWBIES=4,t.PROMO_BLOCK_TYPE_CHAT_WITH_TIRED=5,t.PROMO_BLOCK_TYPE_FAVOURITES=6,t.PROMO_BLOCK_TYPE_LIKED_YOU=7,t.PROMO_BLOCK_TYPE_SPP=8,t.PROMO_BLOCK_TYPE_SPOTLIGHT=9,t.PROMO_BLOCK_TYPE_EXTRA_SHOWS=10,t.PROMO_BLOCK_TYPE_EXTRA_SHOWS_2=11,t.PROMO_BLOCK_TYPE_ADD_PHOTO=12,t.PROMO_BLOCK_TYPE_ADD_MORE_PHOTOS=13,t.PROMO_BLOCK_TYPE_FIND_FRIENDS=14,t.PROMO_BLOCK_TYPE_DOWNLOAD_MOBILE=15,t.PROMO_BLOCK_TYPE_SPECIAL_DELIVERY_2=16,t.PROMO_BLOCK_TYPE_BOOST=17,t.PROMO_BLOCK_TYPE_PHOTO_OF_THE_DAY=18,t.PROMO_BLOCK_TYPE_ADD_MORE_EXTERNAL_PHOTOS=19,t.PROMO_BLOCK_TYPE_INSTAGRAM=20,t.PROMO_BLOCK_TYPE_VIDEO=21,t.PROMO_BLOCK_TYPE_STICKERS=22,t.PROMO_BLOCK_TYPE_MY_PROFILE_SCORE=23,t.PROMO_BLOCK_TYPE_GIFT=24,t.PROMO_BLOCK_TYPE_ADD_INTERESTS=25,t.PROMO_BLOCK_TYPE_SECRET_COMMENTS=26,t.PROMO_BLOCK_TYPE_EXCLUSIVE_ATTENTION=27,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_LOCATION=28,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_TN=29,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_BUMPED=30,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_INTERESTS=31,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_PRIVATE_PHOTOS=32,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_MORE_PHOTOS=33,t.PROMO_BLOCK_TYPE_GO_NATIVE_FROM_MW_CHAT=34,t.PROMO_BLOCK_TYPE_GAME_UNDO=35,t.PROMO_BLOCK_TYPE_CUSTOMIZE_PROFILE=36,t.PROMO_BLOCK_TYPE_VIEW_OTHERS_INVISIBLY=37,t.PROMO_BLOCK_TYPE_MOST_BEAUTIFUL_ENCOUNTERS=38,t.PROMO_BLOCK_TYPE_FACEBOOK_AD=39,t.PROMO_BLOCK_TYPE_TOP_CHAT=40,t.PROMO_BLOCK_TYPE_DOUBLE_CREDITS=41,t.EXPERIMENTAL_PROMO_BLOCK_TYPE_RISEUP=10001,t.EXPERIMENTAL_PROMO_BLOCK_TYPE_EXTRA_SHOWS=10002,t.EXPERIMENTAL_PROMO_BLOCK_TYPE_SPOTLIGHT=10003,t.EXPERIMENTAL_PROMO_BLOCK_TYPE_LIVE_PHOTOS=10004}(),$gpb.exists("badoo.bma.PromoBlockPosition","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PromoBlockPosition=new $gpb.Enum("badoo.bma.PromoBlockPosition");t._values=[0,1,2,3,4,5,6,7,10001],t.PROMO_BLOCK_POSITION_UNSPECIFIED=0,t.PROMO_BLOCK_POSITION_IN_LIST=1,t.PROMO_BLOCK_POSITION_HORIZONTAL=2,t.PROMO_BLOCK_POSITION_GRID=3,t.PROMO_BLOCK_POSITION_IN_LIST_TOPMOST=4,t.PROMO_BLOCK_POSITION_INITIAL_CHAT_SCREEN=5,t.PROMO_BLOCK_POSITION_CHAT_BLOCKED_FORM=6,t.PROMO_BLOCK_POSITION_CREDITS_PROMO=7,t.EXPERIMENTAL_PROMO_BLOCK_POSITION_AWARDS_PAGE=10001}(),$gpb.exists("badoo.bma.ExternalProviderType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProviderType=new $gpb.Enum("badoo.bma.ExternalProviderType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],t.UNKNOWN_EXTERNAL_PROVIDER_TYPE=0,t.EXTERNAL_PROVIDER_TYPE_FACEBOOK=1,t.EXTERNAL_PROVIDER_TYPE_VKONTAKTE=2,t.EXTERNAL_PROVIDER_TYPE_ODNOKLASSNIKI=3,t.EXTERNAL_PROVIDER_TYPE_GOOGLE_PLUS=4,t.EXTERNAL_PROVIDER_TYPE_MYSPACE=5,t.EXTERNAL_PROVIDER_TYPE_HYVES=6,t.EXTERNAL_PROVIDER_TYPE_PHOTOBUCKET=7,t.EXTERNAL_PROVIDER_TYPE_YAHOO=8,t.EXTERNAL_PROVIDER_TYPE_GOOGLE=9,t.EXTERNAL_PROVIDER_TYPE_AOL=10,t.EXTERNAL_PROVIDER_TYPE_MSN=11,t.EXTERNAL_PROVIDER_TYPE_INSTAGRAM=12,t.EXTERNAL_PROVIDER_TYPE_YANDEX=13,t.EXTERNAL_PROVIDER_TYPE_LINKEDIN=14,t.EXTERNAL_PROVIDER_TYPE_TWITTER=15,t.EXTERNAL_PROVIDER_TYPE_PAYPAL=16,t.EXTERNAL_PROVIDER_TYPE_PHONEBOOK=17,t.EXTERNAL_PROVIDER_TYPE_EMAIL=18,t.EXTERNAL_PROVIDER_TYPE_HOT_OR_NOT=19,t.EXTERNAL_PROVIDER_TYPE_BADOO=20,t.EXTERNAL_PROVIDER_TYPE_FOURSQUARE=21,t.EXTERNAL_PROVIDER_TYPE_PINTEREST=22,t.EXTERNAL_PROVIDER_TYPE_YOUTUBE=23,t.EXTERNAL_PROVIDER_TYPE_HUGGLE=24,t.EXTERNAL_PROVIDER_TYPE_SWARM=25,t.EXTERNAL_PROVIDER_TYPE_CLIPBOARD=26}(),$gpb.exists("badoo.bma.RedirectPage","message")||($gpb.exists("badoo.bma.ClientSource","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientSource=new $gpb.Enum("badoo.bma.ClientSource");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,10001,10002,10003,10004],t.CLIENT_SOURCE_UNSPECIFIED=0,t.CLIENT_SOURCE_ENCOUNTERS=1,t.CLIENT_SOURCE_PEOPLE_NEARBY=2,t.CLIENT_SOURCE_WANT_TO_MEET_YOU=3,t.CLIENT_SOURCE_MUTUAL_ATTRACTIONS=4,t.CLIENT_SOURCE_SPOTLIGHT=5,t.CLIENT_SOURCE_FANS=6,t.CLIENT_SOURCE_PHOTO_RATING=7,t.CLIENT_SOURCE_MY_PROFILE=8,t.CLIENT_SOURCE_OTHER_PROFILE=9,t.CLIENT_SOURCE_CHAT=10,t.CLIENT_SOURCE_CHAT_QUOTA=11,t.CLIENT_SOURCE_VERY_POPULAR_BANNER=12,t.CLIENT_SOURCE_TRUSTED_NETWORK_CHAT_BLOCK=13,t.CLIENT_SOURCE_TRUSTED_NETWORK_SETTINGS=14,t.CLIENT_SOURCE_BUILD_YOUR_NETWORK=15,t.CLIENT_SOURCE_GROW_YOUR_NETWORK=16,t.CLIENT_SOURCE_OAUTH_PROVIDER=17,t.CLIENT_SOURCE_SERVER_NOTIFICATION=18,t.CLIENT_SOURCE_OFFERWALL=19,t.CLIENT_SOURCE_PROFILE_SCORE=20,t.CLIENT_SOURCE_CONTACT_IMPORT=21,t.CLIENT_SOURCE_VISITORS=22,t.CLIENT_SOURCE_FAVOURITES=23,t.CLIENT_SOURCE_BLOCKED_USERS=24,t.CLIENT_SOURCE_SETTINGS=25,t.CLIENT_SOURCE_MESSAGES=26,t.CLIENT_SOURCE_SUPER_POWERS=27,t.CLIENT_SOURCE_OTHER_PROFILE_PHOTOS=28,t.CLIENT_SOURCE_FRIENDS=29,t.CLIENT_SOURCE_YOU_WANT_TO_MEET=30,t.CLIENT_SOURCE_AWARDS=31,t.CLIENT_SOURCE_POPULARITY=32,t.CLIENT_SOURCE_HOME_SCREEN=33,t.CLIENT_SOURCE_MENU=34,t.CLIENT_SOURCE_SPP_PROMO=35,t.CLIENT_SOURCE_PROFILE_SEARCH=36,t.CLIENT_SOURCE_LOCAL_HOT=37,t.CLIENT_SOURCE_SHARED_FRIENDS=38,t.CLIENT_SOURCE_REACTIVATION_INVITES=39,t.CLIENT_SOURCE_MY_PHOTOS=40,t.CLIENT_SOURCE_NOTIFICATION_SETTINGS=41,t.CLIENT_SOURCE_FORGOT_PASSWORD=42,t.CLIENT_SOURCE_CREDITS=43,t.CLIENT_SOURCE_RATED_ME=44,t.CLIENT_SOURCE_CLIENT_NOTIFICATION=45,t.CLIENT_SOURCE_FRIEND_JOINED_NOTIFICATION=46,t.CLIENT_SOURCE_PUSH_NOTIFICATION=47,t.CLIENT_SOURCE_PROMOTED_VIDEOS=48,t.CLIENT_SOURCE_FRIENDS_OF_FRIENDS=49,t.CLIENT_SOURCE_UNIVERSITY_HOT_LIST=50,t.CLIENT_SOURCE_FRIENDS_HOT_LIST=51,t.CLIENT_SOURCE_JUMP_THE_QUEUE_INVITES=52,t.CLIENT_SOURCE_VERIFICATION=53,t.CLIENT_SOURCE_RATE_YOUR_FRIENDS=54,t.CLIENT_SOURCE_ENCOUNTERS_SHARE_PROFILE_BUTTON=55,t.CLIENT_SOURCE_INVITE_PHONEBOOK_SPLASH=56,t.CLIENT_SOURCE_INVITE_PHONEBOOK_FOOTER=57,t.CLIENT_SOURCE_HOTTEST_FRIENDS=58,t.CLIENT_SOURCE_TWITTER_PROMO=59,t.CLIENT_SOURCE_REWIND=60,t.CLIENT_SOURCE_INTERESTS=61,t.CLIENT_SOURCE_PHOTO_OF_THE_DAY=62,t.CLIENT_SOURCE_FOOTER=63,t.CLIENT_SOURCE_ENCOUNTERS_HEADER=64,t.CLIENT_SOURCE_PROFILE_HEADER=65,t.CLIENT_SOURCE_USER_MENU=66,t.CLIENT_SOURCE_SPOTLIGHT_REMINDER=67,t.CLIENT_SOURCE_PEOPLE_IN_COMMON_PLACE=68,t.CLIENT_SOURCE_UPLOAD_PHOTO=69,t.CLIENT_SOURCE_AWARD=70,t.CLIENT_SOURCE_EXTERNAL_WEB=71,t.CLIENT_SOURCE_EMBEDDED_WEB=72,t.CLIENT_SOURCE_APP_STORE=73,t.CLIENT_SOURCE_FAVOURITED_YOU=74,t.CLIENT_SOURCE_GIFTS=75,t.CLIENT_SOURCE_MOBILE=76,t.CLIENT_SOURCE_EXTRA_SHOWS_REMINDER=77,t.CLIENT_SOURCE_PAID_VIP=78,t.CLIENT_SOURCE_RISE_UP_REMINDER=79,t.CLIENT_SOURCE_PHOTO_OF_THE_DAY_NOTIFICATION=80,t.CLIENT_SOURCE_RATE_APP=81,t.CLIENT_SOURCE_LIKE_APP=82,t.CLIENT_SOURCE_MY_PROFILE_PHOTO_GRID=83,t.CLIENT_SOURCE_FACEBOOK_PROMO=84,t.CLIENT_SOURCE_MESSENGER=85,t.CLIENT_SOURCE_BUMBLE_VIBEE=86,t.CLIENT_SOURCE_PLACES=87,t.CLIENT_SOURCE_NEW_SOCIAL_PHOTOS_NOTIFICATION=88,t.CLIENT_SOURCE_CHAT_INITIAL_SCREEN=89,t.CLIENT_SOURCE_UNITED_FRIENDS=90,t.CLIENT_SOURCE_FLOATING_BUTTON=91,t.CLIENT_SOURCE_ONBOARDING_SCREEN=92,t.EXPERIMENTAL_CLIENT_SOURCE_POPULARITY=10001,t.EXPERIMENTAL_CLIENT_SOURCE_PAYMENTS=10002,t.EXPERIMENTAL_CLIENT_SOURCE_LIVE_PHOTOS=10003,t.EXPERIMENTAL_CLIENT_SOURCE_LIVE_PHOTOS_PROFILE=10004}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.RedirectPage=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.RedirectPage",t.prototype._descriptor={fields:{user_id:{type:9,number:2,label:1},common_place_id:{type:9,number:5,label:1},section_id:{type:9,number:6,label:1},redirect_page:{type_name:"badoo.bma.ClientSource",number:1,label:1,type:14,options:{"default":"CLIENT_SOURCE_UNSPECIFIED"}},token:{type:9,number:3,label:1},award_id:{type:9,number:4,label:1},highlight_new:{type:8,number:7,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.PromoBlock=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PromoBlock",t.prototype._descriptor={fields:{other_action:{type:14,type_name:"badoo.bma.ActionType",number:9,label:1},credits_cost:{type:9,number:18,label:1},promo_block_type:{type:14,type_name:"badoo.bma.PromoBlockType",number:12,label:1},image_id:{type:9,number:1,label:3},goal_progress:{type:11,type_name:"badoo.bma.GoalProgress",number:15,label:1},pictures:{type:11,type_name:"badoo.bma.ApplicationFeaturePicture",number:10,label:3},other_text:{type:9,number:8,label:1},promo_block_position:{type_name:"badoo.bma.PromoBlockPosition",number:13,label:1,type:14,options:{"default":"PROMO_BLOCK_POSITION_UNSPECIFIED"}},mssg:{type:9,number:2,label:1},id:{type:9,number:4,label:1},header:{type:9,number:5,label:1},cancel_text:{type:9,number:6,label:1},url:{type:9,number:17,label:1},ok_action:{type:14,type_name:"badoo.bma.ActionType",number:7,label:1},action:{type:9,number:3,label:1},ok_payment_product_type:{type:14,type_name:"badoo.bma.PaymentProductType",number:11,label:1},action_provider_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:14,label:1},redirect_page:{type:11,type_name:"badoo.bma.RedirectPage",number:19,label:1},counter:{type:5,number:16,label:1}}}}()),$gpb.exists("badoo.bma.Album","message")||($gpb.exists("badoo.bma.RatedPhoto","message")||($gpb.exists("badoo.bma.PhotoRating","message")||($gpb.exists("badoo.bma.PhotoRateType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoRateType=new $gpb.Enum("badoo.bma.PhotoRateType");t._values=[0,1,2,3,4,5,6,11,12,13,14,15,21,22,23,24,25],t.UNKNOWN_PHOTO_RATE_TYPE=0,t.PHOTO_RATE_TYPE_EXCELLENT=1,t.PHOTO_RATE_TYPE_GOOD=2,t.PHOTO_RATE_TYPE_OK=3,t.PHOTO_RATE_TYPE_BAD=4,t.PHOTO_RATE_TYPE_BLOCKED=5,t.PHOTO_RATE_TYPE_CALCULATING=6,t.PHOTO_RATE_TYPE_STAR_ONE=11,t.PHOTO_RATE_TYPE_STAR_TWO=12,t.PHOTO_RATE_TYPE_STAR_THREE=13,t.PHOTO_RATE_TYPE_STAR_FOUR=14,t.PHOTO_RATE_TYPE_STAR_FIVE=15,t.PHOTO_RATE_TYPE_STAR_UNKNOWN=21,t.PHOTO_RATE_TYPE_STAR_PENDING=22,t.PHOTO_RATE_TYPE_STAR_OTHER=23,t.PHOTO_RATE_TYPE_STAR_PRIVATE=24,t.PHOTO_RATE_TYPE_STAR_NOT_PERSONAL=25}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoRating=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhotoRating",t.prototype._descriptor={fields:{display_rating:{type:9,number:2,label:1},rating:{type:5,number:1,label:1},rate_type:{type_name:"badoo.bma.PhotoRateType",number:4,label:1,type:14,options:{"default":"UNKNOWN_PHOTO_RATE_TYPE"}},rate_action_message:{type:9,number:3,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.RatedPhoto=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.RatedPhoto",t.prototype._descriptor={fields:{rating:{type:11,type_name:"badoo.bma.PhotoRating",number:3,label:1},small_photo_id:{type:9,number:1,label:1},blocked:{type:8,number:2,label:1}}}}()),$gpb.exists("badoo.bma.Photo","message")||($gpb.exists("badoo.bma.Point","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Point=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Point",t.prototype._descriptor={fields:{y:{type:5,number:2,label:1},x:{type:5,number:1,label:1}}}}(),$gpb.exists("badoo.bma.EmbeddedVideo","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.EmbeddedVideo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.EmbeddedVideo",t.prototype._descriptor={fields:{url:{type:9,number:1,label:1},is_pending_moderation:{type:8,number:3,label:1},is_processing:{type:8,number:2,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.Photo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Photo",t.prototype._descriptor={fields:{rating:{type:11,type_name:"badoo.bma.PhotoRating",number:7,label:1},large_url:{type:9,number:3,label:1},is_pending_moderation:{type:8,number:17,label:1},is_new:{type:8,number:20,label:1},can_set_as_profile_photo:{type:8,number:8,label:1},is_liked:{type:8,number:13,label:1},is_photo_of_me:{type:8,number:9,label:1},square_face_url:{type:9,number:12,label:1},preview_url:{type:9,number:2,label:1},large_photo_size:{type:11,type_name:"badoo.bma.PhotoSize",number:4,label:1},face_bottom_right:{type:11,type_name:"badoo.bma.Point",number:6,label:1},video:{type:11,type_name:"badoo.bma.EmbeddedVideo",number:14,label:1},moderation_message:{type:9,number:19,label:1},is_removed_by_moderation:{type:8,number:18,label:1},external_provider_source:{type:14,type_name:"badoo.bma.ExternalProviderType",number:15,label:1},face_top_left:{type:11,type_name:"badoo.bma.Point",number:5,label:1},id:{type:9,number:1,label:1},restriction_feature:{type:14,type_name:"badoo.bma.FeatureType",number:16,label:1},is_profile_photo:{type:8,number:10,label:1}}}}()),$gpb.exists("badoo.bma.AlbumAccessLevel","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.AlbumAccessLevel=new $gpb.Enum("badoo.bma.AlbumAccessLevel");t._values=[1,2,3,4,5],t.MUST_CHAT_FIRST=1,t.CAN_REQUEST=2,t.ALREADY_REQUESTED=3,t.ACCESS_GRANTED=4,t.MUST_GO_NATIVE=5}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.Album=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Album",t.prototype._descriptor={fields:{allow_edit:{type:8,number:12,label:1},requires_moderation:{type:8,number:11,label:1},preview_image_id:{type:9,number:5,label:1},uid:{type:9,number:1,label:2},date_modified:{type:3,number:2,label:1},accessable:{type:8,number:9,label:2},is_upload_forbidden:{type:8,number:15,label:1},photo_size:{type:11,type_name:"badoo.bma.PhotoSize",number:17,label:3},instruction:{type:9,number:14,label:1},album_type:{type:14,type_name:"badoo.bma.AlbumType",number:19,label:1},access_type:{type:5,number:8,label:1},preview_photo_ids:{type:9,number:6,label:3},photo_rating:{type:11,type_name:"badoo.bma.RatedPhoto",number:16,label:3},photos:{type:11,type_name:"badoo.bma.Photo",number:18,label:3},owner_id:{type:9,number:4,label:2},adult:{type:8,number:10,label:2},count_of_photos:{type:5,number:13,label:1},large_photo_ids:{type:9,number:7,label:3},caption:{type:9,number:21,label:1},access_level:{type:14,type_name:"badoo.bma.AlbumAccessLevel",number:20,label:1},name:{type:9,number:3,label:2}}}}()),$gpb.exists("badoo.bma.SocialSharingProvider","message")||($gpb.exists("badoo.bma.FriendsImportProvider","message")||($gpb.exists("badoo.bma.FriendsImportAuthData","message")||($gpb.exists("badoo.bma.FriendsImportAuthType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FriendsImportAuthType=new $gpb.Enum("badoo.bma.FriendsImportAuthType");t._values=[1,2,3],t.AUTH_TYPE_PASSWORD=1,t.AUTH_TYPE_OAUTH=2,t.AUTH_TYPE_CONTACTS=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.FriendsImportAuthData=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FriendsImportAuthData",t.prototype._descriptor={fields:{oauth_url:{type:9,number:2,label:1},type:{type:14,type_name:"badoo.bma.FriendsImportAuthType",number:1,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.FriendsImportProvider=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FriendsImportProvider",t.prototype._descriptor={fields:{auth_data:{type:11,type_name:"badoo.bma.FriendsImportAuthData",number:3,label:1},logo_url:{type:9,number:5,label:1},display_name:{type:9,number:2,label:1},id:{type:9,number:1,label:1},name:{type:9,number:4,label:1}}}}()),$gpb.exists("badoo.bma.Tag","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Tag=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Tag",t.prototype._descriptor={fields:{position:{type:11,type_name:"badoo.bma.Point",number:1,label:1},uid:{type:9,number:2,label:1}}}}(),$gpb.exists("badoo.bma.ExternalProvider","message")||($gpb.exists("badoo.bma.ExternalProviderAuthData","message")||($gpb.exists("badoo.bma.ExternalProviderAuthType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProviderAuthType=new $gpb.Enum("badoo.bma.ExternalProviderAuthType");t._values=[0,1,2,3],t.UNKNOWN_EXTERNAL_PROVIDER_AUTH_TYPE=0,t.EXTERNAL_PROVIDER_AUTH_TYPE_PASSWORD=1,t.EXTERNAL_PROVIDER_AUTH_TYPE_OAUTH=2,t.EXTERNAL_PROVIDER_AUTH_TYPE_CONTACTS=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProviderAuthData=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExternalProviderAuthData",t.prototype._descriptor={fields:{app_secret:{type:9,number:5,label:1},type:{type_name:"badoo.bma.ExternalProviderAuthType",number:1,label:1,type:14,options:{"default":"UNKNOWN_EXTERNAL_PROVIDER_AUTH_TYPE"}},oauth_url:{type:9,number:2,label:1},app_key:{type:9,number:4,label:1},app_id:{type:9,number:3,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProvider=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExternalProvider",t.prototype._descriptor={fields:{display_name:{type:9,number:2,label:1},write_permissions:{type:9,number:7,label:3},profile_photo:{type:11,type_name:"badoo.bma.Photo",number:8,label:1},auth_data:{type:11,type_name:"badoo.bma.ExternalProviderAuthData",number:5,label:1},cache_available:{type:8,number:9,label:1},id:{type:9,number:1,label:1},logo_url:{type:9,number:3,label:1},type:{type_name:"badoo.bma.ExternalProviderType",number:4,label:1,type:14,options:{"default":"UNKNOWN_EXTERNAL_PROVIDER_TYPE"}},read_permissions:{type:9,number:6,label:3}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.SocialSharingProvider=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SocialSharingProvider",t.prototype._descriptor={fields:{sharing_images:{type:9,number:4,label:3},provider_details:{type:11,type_name:"badoo.bma.FriendsImportProvider",number:3,label:1},sharing_url:{type:9,number:2,label:1},tags:{type:11,type_name:"badoo.bma.Tag",number:7,label:3},sharing_description:{type:9,number:1,label:1},external_provider_details:{type:11,type_name:"badoo.bma.ExternalProvider",number:5,label:1},display_images:{type:9,number:6,label:3},display_string:{type:9,number:9,label:3},sharing_videos:{type:9,number:8,label:3}}}}()),$gpb.exists("badoo.bma.SecretComment","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SecretComment=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SecretComment",t.prototype._descriptor={fields:{comment:{type:9,number:2,label:1},can_report:{type:8,options:{"default":"false"},number:7,label:1},icon_id:{type:5,number:1,label:1},comment_id:{type:9,number:3,label:1},is_new:{type:8,options:{"default":"false"},number:4,label:1},is_reported:{type:8,options:{"default":"false"},number:6,label:1},can_delete:{type:8,options:{"default":"false"},number:8,label:1},date:{type:9,number:5,label:1}}}}(),$gpb.exists("badoo.bma.PhonebookContact","message")||($gpb.exists("badoo.bma.PhonebookContactDetail","message")||($gpb.exists("badoo.bma.PhonebookContactType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhonebookContactType=new $gpb.Enum("badoo.bma.PhonebookContactType");t._values=[1,2,3,4,5,6,7,8,9,10,11],t.HOME_NUMBERS=1,t.WORK_NUMBERS=2,t.MOBILE_NUMBERS=3,t.OTHER_NUMBERS=4,t.WORK_EMAILS=5,t.HOME_EMAILS=6,t.OTHER_EMAILS=7,t.IMPORT_EMAILS=8,t.FACEBOOK_ID=9,t.ODNOKLASSNIKI_ID=10,t.VKONTAKTE_ID=11}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PhonebookContactDetail=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhonebookContactDetail",t.prototype._descriptor={fields:{contact:{type:9,number:1,label:2},type:{type:14,type_name:"badoo.bma.PhonebookContactType",number:2,label:2},can_receive_sms:{type:8,number:3,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.PhonebookContact=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhonebookContact",t.prototype._descriptor={fields:{phonebook_id:{type:9,number:3,label:1},checked:{type:8,number:5,label:1},description:{type:9,number:8,label:1},contacts:{type:11,type_name:"badoo.bma.PhonebookContactDetail",number:2,label:3},gender:{type:14,type_name:"badoo.bma.SexType",number:9,label:1},disabled:{type:8,number:6,label:1},user_id:{type:9,number:7,label:1},photo_url:{type:9,number:4,label:1},name:{type:9,number:1,label:2}}}}()),$gpb.exists("badoo.bma.VoteResultType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VoteResultType=new $gpb.Enum("badoo.bma.VoteResultType");t._values=[1,2,3,4,5,6],t.NONE=1,t.YES=2,t.NO=3,t.MAYBE=4,t.SKIP=5,t.BROKEN=6}(),$gpb.exists("badoo.bma.PersonStatus","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PersonStatus=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PersonStatus",t.prototype._descriptor={fields:{distance:{type:5,number:5,label:1},distance_long:{type:9,number:7,label:1},uid:{type:9,number:1,label:2},last_active:{type:5,number:4,label:2},date_modified:{type:3,number:2,label:1},on_site:{type:8,number:6,label:1},is_newbie:{type:8,number:12,label:1},longitude:{type:1,number:13,label:1},active_long:{type:9,number:9,label:1},online:{type:14,type_name:"badoo.bma.OnlineStatus",number:3,label:2},latitude:{type:1,number:14,label:1},is_hot:{type:8,number:11,label:1},location_known:{type:8,number:15,label:1},distance_short:{type:9,number:8,label:1},riseup:{type:8,number:10,label:1}}}}(),$gpb.exists("badoo.bma.PersonProfile","message")||($gpb.exists("badoo.bma.Person","message")||($gpb.exists("badoo.bma.ExperimentalPopularityLevel","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalPopularityLevel=new $gpb.Enum("badoo.bma.ExperimentalPopularityLevel");t._values=[10,20,30,40,50],t.EXPERIMENTAL_POPULARITY_LEVEL_VERY_LOW=10,t.EXPERIMENTAL_POPULARITY_LEVEL_LOW=20,t.EXPERIMENTAL_POPULARITY_LEVEL_AVERAGE=30,t.EXPERIMENTAL_POPULARITY_LEVEL_HIGH=40,t.EXPERIMENTAL_POPULARITY_LEVEL_VERY_HIGH=50}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.Person=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Person",t.prototype._descriptor={fields:{preview_image_id:{type:9,number:9,label:2},uid:{type:9,number:1,label:2},visible:{type:8,number:14,label:2},number_of_photos:{type:5,number:10,label:2},verified_user:{type:8,number:19,label:1},popularity_level:{type:14,type_name:"badoo.bma.PopularityLevel",number:23,label:1},blocked:{type:8,number:17,label:2},has_spp:{type:8,number:25,label:1},has_riseup:{type:8,number:27,label:1},popularity_visitors_month:{type:5,number:31,label:1},deleted:{type:8,number:12,label:2},location:{type:5,number:8,label:2},experimental_popularity_level:{type:14,type_name:"badoo.bma.ExperimentalPopularityLevel",number:10001,label:1},experimental_available_credits:{type:5,number:10002,label:1},popularity_pnb_place:{type:5,number:29,label:1},friend:{type:8,number:15,label:2},has_paid_vip:{type:8,number:26,label:1},favourite:{type:8,number:16,label:2},age:{type:5,number:5,label:2},personal_album_id:{type:9,number:11,label:2},name:{type:9,number:3,label:2},date_modified:{type:3,number:2,label:1},dob:{type:9,number:6,label:2},gender:{type:14,type_name:"badoo.bma.SexType",number:4,label:2},celebrity:{type:8,number:20,label:1},has_mobile_app:{type:8,number:22,label:1},profile_visited:{type:8,number:18,label:2},pending:{type:8,number:13,label:2},wish:{type:9,number:7,label:2},popularity_visitors_today:{type:5,number:30,label:1},available_credits:{type:5,number:24,label:1},last_riseup_time_message:{type:9,number:28,label:1},match:{type:8,number:21,label:1}}}}()),$gpb.exists("badoo.bma.ProfileScore","message")||($gpb.exists("badoo.bma.SocialFriendsConnectionsBlock","message")||($gpb.exists("badoo.bma.SocialConnectionStatus","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SocialConnectionStatus=new $gpb.Enum("badoo.bma.SocialConnectionStatus");t._values=[1,2,3,4,5,6],t.SOCIAL_CONNECTION_STATUS_SEARCHING=1,t.SOCIAL_CONNECTION_STATUS_NO_CONNECTION=2,t.SOCIAL_CONNECTION_STATUS_NOT_AVAILABLE=3,t.SOCIAL_CONNECTION_STATUS_FOUND=4,t.SOCIAL_CONNECTION_STATUS_UNKNOWN=5,t.SOCIAL_CONNECTION_STATUS_POSSIBLE_CONNECTION=6}(),$gpb.exists("badoo.bma.CircleDescription","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CircleDescription=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CircleDescription",t.prototype._descriptor={fields:{display_text:{type:9,number:2,label:1},number:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.PromoActionsBlock","message")||($gpb.exists("badoo.bma.Button","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Button=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Button",t.prototype._descriptor={fields:{action_text:{type:9,number:1,label:2},required_action:{type:14,type_name:"badoo.bma.ActionType",number:2,label:2}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PromoActionsBlock=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PromoActionsBlock",t.prototype._descriptor={fields:{promo_text:{type:9,number:1,label:1},possible_actions:{type:11,type_name:"badoo.bma.Button",number:4,label:3},promo_explain_text:{type:9,number:3,label:1},promo_explain_anchor:{type:9,number:2,label:1}}}}()),$gpb.exists("badoo.bma.SocialFriendsConnection","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SocialFriendsConnection=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SocialFriendsConnection",t.prototype._descriptor={fields:{friends:{type:11,type_name:"badoo.bma.PhonebookContact",number:1,label:3},first_connection_provider_url:{type:9,number:2,label:3},feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:3,label:1},is_new:{type:8,number:4,label:1}}}
}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.SocialFriendsConnectionsBlock=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SocialFriendsConnectionsBlock",t.prototype._descriptor={fields:{status:{type:14,type_name:"badoo.bma.SocialConnectionStatus",number:6,label:1},providers_more:{type:11,type_name:"badoo.bma.FriendsImportProvider",number:4,label:3},circles:{type:11,type_name:"badoo.bma.CircleDescription",number:8,label:3},connections_block_title:{type:9,number:9,label:1},phonebook_import_legal_notice_title:{type:9,number:11,label:1},legal_text:{type:9,number:10,label:1},promo_action_block:{type:11,type_name:"badoo.bma.PromoActionsBlock",number:7,label:1},feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:16,label:1},providers_block_title:{type:9,number:5,label:1},connections:{type:11,type_name:"badoo.bma.SocialFriendsConnection",number:2,label:3},phonebook_import_legal_notice_message:{type:9,number:12,label:1},providers_main:{type:11,type_name:"badoo.bma.FriendsImportProvider",number:3,label:3},more_providers:{type:11,type_name:"badoo.bma.ExternalProvider",number:15,label:3},total:{type:5,number:1,label:1},more_connections:{type:11,type_name:"badoo.bma.SocialFriendsConnection",number:13,label:3},main_providers:{type:11,type_name:"badoo.bma.ExternalProvider",number:14,label:3}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ProfileScore=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ProfileScore",t.prototype._descriptor={fields:{award_images:{type:9,number:3,label:3},sharing_providers:{type:11,type_name:"badoo.bma.SocialSharingProvider",number:4,label:3},description:{type:9,number:6,label:1},social_friends_connection_block:{type:11,type_name:"badoo.bma.SocialFriendsConnectionsBlock",number:8,label:1},title:{type:9,number:5,label:1},score:{type:5,number:7,label:1},promo_block:{type:11,type_name:"badoo.bma.PromoBlock",number:2,label:1},uid:{type:9,number:1,label:1}}}}()),$gpb.exists("badoo.bma.ClientFacebookFriend","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientFacebookFriend=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientFacebookFriend",t.prototype._descriptor={fields:{pic_square:{type:9,number:4,label:1},gender:{type:14,type_name:"badoo.bma.SexType",number:3,label:2},user_id:{type:9,number:5,label:1},uid:{type:3,number:1,label:2},name:{type:9,number:2,label:2}}}}(),$gpb.exists("badoo.bma.Hashtable","message")||($gpb.exists("badoo.bma.KeyValue","message")||($gpb.exists("badoo.bma.Object","message")||($gpb.exists("badoo.bma.ObjectType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ObjectType=new $gpb.Enum("badoo.bma.ObjectType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,20,21,22,23,26,27,28,30,31,33,34,36,37,38,39,40,41,42,43,44,45,46,47,49,50,51,52,53,54,61,62,63,65,66,67,68,69,70,71,72,73,74,78,80,81,82,83,86,87,88,89,90,91,92,93,94,95,96,97,98,99,101,104,106,107,109,110,111,113,114,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,146,147,148,149,150,151,152,156,157,158,159,160,161,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,184,185,186,187,188,189,200,201,202,203,208,209,210,211,212,213,214,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,10001,10002,10003,10004,10005,10006,10007],t.TYPE_NULL=0,t.TYPE_INTEGER=1,t.TYPE_DOUBLE=2,t.TYPE_FLOAT=3,t.TYPE_BOOLEAN=4,t.TYPE_STRING=5,t.TYPE_SHORT=6,t.TYPE_LONG=7,t.TYPE_CHARACTER=8,t.TYPE_BYTE=9,t.TYPE_VECTOR=10,t.TYPE_ARRAY=11,t.TYPE_HASHTABLE=12,t.TYPE_BYTE_ARRAY=13,t.TYPE_MESSAGE=20,t.TYPE_SERVER_APP_STARTUP=21,t.TYPE_CLIENT_STARTUP=22,t.TYPE_SERVER_UPDATE_LOCATION=23,t.TYPE_CLIENT_RESOURCE=26,t.TYPE_SERVER_LOGIN_BY_PASSWORD=27,t.TYPE_FORM_FAILURE=28,t.TYPE_APP_SETTINGS=30,t.TYPE_LANGUAGE=31,t.TYPE_TUPLE=33,t.TYPE_MODIFIED_OBJECT=34,t.TYPE_PERSON=36,t.TYPE_PERSON_PROFILE=37,t.TYPE_PERSON_STATUS=38,t.TYPE_CLIENT_PICTURE=39,t.TYPE_PEOPLE_FOLDER=40,t.TYPE_SERVER_GET_FOLDER_PEOPLE=41,t.TYPE_CLIENT_FOLDER_PEOPLE=42,t.TYPE_SERVER_FOLDER_ACTION=43,t.TYPE_SERVER_SEND_USER_REPORT=44,t.TYPE_SERVER_FEEDBACK_FORM=45,t.TYPE_SEARCH_SETTINGS=46,t.TYPE_SERVER_ENCOUNTERS_VOTE=47,t.TYPE_SERVER_GET_ENCOUNTERS=49,t.TYPE_NO_MORE_SEARCH_RESULTS=50,t.TYPE_CLIENT_ENCOUNTERS=51,t.TYPE_ALBUM=52,t.TYPE_SERVER_REQUEST_ALBUM_ACCESS=53,t.TYPE_SERVER_UPLOAD_PHOTO=54,t.TYPE_CHAT_INSTANCE=61,t.TYPE_CHAT_MESSAGE=62,t.TYPE_CHAT_IS_WRITING=63,t.TYPE_SERVER_REQUEST_PICTURE=65,t.TYPE_CLIENT_LOGIN_SUCCESS=66,t.TYPE_PHONEBOOK_CONTACT=67,t.TYPE_SMILEY=68,t.TYPE_USER_REPORT_TYPE=69,t.TYPE_CLIENT_OPEN_CHAT=70,t.TYPE_SERVER_GET_CITY_NAME=71,t.TYPE_CLIENT_CITY_NAME=72,t.TYPE_SERVER_OPEN_CHAT=73,t.TYPE_SERVER_ERROR_MESSAGE=74,t.TYPE_SERVER_GET_ALBUM=78,t.TYPE_SAVE_PROFILE=80,t.TYPE_CLIENT_VOTE_RESPONSE=81,t.TYPE_SEARCH_SETTINGS_FAILURE=82,t.TYPE_SEARCH_SETTINGS_CONTEXT=83,t.TYPE_COUNT_DATA=86,t.TYPE_APPLICATION_FEATURE=87,t.TYPE_SERVER_GET_PERSON_PROFILE=88,t.TYPE_PROFILE_VISITING_SOURCE=89,t.TYPE_CHAT_MESSAGE_RECEIVED=90,t.TYPE_FEATURE_PRODUCT_LIST=91,t.TYPE_PURCHASE_RECEIPT=92,t.TYPE_CLIENT_UPLOAD_PHOTO=93,t.TYPE_FOLDER_REQUEST=94,t.TYPE_CLIENT_NOTIFICATION=95,t.TYPE_PRODUCT_REQUEST=96,t.TYPE_PURCHASE_TRANSACTION_SETUP=97,t.TYPE_PURCHASE_TRANSACTION=98,t.TYPE_PURCHASE_TRANSACTION_FAILED=99,t.TYPE_PEOPLE_FOLDER_REQUEST=101,t.TYPE_CLIENT_PURCHASE_RECEIPT=104,t.TYPE_PROMO_BLOCK=106,t.TYPE_CLIENT_USER_DATA_INCOMPLETE=107,t.TYPE_PROVIDER_PRODUCT_ID=109,t.TYPE_PRODUCT_TERMS=110,t.TYPE_PAYMENT_SETTINGS=111,t.TYPE_FEATURE_PRE_PURCHASE_INFO=113,t.TYPE_CITIES=114,t.TYPE_COUNTRY=117,t.TYPE_TRACKING_CODE_SELECT=118,t.TYPE_CHECK_PHONEBOOK=119,t.TYPE_PHONEBOOK_CONTACTLIST=120,t.TYPE_PHONEBOOK_CONTACT_DETAIL=121,t.TYPE_INVITE_DATA=122,t.TYPE_SERVER_PREPARE_FACEBOOK_PHOTOS=123,t.TYPE_CLIENT_IMPORT_PHOTOS=124,t.TYPE_SERVER_FACEBOOK_IMPORT_PHOTOS=125,t.TYPE_GROUP=126,t.TYPE_INTEREST=127,t.TYPE_INTERESTS_GROUPS=128,t.TYPE_CLIENT_INTERESTS=129,t.TYPE_SERVER_INTERESTS_GET=130,t.TYPE_INTERESTS_UPDATE=131,t.TYPE_ANALYTICS_EVENT=133,t.TYPE_SERVER_GET_USER_LIST=134,t.TYPE_CLIENT_USER_LIST=135,t.TYPE_CLIENT_CHANGE_HOST=136,t.TYPE_TIW_IDEAS=137,t.TYPE_SERVER_GET_TIW_IDEAS=138,t.TYPE_SERVER_REQUEST_ALBUM_ACCESS_LEVEL=139,t.TYPE_ALBUM_ACCESS=140,t.TYPE_SPP_PURCHASE_STATISTIC=141,t.TYPE_SERVER_SECTION_USER_ACTION=146,t.TYPE_SERVER_USER_VERIFIED_GET=147,t.TYPE_CLIENT_USER_VERIFIED_GET=148,t.TYPE_SERVER_USER_VERIFY=149,t.TYPE_CLIENT_USER_VERIFY=150,t.TYPE_SERVER_USER_REMOVE_VERIFY=151,t.TYPE_CLIENT_USER_REMOVE_VERIFY=152,t.TYPE_SERVER_GET_IMPORT_PHOTO_LIST=156,t.TYPE_CLIENT_IMPORT_PREPARE_SUCCESS=157,t.TYPE_SERVER_APP_STATS=158,t.TYPE_SERVER_GET_CHAT_MESSAGES=159,t.TYPE_CLIENT_CHAT_MESSAGES=160,t.TYPE_CLIENT_SERVER_TEST_ERROR=161,t.TYPE_SERVER_GET_PHOTOS_TO_RATE=166,t.TYPE_CLIENT_GET_PHOTOS_TO_RATE=167,t.TYPE_SERVER_RATE_PHOTO=168,t.TYPE_CLIENT_RATE_PHOTO_SUCCESS=169,t.TYPE_CLIENT_GET_PHOTO_RATING_CONFIGURATION=170,t.TYPE_CLIENT_GET_OWN_PHOTO_RATING=171,t.TYPE_CLIENT_SPOTLIGHT_META_DATA=172,t.TYPE_SERVER_GET_FRIENDS_IMPORT_PROVIDERS=173,t.TYPE_CLIENT_GET_FRIENDS_IMPORT_PROVIDERS=174,t.TYPE_SERVER_START_FRIENDS_IMPORT=175,t.TYPE_CLIENT_FRIENDS_IMPORT=176,t.TYPE_SERVER_CHECK_FRIENDS_IMPORT=177,t.TYPE_SERVER_FINISH_FRIENDS_IMPORT=178,t.TYPE_SERVER_GET_CITY=179,t.TYPE_CITY=180,t.TYPE_SERVER_INIT_SPOTLIGHT=181,t.TYPE_SPOTLIGHT_COMMAND=182,t.TYPE_SERVER_GET_SOCIAL_FRIENDS_CONNECTIONS=184,t.TYPE_SOCIAL_FRIENDS_CONNECTIONS_BLOCK=185,t.TYPE_CLIENT_GROW_SOCIAL_NETWORK=186,t.TYPE_CLIENT_CONNECT_ALL_CONTACTS=187,t.TYPE_CLIENT_SELECT_FRIENDS=188,t.TYPE_CLIENT_RESET_TRUSTED_NETWORK=189,t.TYPE_SERVER_SELECT_FRIENDS=200,t.TYPE_SERVER_CONNECT_ALL_CONTACTS=201,t.TYPE_SERVER_IMAGE_ACTION=202,t.TYPE_CLIENT_IMAGE_ACTION=203,t.TYPE_CLIENT_GET_RATE_MESSAGE=208,t.TYPE_SERVER_DELETE_ACCOUNT=209,t.TYPE_CLIENT_DELETE_ACCOUNT_INFO=210,t.TYPE_SERVER_GET_CAPTCHA=211,t.TYPE_CLIENT_GET_CAPTCHA=212,t.TYPE_SERVER_CAPTCHA_ATTEMPT=213,t.TYPE_CLIENT_CAPTCHA_ATTEMPT=214,t.TYPE_CLIENT_MODERATED_PHOTOS=219,t.TYPE_SERVER_GET_AWARD=220,t.TYPE_AWARD=221,t.TYPE_CLIENT_SOCIAL_SHARING_PROVIDERS=222,t.TYPE_SERVER_GET_SOCIAL_SHARING_PROVIDERS=223,t.TYPE_CHAT_SETTINGS=224,t.TYPE_SYSTEM_NOTIFICATION=225,t.TYPE_PERSON_NOTICE=226,t.TYPE_SERVER_GET_EXTERNAL_PROVIDERS=227,t.TYPE_EXTERNAL_PROVIDERS=228,t.TYPE_SERVER_START_EXTERNAL_PROVIDER_IMPORT=229,t.TYPE_EXTERNAL_PROVIDER_IMPORT_PROGRESS=230,t.TYPE_SERVER_CHECK_EXTERNAL_PROVIDER_IMPORT_PROGRESS=231,t.TYPE_SERVER_FINISH_EXTERNAL_PROVIDER_IMPORT=232,t.TYPE_EXTERNAL_PROVIDER_IMPORT_RESULT=233,t.TYPE_EXTERNAL_PROVIDER_SECURITY_CREDENTIALS=234,t.TYPE_SERVER_GET_PROFILE_SCORE=235,t.TYPE_PROFILE_SCORE=236,t.TYPE_DELETE_CHAT_MESSAGE=237,t.TYPE_DELETE_CHAT_MESSAGE_RESULT=238,t.TYPE_SERVER_UPDATE_SESSION=239,t.TYPE_SERVER_REGISTRATION=240,t.TYPE_SERVER_PERSON_PROFILE_EDIT_FORM=241,t.TYPE_USER_BASIC_INFO=242,t.TYPE_CLIENT_REPORT_TYPES=243,t.TYPE_CLIENT_FEEDBACK_LIST=244,t.TYPE_SERVER_CHANGE_PASSWORD=245,t.TYPE_CLIENT_PERSON_PROFILE_EDIT_FORM=246,t.TYPE_CLIENT_COMMON_SETTINGS=247,t.TYPE_S_E_O_INFO=248,t.TYPE_COMET_CONFIGURATION=249,t.TYPE_CREDITS_FEATURE_LIST=250,t.TYPE_PING=251,t.TYPE_GEO_LOCATION=252,t.TYPE_DEV_FEATURE=253,t.TYPE_SERVER_GET_DEV_FEATURE=254,t.TYPE_CLIENT_LANGUAGES=255,t.TYPE_SERVER_CHANGE_EMAIL=256,t.TYPE_SERVER_GET_LANGUAGES=257,t.TYPE_SERVER_GET_SECRET_COMMENTS=258,t.TYPE_SERVER_ADD_SECRET_COMMENT=259,t.TYPE_CLIENT_SECRET_COMMENTS=260,t.TYPE_CLIENT_WHATS_NEW=261,t.TYPE_CLIENT_DELETE_ACCOUNT_ALTERNATIVES=262,t.TYPE_USER=263,t.TYPE_SERVER_GET_USER=264,t.TYPE_SERVER_GET_CAPTCHA_BY_CONTEXT=265,t.TYPE_CLIENT_CAPTCHA_SETTINGS=266,t.TYPE_SERVER_SUBMIT_REFERRAL_CODE=267,t.TYPE_CLIENT_REFERRAL_CODE_RESULT=268,t.TYPE_CLIENT_COUNTRIES=269,t.TYPE_CLIENT_REGIONS=270,t.TYPE_SERVER_GET_CITIES=271,t.TYPE_CLIENT_CITIES=272,t.TYPE_SERVER_GET_REGIONS=273,t.TYPE_SERVER_COMMON_PLACES_UPDATE=274,t.TYPE_POPULARITY_PAGE=275,t.TYPE_SERVER_GET_SEARCH_DISTANCES=276,t.TYPE_SEARCH_DISTANCES=277,t.TYPE_PUSH_INFO_LIST=278,t.TYPE_SERVER_SEARCH_LOCATIONS=279,t.TYPE_CLIENT_LOCATIONS=280,t.TYPE_SERVER_PHOTO_LIKE=281,t.TYPE_SERVER_MOVE_PHOTO=282,t.TYPE_HELP_CENTER_SECTION_LIST=283,t.TYPE_SERVER_HELP_CENTER_GET_QUESTION=284,t.TYPE_HELP_CENTER_QUESTION=285,t.TYPE_SERVER_GET_SOCIAL_LIKE_PROVIDERS=286,t.TYPE_CLIENT_SOCIAL_LIKE_PROVIDERS=287,t.TYPE_SERVER_DELETE_SECRET_COMMENT=288,t.TYPE_SERVER_REPORT_SECRET_COMMENT=289,t.TYPE_SERVER_RATE_SECRET_COMMENTS=290,t.TYPE_SERVER_SUBSCRIBE_TO_SECRET_COMMENTS=291,t.TYPE_CLIENT_SECRET_COMMENT_ADDED=292,t.TYPE_EXPERIMENTAL_MESSAGE_CHECKER_CONFIG=293,t.TYPE_EXPERIMENTAL_MESSAGE_CHECKER_STATS=294,t.TYPE_IN_APP_NOTIFICATION_INFO=295,t.TYPE_CLIENT_STICKER_PACKS=296,t.TYPE_GIFT_PRODUCT_LIST=297,t.TYPE_PURCHASED_GIFT_ACTION=298,t.TYPE_SERVER_HELP_CENTER_GET_SECTION_LIST=299,t.TYPE_SURVEY_RESULT=300,t.TYPE_SURVEY_SUCCESS=301,t.TYPE_SERVER_GET_COMMON_PLACES=302,t.TYPE_CLIENT_COMMON_PLACES=303,t.TYPE_CLIENT_PAID_VIP_PROMO=304,t.TYPE_SERVER_GET_NEXT_PROMO_BLOCKS=305,t.TYPE_CLIENT_NEXT_PROMO_BLOCKS=306,t.TYPE_SERVER_GET_PLACES_SECTIONS=307,t.TYPE_CLIENT_PLACES_SECTIONS=308,t.TYPE_SERVER_OPEN_MESSENGER=309,t.TYPE_CLIENT_OPEN_MESSENGER=310,t.TYPE_SERVER_GET_PROMOTED_VIDEO=311,t.TYPE_CLIENT_PROMOTED_VIDEO=312,t.TYPE_CLIENT_SPP_PROMO=313,t.TYPE_SERVER_PAYMENT_UNSUBSCRIBE=314,t.TYPE_SERVER_SAVE_USER=315,t.TYPE_SERVER_GET_RADAR_INFO=316,t.TYPE_CLIENT_RADAR_INFO=317,t.TYPE_A_B_TEST=318,t.TYPE_CLIENT_CREDITS_PROMO=319,t.TYPE_SERVER_GET_GIFT_PRODUCT_LIST=320,t.TYPE_SERVER_UNITED_FRIENDS_ACTION=321,t.TYPE_SERVER_GET_EXTERNAL_PROVIDER_IMPORTED_DATA=322,t.TYPE_EXTERNAL_PROVIDER_IMPORTED_DATA=323,t.TYPE_CLIENT_UNSUBSCRIBE_ALTERNATIVE=324,t.TYPE_SERVER_GET_USERS=325,t.TYPE_CLIENT_USERS=326,t.TYPE_CLIENT_FLOATING_BUTTON_CONFIG=327,t.TYPE_EXPERIMENTAL_POPULARITY_PAGE=10001,t.TYPE_EXPERIMENTAL_SERVER_GIFT_ACTION=10002,t.TYPE_EXPERIMENTAL_RUSH_HOUR_CONFIG=10003,t.TYPE_EXPERIMENTAL_GIFTS_PRODUCTS=10004,t.TYPE_EXPERIMENTAL_STICKERS_PACKS=10005,t.TYPE_EXPERIMENTAL_SERVER_GET_LIVE_PHOTOS=10006,t.TYPE_EXPERIMENTAL_CLIENT_LIVE_PHOTOS=10007}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.Object=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Object",t.prototype._descriptor={fields:{object_type:{type:14,type_name:"badoo.bma.ObjectType",number:1,label:2},value:{type:12,number:2,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.KeyValue=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.KeyValue",t.prototype._descriptor={fields:{key:{type:11,type_name:"badoo.bma.Object",number:1,label:2},value:{type:11,type_name:"badoo.bma.Object",number:2,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.Hashtable=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Hashtable",t.prototype._descriptor={fields:{mappings:{type:11,type_name:"badoo.bma.KeyValue",number:1,label:3}}}}()),$gpb.exists("badoo.bma.ProfileField","message")||($gpb.exists("badoo.bma.ProfileOptionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ProfileOptionType=new $gpb.Enum("badoo.bma.ProfileOptionType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,10001,10002,10003,10004],t.UNKNOWN_PROFILE_OPTION_TYPE=0,t.PROFILE_OPTION_TYPE_LOCATION=1,t.PROFILE_OPTION_TYPE_ABOUT_ME=2,t.PROFILE_OPTION_TYPE_RELATIONSHIP=3,t.PROFILE_OPTION_TYPE_SEXUALITY=4,t.PROFILE_OPTION_TYPE_APPEARANCE=5,t.PROFILE_OPTION_TYPE_LIVING=6,t.PROFILE_OPTION_TYPE_CHILDREN=7,t.PROFILE_OPTION_TYPE_SMOKING=8,t.PROFILE_OPTION_TYPE_DRINKING=9,t.PROFILE_OPTION_TYPE_EDUCATION=10,t.PROFILE_OPTION_TYPE_LANGUAGES=11,t.PROFILE_OPTION_TYPE_WORK=12,t.PROFILE_OPTION_TYPE_APPEARANCE_HEIGHT=13,t.PROFILE_OPTION_TYPE_APPEARANCE_WEIGHT=14,t.PROFILE_OPTION_TYPE_APPEARANCE_BODY_TYPE=15,t.PROFILE_OPTION_TYPE_APPEARANCE_EYE_COLOR=16,t.PROFILE_OPTION_TYPE_APPEARANCE_HAIR_COLOR=17,t.PROFILE_OPTION_TYPE_WORK_JOB=18,t.PROFILE_OPTION_TYPE_WORK_COMPANY=19,t.PROFILE_OPTION_TYPE_WORK_INCOME=20,t.PROFILE_OPTION_TYPE_INTERESTED_IN=21,t.PROFILE_OPTION_TYPE_WORK_GENERAL=22,t.EXPERIMENTAL_PROFILE_OPTION_TYPE_FACEBOOK_INSTITUTION=10001,t.EXPERIMENTAL_PROFILE_OPTION_TYPE_FACEBOOK_GRADUATION_YEAR=10002,t.EXPERIMENTAL_PROFILE_OPTION_TYPE_FACEBOOK_PROFESSION=10003,t.EXPERIMENTAL_PROFILE_OPTION_TYPE_FACEBOOK_COMPANY_NAME=10004}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ProfileField=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ProfileField",t.prototype._descriptor={fields:{name:{type:9,number:3,label:1},value:{type:9,number:6,label:1},id:{type:9,number:1,label:1},type:{type_name:"badoo.bma.ProfileOptionType",number:2,label:1,type:14,options:{"default":"UNKNOWN_PROFILE_OPTION_TYPE"}},display_value:{type:9,number:4,label:2},required_action:{type:14,type_name:"badoo.bma.ActionType",number:5,label:1}}}}()),$gpb.exists("badoo.bma.BumpedInto","message")||($gpb.exists("badoo.bma.GeoLocation","message")||($gpb.exists("badoo.bma.PhysicalActivity","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhysicalActivity=new $gpb.Enum("badoo.bma.PhysicalActivity");t._values=[0,1,2,3,4,5,7,8],t.PHYSICAL_ACTIVITY_IN_VEHICLE=0,t.PHYSICAL_ACTIVITY_ON_BICYCLE=1,t.PHYSICAL_ACTIVITY_ON_FOOT=2,t.PHYSICAL_ACTIVITY_STILL=3,t.PHYSICAL_ACTIVITY_UNKNOWN=4,t.PHYSICAL_ACTIVITY_TILTING=5,t.PHYSICAL_ACTIVITY_WALKING=7,t.PHYSICAL_ACTIVITY_RUNNING=8}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.GeoLocation=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.GeoLocation",t.prototype._descriptor={fields:{longitude_precise:{type:1,number:4,label:1},description:{type:9,number:9,label:1},floor:{type:5,number:15,label:1},timestamp:{type:3,number:10,label:1},altitude:{type:2,number:13,label:1},is_agps:{type:8,number:6,label:1},latitude_precise:{type:1,number:5,label:1},altitude_accuracy:{type:5,number:14,label:1},source:{type:9,number:1,label:1},longitude:{type:2,number:2,label:1},activity:{type:14,type_name:"badoo.bma.PhysicalActivity",number:12,label:1},is_wifi_enabled:{type:8,number:17,label:1},latitude:{type:2,number:3,label:1},accuracy:{type:5,number:8,label:1},speed:{type:2,number:16,label:1},display_image:{type:9,number:11,label:1},uuid:{type:9,number:7,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.BumpedInto=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.BumpedInto",t.prototype._descriptor={fields:{date:{type:9,number:1,label:1},location:{type:11,type_name:"badoo.bma.GeoLocation",number:2,label:1}}}}()),$gpb.exists("badoo.bma.Interest","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Interest=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Interest",t.prototype._descriptor={fields:{name:{type:9,number:2,label:2},is_matched:{type:8,number:4,label:1},is_rejected:{type:8,number:6,label:1},is_hidden:{type:8,number:5,label:1},group_id:{type:5,number:3,label:1},interest_id:{type:5,number:1,label:1}}}}(),$gpb.exists("badoo.bma.Language","message")||($gpb.exists("badoo.bma.LanguageLevel","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.LanguageLevel=new $gpb.Enum("badoo.bma.LanguageLevel");t._values=[0,1,2,3,4],t.LANGUAGE_LEVEL_NONE=0,t.LANGUAGE_LEVEL_LOW=1,t.LANGUAGE_LEVEL_AVERAGE=2,t.LANGUAGE_LEVEL_FLUENT=3,t.LANGUAGE_LEVEL_NATIVE=4}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.Language=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Language",t.prototype._descriptor={fields:{uid:{type:5,number:1,label:2},name:{type:9,number:2,label:2},level:{type_name:"badoo.bma.LanguageLevel",number:3,label:1,type:14,options:{"default":"LANGUAGE_LEVEL_NONE"}}}}}()),$gpb.exists("badoo.bma.CreditsRewards","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CreditsRewards=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CreditsRewards",t.prototype._descriptor={fields:{circles:{type:11,type_name:"badoo.bma.CircleDescription",number:3,label:3},current_index:{type:5,number:2,label:1},description:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.ClientProfileOption","message")||($gpb.exists("badoo.bma.InputTypes","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.InputTypes=new $gpb.Enum("badoo.bma.InputTypes");t._values=[1,2,3,4,5,6,7,8,9],t.TEXT=1,t.SELECT=2,t.COMBINED=3,t.LANGUAGES=4,t.CHECKBOX=5,t.LOCATION_CHOOSER=6,t.DATE_PICKER=7,t.DESCRIPTION=8,t.HINT=9}(),$gpb.exists("badoo.bma.ClientProfileOptionValue","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientProfileOptionValue=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientProfileOptionValue",t.prototype._descriptor={fields:{display_value:{type:9,number:2,label:1},value:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.Tuple","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Tuple=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Tuple",t.prototype._descriptor={fields:{key:{type:11,type_name:"badoo.bma.Object",number:1,label:2},value:{type:11,type_name:"badoo.bma.Object",number:2,label:2}}}}(),$gpb.exists("badoo.bma.InputFormatTypes","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.InputFormatTypes=new $gpb.Enum("badoo.bma.InputFormatTypes");t._values=[1,2],t.ALPHANUMERIC=1,t.NUMERIC=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientProfileOption=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientProfileOption",t.prototype._descriptor={fields:{input_parts:{type:11,type_name:"badoo.bma.ClientProfileOption",number:6,label:3},current_option_id:{type:9,number:8,label:1},checked:{type:8,number:13,label:1},name:{type:9,number:2,label:2},hint:{type:9,number:15,label:1},display_value:{type:9,number:3,label:2},input_type:{type:14,type_name:"badoo.bma.InputTypes",number:4,label:1},possible_values:{type:11,type_name:"badoo.bma.ClientProfileOptionValue",number:18,label:3},if_master_value:{type:9,number:12,label:3},disabled:{type:8,number:14,label:1},max_chars:{type:5,number:5,label:1},options:{type:11,type_name:"badoo.bma.Tuple",number:7,label:3},if_master_id:{type:9,number:11,label:1},help_text:{type:9,number:9,label:1},min_chars:{type:5,number:10,label:1},type:{type_name:"badoo.bma.ProfileOptionType",number:17,label:1,type:14,options:{"default":"UNKNOWN_PROFILE_OPTION_TYPE"}},id:{type:9,number:1,label:1},format_type:{type:14,type_name:"badoo.bma.InputFormatTypes",number:16,label:1}}}}()),$gpb.exists("badoo.bma.Award","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Award=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Award",t.prototype._descriptor={fields:{award_images:{type:9,number:3,label:3},title_short:{type:9,number:12,label:1},description:{type:9,number:7,label:1},title:{type:9,number:6,label:1},secret_award:{type:8,number:10,label:1},sharing_providers:{type:11,type_name:"badoo.bma.SocialSharingProvider",number:4,label:3},award_id:{type:9,number:1,label:1},progress:{type:5,number:8,label:1},promo_block:{type:11,type_name:"badoo.bma.PromoBlock",number:2,label:1},shared:{type:8,number:9,label:1},profile_rating:{type:5,number:11,label:1},thumbnail:{type:9,number:5,label:1}}}}(),$gpb.exists("badoo.bma.ReceivedGifts","message")||($gpb.exists("badoo.bma.PurchasedGift","message")||($gpb.exists("badoo.bma.GiftProduct","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.GiftProduct=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.GiftProduct",t.prototype._descriptor={fields:{large_url:{type:9,number:3,label:1},thumb_url:{type:9,number:2,label:1},cost:{type:5,number:4,label:1},product_id:{type:5,number:1,label:1},section_ids:{type:5,number:5,label:3}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PurchasedGift=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PurchasedGift",t.prototype._descriptor={fields:{purchase_id:{type:9,number:1,label:1},box_large_url:{type:9,number:13,label:1},gift:{type:11,type_name:"badoo.bma.GiftProduct",number:3,label:1},timestamp:{type:3,number:2,label:1},from_user_name:{type:9,number:7,label:1},is_boxed:{type:8,number:11,label:1},box_thumb_url:{type:9,number:12,label:1},text:{type:9,number:4,label:1},from_user_preview_photo:{type:9,number:8,label:1},from_user_id:{type:9,number:6,label:1},to_user_id:{type:9,number:10,label:1},is_private:{type:8,number:5,label:1},from_user_is_deleted:{type:8,number:9,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ReceivedGifts=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ReceivedGifts",t.prototype._descriptor={fields:{gifts:{type:11,type_name:"badoo.bma.PurchasedGift",number:1,label:3},suggested_gift:{type:11,type_name:"badoo.bma.GiftProduct",number:2,label:1}}}}()),$gpb.exists("badoo.bma.ExperimentalExternalInterest","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalExternalInterest=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExperimentalExternalInterest",t.prototype._descriptor={fields:{picture_url:{type:9,number:2,label:1},title:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.SocialNetworkInfo","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SocialNetworkInfo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SocialNetworkInfo",t.prototype._descriptor={fields:{url:{type:9,number:2,label:1},handle:{type:9,number:3,label:1},external_provider:{type:11,type_name:"badoo.bma.ExternalProvider",number:1,label:1}}}}(),$gpb.exists("badoo.bma.Popularity","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Popularity=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Popularity",t.prototype._descriptor={fields:{sharing_providers:{type:11,type_name:"badoo.bma.SocialSharingProvider",number:3,label:3},sharing_images:{type:9,number:2,label:3},display_value:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.ClientUserVerifiedGet","message")||($gpb.exists("badoo.bma.UserVerificationMethodStatus","message")||($gpb.exists("badoo.bma.UserVerificationMethodType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.UserVerificationMethodType=new $gpb.Enum("badoo.bma.UserVerificationMethodType");t._values=[1,2,3,101,102,103,104],t.VERIFY_SOURCE_PHONE_NUMBER=1,t.VERIFY_SOURCE_SPP=2,t.VERIFY_SOURCE_EXTERNAL_PROVIDER=3,t.VERIFY_SOURCE_FACEBOOK=101,t.VERIFY_SOURCE_TWITTER=102,t.VERIFY_SOURCE_GPLUS=103,t.VERIFY_SOURCE_VKONTAKTE=104}(),$gpb.exists("badoo.bma.PhoneNumberVerificationType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhoneNumberVerificationType=new $gpb.Enum("badoo.bma.PhoneNumberVerificationType");t._values=[1,2,3],t.PHONE_NUMBER_VERIFICATION_TYPE_LINK=1,t.PHONE_NUMBER_VERIFICATION_TYPE_SMS_PIN=2,t.PHONE_NUMBER_VERIFICATION_TYPE_PHONE_CALL=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.UserVerificationMethodStatus=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.UserVerificationMethodStatus",t.prototype._descriptor={fields:{display_message:{type:9,number:3,label:1},name:{type:9,number:2,label:1},is_confirmed:{type:8,number:6,label:1},type:{type:14,type_name:"badoo.bma.UserVerificationMethodType",number:1,label:2},pin_length:{type:5,number:9,label:1},verification_data:{type:9,number:4,label:1},phone_number_verification_type:{type:14,type_name:"badoo.bma.PhoneNumberVerificationType",number:10,label:1},allow_unlink:{type:8,options:{"default":"true"},number:8,label:1},external_provider_data:{type:11,type_name:"badoo.bma.ExternalProvider",number:7,label:1},is_connected:{type:8,number:5,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientUserVerifiedGet=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientUserVerifiedGet",t.prototype._descriptor={fields:{display_message:{type:9,number:1,label:1},is_verified:{type:8,number:3,label:1},methods:{type:11,type_name:"badoo.bma.UserVerificationMethodStatus",number:2,label:3}}}}()),$gpb.exists("badoo.bma.ExperimentalGift","message")||($gpb.exists("badoo.bma.ExperimentalGiftAction","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalGiftAction=new $gpb.Enum("badoo.bma.ExperimentalGiftAction");t._values=[1,2,3],t.GIFT_ACTION_DELETE=1,t.GIFT_ACTION_HIDE=2,t.GIFT_ACTION_REMOVE_TEXT=3}(),$gpb.exists("badoo.bma.ExperimentalGiftType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalGiftType=new $gpb.Enum("badoo.bma.ExperimentalGiftType");t._values=[1,2],t.GIFT_TYPE_DEFAULT=1,t.GIFT_TYPE_PHOTO=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalGift=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExperimentalGift",t.prototype._descriptor={fields:{date_ticks:{type:3,number:14,label:1},is_sender_deleted:{type:8,number:7,label:1},sender_name:{type:9,number:10,label:1},text:{type:9,number:6,label:1},sender_uid:{type:9,number:9,label:1},allowed_actions:{type:14,type_name:"badoo.bma.ExperimentalGiftAction",number:3,label:3},date:{type:9,number:4,label:1},large_image_url:{type:9,number:13,label:1},image_url:{type:9,number:8,label:1},sender_photo_url:{type:9,number:11,label:1},is_hidden:{type:8,number:2,label:1},type:{type:14,type_name:"badoo.bma.ExperimentalGiftType",number:5,label:1},id:{type:9,number:1,label:1},recipient_uid:{type:9,number:12,label:1}}}}()),$gpb.exists("badoo.bma.CommonPlace","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CommonPlace=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CommonPlace",t.prototype._descriptor={fields:{category:{type:9,number:9,label:1},distance:{type:9,number:12,label:1},title:{type:9,number:2,label:1},sort_value:{type:5,number:15,label:1},icon_url:{type:9,number:4,label:1},last_visited_time:{type:3,number:8,label:1},badge_new_people:{type:9,number:14,label:1},large_icon_url:{type:9,number:16,label:1},disabled:{type:8,number:5,label:1},image_url:{type:9,number:3,label:1},people_count:{type:5,number:6,label:1},address:{type:9,number:11,label:1},accent_color:{type:5,number:7,label:1},address_full:{type:9,number:17,label:1},id:{type:9,number:10,label:2},location:{type:11,type_name:"badoo.bma.GeoLocation",number:13,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PersonProfile=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PersonProfile",t.prototype._descriptor={fields:{profile_image_id:{type:9,number:3,label:1},uid:{type:9,number:1,label:2},album_ids:{type:9,number:4,label:3},common_places_import_providers:{type:11,type_name:"badoo.bma.ExternalProvider",number:62,label:3},personal_information_source:{type:11,type_name:"badoo.bma.ExternalProvider",number:46,label:1},vote_hint:{type:9,number:54,label:1},secret_comment_count:{type:5,number:51,label:1},large_image_id:{type:9,number:11,label:1},profile_score:{type:11,type_name:"badoo.bma.ProfileScore",number:43,label:1},facebook_friends:{type:11,type_name:"badoo.bma.ClientFacebookFriend",number:34,label:3},encrypted_uid:{type:9,number:53,label:1},promo_banner:{type:11,type_name:"badoo.bma.PromoBlock",number:67,label:1},allow_edit_gender:{type:8,number:10,label:1},city:{type:9,number:32,label:1},allow_edit_dob:{type:8,number:25,label:1},vote_result:{type:14,type_name:"badoo.bma.VoteResultType",number:9,label:2},friends_in_common:{type:5,number:30,label:1},secret_comment_preview:{type:11,type_name:"badoo.bma.SecretComment",number:59,label:3},show_referral_code_request:{type:8,number:55,label:1},things_in_common:{type:5,number:28,label:1},vibee_number:{type:9,number:68,label:1},voting_enabled:{type:8,number:12,label:1},languages:{type:11,type_name:"badoo.bma.Hashtable",number:7,label:1},fans:{type:11,type_name:"badoo.bma.Person",number:40,label:3},chat_allowed:{type:8,number:21,label:1},bumped_into_places:{type:11,type_name:"badoo.bma.BumpedInto",number:57,label:3},allow_edit_name:{type:8,number:45,label:1},show_common_interests:{type:8,number:17,label:1},is_secret_comments_enabled:{type:8,number:60,label:1},email:{type:9,number:14,label:1},profile_url:{type:9,number:42,label:1},location:{type:11,type_name:"badoo.bma.GeoLocation",number:69,label:1},interests:{type:11,type_name:"badoo.bma.Interest",number:18,label:3},allow_smile:{type:8,number:58,label:1},common_interest_message:{type:9,number:22,label:1},spoken_language:{type:11,type_name:"badoo.bma.Language",number:47,label:3},interests_message:{type:9,number:19,label:1},account_confirmed:{type:8,number:15,label:1},places_in_common_total:{type:5,number:64,label:1},credits_rewards:{type:11,type_name:"badoo.bma.CreditsRewards",number:35,label:1},profile_options:{type:11,type_name:"badoo.bma.ClientProfileOption",number:13,label:3},phone:{type:9,number:16,label:1},personal_info:{type:11,type_name:"badoo.bma.Hashtable",number:6,label:1},age_message:{type:9,number:39,label:1},awards:{type:11,type_name:"badoo.bma.Award",number:36,label:3},received_gifts:{type:11,type_name:"badoo.bma.ReceivedGifts",number:63,label:1},things_in_common_title:{type:9,number:27,label:1},experimental_external_interests:{type:11,type_name:"badoo.bma.ExperimentalExternalInterest",number:10001,label:3},hottest_friends:{type:11,type_name:"badoo.bma.Person",number:50,label:3},percentage_complete:{type:5,number:5,label:2},friends_connections:{type:11,type_name:"badoo.bma.SocialFriendsConnectionsBlock",number:26,label:1},experimental_university_name:{type:9,number:10002,label:1},video_count:{type:5,number:61,label:1},profile_rating:{type:11,type_name:"badoo.bma.Award",number:37,label:1},interests_in_common:{type:5,number:29,label:1},social_networks:{type:11,type_name:"badoo.bma.SocialNetworkInfo",number:41,label:3},date_modified:{type:3,number:2,label:1},country:{type:9,number:33,label:1},add_to_favourites_allowed:{type:8,number:20,label:1},popularity:{type:11,type_name:"badoo.bma.Popularity",number:44,label:1},experimental_gift_teaser_url:{type:9,number:10004,label:1},allow_send_gift:{type:8,number:66,label:1},verified_information:{type:11,type_name:"badoo.bma.ClientUserVerifiedGet",number:24,label:1},profile_field:{type:11,type_name:"badoo.bma.ProfileField",number:48,label:3},their_vote_on_you:{type:14,type_name:"badoo.bma.VoteResultType",number:8,label:2},places_in_common:{type:11,type_name:"badoo.bma.CommonPlace",number:56,label:3},match_message:{type:9,number:38,label:1},allow_share:{type:8,number:52,label:1},experimental_gifts:{type:11,type_name:"badoo.bma.ExperimentalGift",number:10003,label:3},credits:{type:9,number:23,label:1},bumped_into:{type:11,type_name:"badoo.bma.BumpedInto",number:49,label:1},is_match:{type:5,number:31,label:1},is_inapp_promo_partner:{type:8,number:65,label:1}}}
}()),$gpb.exists("badoo.bma.SearchResultType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchResultType=new $gpb.Enum("badoo.bma.SearchResultType");t._values=[0,1,2],t.UNKNOWN_SEARCH_RESULT_TYPE=0,t.SEARCH_RESULT_TYPE_USER=1,t.SEARCH_RESULT_TYPE_EXTERNAL_CONTACT=2}(),$gpb.exists("badoo.bma.User","message")||($gpb.exists("badoo.bma.UnitedFriends","message")||($gpb.exists("badoo.bma.UnitedFriendsState","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.UnitedFriendsState=new $gpb.Enum("badoo.bma.UnitedFriendsState");t._values=[1,2,3,4],t.UNITED_FRIENDS_STATE_NOT_CONNECTED=1,t.UNITED_FRIENDS_STATE_SEARCHING=2,t.UNITED_FRIENDS_STATE_READY=3,t.UNITED_FRIENDS_STATE_CONNECTION_EXPIRED=4}(),$gpb.exists("badoo.bma.UnitedFriendsSection","message")||($gpb.exists("badoo.bma.UnitedFriend","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.UnitedFriend=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.UnitedFriend",t.prototype._descriptor={fields:{external_provider_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:2,label:1},preview_photo_url:{type:9,number:1,label:1},user_id:{type:9,number:3,label:1},name:{type:9,number:4,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.UnitedFriendsSection=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.UnitedFriendsSection",t.prototype._descriptor={fields:{total_count:{type:5,number:3,label:1},friends:{type:11,type_name:"badoo.bma.UnitedFriend",number:4,label:3},name:{type:9,number:2,label:1},type:{type:14,type_name:"badoo.bma.UnitedFriendsSectionType",number:1,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.UnitedFriends=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.UnitedFriends",t.prototype._descriptor={fields:{total_count:{type:5,number:2,label:1},state:{type:14,type_name:"badoo.bma.UnitedFriendsState",number:1,label:1},sections:{type:11,type_name:"badoo.bma.UnitedFriendsSection",number:4,label:3},connection_provider:{type:11,type_name:"badoo.bma.ExternalProvider",number:3,label:1}}}}()),$gpb.exists("badoo.bma.Country","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Country=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Country",t.prototype._descriptor={fields:{id:{type:5,number:1,label:2},name:{type:9,number:2,label:2}}}}(),$gpb.exists("badoo.bma.Region","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Region=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Region",t.prototype._descriptor={fields:{id:{type:5,number:1,label:1},name:{type:9,number:2,label:1}}}}(),$gpb.exists("badoo.bma.City","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.City=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.City",t.prototype._descriptor={fields:{latitude:{type:1,number:4,label:1},id:{type:5,number:1,label:2},longitude:{type:1,number:3,label:1},name:{type:9,number:2,label:2}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.User=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.User",t.prototype._descriptor={fields:{profile_fields:{type:11,type_name:"badoo.bma.ProfileField",number:490,label:3},allow_send_gift:{type:8,number:731,label:1},profile_score:{type:11,type_name:"badoo.bma.ProfileScore",number:470,label:1},profile_score_numeric:{type:5,number:471,label:1},pre_match_time_left:{type:11,type_name:"badoo.bma.GoalProgress",number:590,label:1},match_date:{type:3,number:581,label:1},has_paid_vip:{type:8,number:302,label:1},popularity_pnb_place:{type:5,number:691,label:1},allow_smile:{type:8,number:730,label:1},account_confirmed:{type:8,number:40,label:1},allow_chat:{type:8,number:660,label:1},my_vote:{type:14,type_name:"badoo.bma.VoteResultType",number:550,label:1},name:{type:9,number:200,label:1},gender:{type:14,type_name:"badoo.bma.SexType",number:230,label:1},wish:{type:9,number:360,label:1},bumped_into:{type:11,type_name:"badoo.bma.BumpedInto",number:430,label:1},places_in_common:{type:11,type_name:"badoo.bma.CommonPlace",number:511,label:3},is_newbie:{type:8,number:240,label:1},is_conversation:{type:8,number:630,label:1},allow_add_to_favourites:{type:8,number:650,label:1},secret_comment_count:{type:5,number:740,label:1},popularity_level:{type:14,type_name:"badoo.bma.PopularityLevel",number:690,label:1},came_from_text:{type:9,number:761,label:1},has_riseup:{type:8,number:303,label:1},profile_complete_percent:{type:5,number:50,label:1},is_unread:{type:8,number:280,label:1},email:{type:9,number:10,label:1},is_highlighted:{type:8,number:790,label:1},credits_rewards:{type:11,type_name:"badoo.bma.CreditsRewards",number:110,label:1},bumped_into_places:{type:11,type_name:"badoo.bma.BumpedInto",number:431,label:3},credits:{type:5,number:30,label:1},sort_timestamp:{type:3,number:830,label:1},awards:{type:11,type_name:"badoo.bma.Award",number:440,label:3},user_id:{type:9,number:1,label:2},is_blocked:{type:8,number:600,label:1},secret_comment_preview:{type:11,type_name:"badoo.bma.SecretComment",number:741,label:3},vote_sharing_providers:{type:11,type_name:"badoo.bma.SocialSharingProvider",number:720,label:3},interests_in_common:{type:5,number:410,label:1},united_friends:{type:11,type_name:"badoo.bma.UnitedFriends",number:800,label:1},country:{type:11,type_name:"badoo.bma.Country",number:91,label:1},region:{type:11,type_name:"badoo.bma.Region",number:92,label:1},personal_info_source:{type:11,type_name:"badoo.bma.ExternalProvider",number:320,label:1},is_removed:{type:8,number:810,label:1},has_bumped_into_places:{type:8,number:432,label:1},allow_voting:{type:8,number:670,label:1},is_hot:{type:8,number:260,label:1},is_extended_match:{type:8,number:300,label:1},experimental_whats_my_chances:{type:9,number:10001,label:1},last_riseup_time_message:{type:9,number:304,label:1},last_active:{type:3,number:780,label:1},last_active_string:{type:9,number:781,label:1},unread_messages_count:{type:5,number:640,label:1},online_status_text:{type:9,number:331,label:1},common_places_import_providers:{type:11,type_name:"badoo.bma.ExternalProvider",number:513,label:3},distance_short:{type:9,number:540,label:1},has_mobile_app:{type:8,number:680,label:1},city:{type:11,type_name:"badoo.bma.City",number:93,label:1},friends_in_common:{type:5,number:510,label:1},update_timestamp:{type:3,number:820,label:1},allow_edit_name:{type:8,number:80,label:1},is_secret_comments_enabled:{type:8,number:742,label:1},location:{type:11,type_name:"badoo.bma.GeoLocation",number:90,label:1},interests:{type:11,type_name:"badoo.bma.Interest",number:420,label:3},photo_count:{type:5,number:310,label:1},online_status:{type:14,type_name:"badoo.bma.OnlineStatus",number:330,label:1},is_invisible:{type:8,number:270,label:1},places_in_common_total:{type:5,number:512,label:1},is_favourite:{type:8,number:610,label:1},phone:{type:9,number:20,label:1},received_gifts:{type:11,type_name:"badoo.bma.ReceivedGifts",number:750,label:1},albums:{type:11,type_name:"badoo.bma.Album",number:370,label:3},distance:{type:5,number:520,label:1},video_count:{type:5,number:311,label:1},is_deleted:{type:8,number:250,label:1},interests_total:{type:5,number:400,label:1},social_networks:{type:11,type_name:"badoo.bma.SocialNetworkInfo",number:460,label:3},is_verified:{type:8,number:290,label:1},is_match:{type:8,number:580,label:1},vote_sharing_promo:{type:11,type_name:"badoo.bma.PromoBlock",number:710,label:1},display_message:{type:9,number:700,label:1},distance_long:{type:9,number:530,label:1},is_friend:{type:8,number:620,label:1},user_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:2,label:1},vote_hint:{type:9,number:681,label:1},profile_photo:{type:11,type_name:"badoo.bma.Photo",number:340,label:1},came_from:{type:14,type_name:"badoo.bma.ClientSource",number:760,label:1},allow_edit_gender:{type:8,number:70,label:1},has_spp:{type:8,number:301,label:1},allow_edit_dob:{type:8,number:60,label:1},popularity_visitors_month:{type:5,number:693,label:1},spoken_languages:{type:11,type_name:"badoo.bma.Language",number:480,label:3},allow_sharing:{type:8,number:770,label:1},friends_connections:{type:11,type_name:"badoo.bma.SocialFriendsConnectionsBlock",number:500,label:1},dob:{type:9,number:220,label:1},their_vote:{type:14,type_name:"badoo.bma.VoteResultType",number:560,label:1},age:{type:5,number:210,label:1},popularity:{type:11,type_name:"badoo.bma.Popularity",number:350,label:1},verified_information:{type:11,type_name:"badoo.bma.ClientUserVerifiedGet",number:100,label:1},match_message:{type:9,number:570,label:1},popularity_visitors_today:{type:5,number:692,label:1},is_inapp_promo_partner:{type:8,number:762,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.SearchResult=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SearchResult",t.prototype._descriptor={fields:{sharing_promo:{type:11,type_name:"badoo.bma.PromoBlock",number:14,label:1},secret_comment_count:{type:5,number:51,label:1},large_image_id:{type:9,number:4,label:1},images:{type:9,number:5,label:3},album:{type:11,type_name:"badoo.bma.Album",number:10,label:1},sharing_providers:{type:11,type_name:"badoo.bma.SocialSharingProvider",number:12,label:3},friends_in_common:{type:5,number:8,label:1},secret_comment_preview:{type:11,type_name:"badoo.bma.SecretComment",number:52,label:3},external_contact:{type:11,type_name:"badoo.bma.PhonebookContact",number:17,label:1},my_vote:{type:14,type_name:"badoo.bma.VoteResultType",number:15,label:1},person_status:{type:11,type_name:"badoo.bma.PersonStatus",number:2,label:1},person_profile:{type:11,type_name:"badoo.bma.PersonProfile",number:21,label:1},has_user_voted:{type:8,number:3,label:1},type:{type:14,type_name:"badoo.bma.SearchResultType",number:18,label:1},interests:{type:11,type_name:"badoo.bma.Interest",number:6,label:3},show_contact_import_promo_banner:{type:8,number:22,label:1},photos:{type:11,type_name:"badoo.bma.Photo",number:7,label:3},user:{type:11,type_name:"badoo.bma.User",number:24,label:1},hottest_friends:{type:5,number:23,label:1},bumped_into:{type:8,number:19,label:1},interests_in_common:{type:5,number:11,label:1},social_networks:{type:11,type_name:"badoo.bma.SocialNetworkInfo",number:20,label:3},is_secret_comments_enabled:{type:8,number:53,label:1},last_friend:{type:8,number:13,label:1},person:{type:11,type_name:"badoo.bma.Person",number:1,label:1},match_message:{type:9,number:16,label:1},profile_rating:{type:5,number:9,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientEncounters=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientEncounters",t.prototype._descriptor={fields:{rush_hour_config:{type:11,type_name:"badoo.bma.RushHourConfig",number:5,label:1},quota:{type:11,type_name:"badoo.bma.VotingQuota",number:4,label:1},results:{type:11,type_name:"badoo.bma.SearchResult",number:1,label:3},search_context:{type:14,type_name:"badoo.bma.SearchType",number:2,label:1},offset:{type:5,number:3,label:1},promo_banner:{type:11,type_name:"badoo.bma.PromoBlock",number:6,label:1}}}}()),B.Encounters||(B.Encounters=new $u.Observable),B.Encounters.Filter||(B.Encounters.Filter=new $class({name:"EncountersFilter",settings:null,get:function(e,t){if(this.settings)return e.call(t,this.settings),void 0;if(this._observable||(this._observable=new $u.Observable),this._observable.on("ready",e,t),!this.$r_get_encounters_settings){var i=(new $p.SearchSettingsContext).setSearchResponseContext($p.SearchType.ENCOUNTERS);this.$r_get_encounters_settings=new $gpb.Rpc($p.MessageType.SERVER_GET_ENCOUNTER_SETTINGS,i).on($p.MessageType.CLIENT_ENCOUNTER_SETTINGS,this.on_client_encounters_settings,this).request()}},invalidate:function(){this.$r_get_encounters_settings&&this.$r_get_encounters_settings.destroy(),this._observable&&this._observable.destroy(),this._observable=this.$r_get_encounters_settings=this.settings=null},on_client_encounters_settings:function(e,t){e||(this.$r_get_encounters_settings=null,this.update_settings(t),this._observable.fire("ready",this.settings),this._observable.destroy(),this._observable=null)},set:function(e,t,i){var s=$gpb.namespace("badoo.bma"),o=this.convert_gender(e["gender[]"]),n=(new s.SearchSettings).setContextType(s.SearchType.ENCOUNTERS).setGender(o).setFromAge(+e.age_f).setToAge(+e.age_t);new $gpb.Rpc(s.MessageType.SERVER_SAVE_ENCOUNTER_SETTINGS,n).on($gpb.Rpc.SpecialEvent.ON_REQ_END,t,i).request(),this.update_settings(n)},update_settings:function(e){this.settings={gender:e.getGender(),from_age:e.getFromAge(),to_age:e.getToAge(),min_age_range:e.getMinAgeRange()}},convert_gender:function(e){e=e||["M","F"];for(var t=[],i=0;i<e.length;i++)t[i]="M"===e[i]?$p.SexType.MALE:$p.SexType.FEMALE;return t},is_changed:function(e){if(null==this.settings)return!0;if(this.settings.from_age!==parseInt(e.age_f,10))return!0;if(this.settings.to_age!==parseInt(e.age_t,10))return!0;var t=this.convert_gender(e["gender[]"]).sort(),i=this.settings.gender.sort();return i.length!==t.length?!0:i[0]!==t[0]||i[1]!==i[1]?!0:!1}})),B.HoN_v3.TiwFilter=$class(B.TiwFilter,{toggle_popup:function(e){$u.FxTransition.fx(e)},save:function(e){(this.save_state!=B.App.state||B.Encounters.Filter.is_changed(e))&&B.Encounters.Filter.set(e,this.on_save,this)},update_search:function(){var e=$super(this,arguments);void 0==e["gender[]"]&&this.restore_empty_gender()},restore_empty_gender:function(){var e=this.form.elements;e.boy.checked=!0,e.girl.checked=!0},on_save:function(){B.App.app_link(this.save_state,this.save_url)},update_encounter_settings:function(e){var t=e.getFromAge(),i=e.getToAge();this.set_age_limit(t,i);var s=e.getGender(),o=-1!=s.indexOf($p.SexType.MALE),n=-1!=s.indexOf($p.SexType.FEMALE);this.set_gender(o,n),this.restore()}}),B.HoN_v3._Sidebar.FilterView=$class(B.HoN_v3._Sidebar.BaseView,{template:"sidebar/block.sidebar",block:"FILTER_FORM",init_data:function(e){var t={action_url:"/game",_MALE_SELECTED:!1,_FEMALE_SELECTED:!1},i=e.user.getAge()<18;t.AGE_SLIDER={slider_min_age:i?13:18,slider_max_age:i?17:80,slider_min_range:e.filter.min_age_range,slider_age_from:e.filter.from_age,slider_age_to:e.filter.to_age,slider_age_to_text:e.filter.to_age},t.AGE_SLIDER_TEXT=B.HoN_v3.Partner.Features.showTextInSidebarSearch();for(var s=0;s<e.filter.gender.length;s++)e.filter.gender[s]===$p.SexType.MALE&&(t._MALE_SELECTED=!0),e.filter.gender[s]===$p.SexType.FEMALE&&(t._FEMALE_SELECTED=!0);return this.set(t),this}}),B.HoN_v3._Sidebar.FilterViewController=$class(B.HoN_v3._Sidebar.BaseViewController,{view:new B.HoN_v3._Sidebar.FilterView,filter:null,constructor:function(){$super(this,arguments);var e=B.Encounters.Filter;e.get(this._onFilterFetched,this)},init:function(){this.filter=new B.HoN_v3.TiwFilter({closed_url:null,save_state:"mm",save_url:"/game"}),this.filter.on({before_open:this._onBeforeOpen,toggled:this._onToggleEnd},this),B.on({"encounter-settings:change":this._onSettingsChanged},this),this._fetchIsOnStartupOpened()},set_user:function(e){this.user=e,this.check_initial_data()},check_initial_data:function(){this.user&&this.encounters_filter&&this.setInitialData({user:this.user,filter:this.encounters_filter})},_onFilterFetched:function(e){this.encounters_filter=e,this.check_initial_data()},_onBeforeOpen:function(){this.fire("before_open")},_onToggleEnd:function(e){this.fire("toggled",e)},_fetchIsOnStartupOpened:function(){B.HoN_v3.Models.Cache.CommonSettingsCache.fetch(this._onCommonSettings,this)},_onCommonSettings:function(e){var t=e.getSettings();t.getWebSpecificOptions()&&t.getWebSpecificOptions().getOpenSearchFilter()&&this.filter.open($("search_form"))},_onSettingsChanged:function(e){this.filter.update_encounter_settings(e)}}),B.HoN_v3._Sidebar.FooterView=$class(B.HoN_v3._Sidebar.BaseView,{template:"sidebar/block.sidebar",block:"FOOTER",init_data:function(e){var t={SEARCH:!1,_SEARCH_PLACEHOLDER:e.features.ALLOW_PROFILE_SEARCH};return this.set(t),this}}),B.HoN_v3._Sidebar.FooterViewController=$class(B.HoN_v3._Sidebar.BaseViewController,{view:new B.HoN_v3._Sidebar.FooterView,constructor:function(){$super(this,arguments),this.setInitialData({features:{ALLOW_PROFILE_SEARCH:!!B.Features.get("ALLOW_PROFILE_SEARCH")&&B.Features.get("ALLOW_PROFILE_SEARCH").enabled}})}}),B.HoN_v3._Sidebar.SidebarController=$class({SCREEN_WIDTH_THRESHOLD:1207,RETRY_COUNT:5,sidebar_free_states:{},is_small:!1,previous_scroll_pos:0,expanded:!1,_scrolling:!1,_close_after_scroll:!1,search_by_name:null,root_el:null,constructor:function(){B.on("app:init",this.init,this)},init_filter:function(){this.views.filter=new B.HoN_v3._Sidebar.FilterViewController($el.down(this.root_el,".js-sidebar-filter")),this.views.filter.on({before_open:this.on_filter_before_open,toggled:this.recalc_height},this),B.HoN_v3.Models.Cache.CurrentUserCache.fetch(this.set_filter_user,this)},set_filter_user:function(e){this.views.filter.set_user.call(this.views.filter,e.getUser())},init:function(){if(!this.sidebar_free_states[B.App.state]&&(this.root_el=$("sidebar"),null!==this.root_el)){var e=$u.dust.render("sidebar/block.sidebar",this.get_sidebar_tpl_initial_data());$el.dom.html(this.root_el,e),this.views={header:new B.HoN_v3._Sidebar.HeaderViewController($el.down(this.root_el,".js-sidebar-logo")),user:new B.HoN_v3._Sidebar.UserViewController($el.down(this.root_el,".js-sidebar-user")),nav:new B.HoN_v3._Sidebar.NavViewController($el.down(this.root_el,".js-sidebar-nav")),footer:new B.HoN_v3._Sidebar.FooterViewController($el.down(this.root_el,".js-sidebar-footer"))},this.isEncountersEnabled()&&(B.HoN_v3.on("search:settings-changed",this.reload_filter,this),this.init_filter()),B.HoN_v3.Models.Cache.CurrentUserCache.fetch(this._on_user_fetched,this),B.HoN_v3.Models.Cache.AppSettingsCache.fetch(this._on_settings_fetched,this),B.Features.get("ALLOW_PROFILE_SEARCH")&&B.Features.get("ALLOW_PROFILE_SEARCH").enabled&&(this.search_by_name=new B.HoN_v3.SearchByName,this.search_by_name.init()),this.scroll_root_el=$el.down(this.root_el,".js-sidebar-wrapper"),this.scrollable=$c.get(this.scroll_root_el,"scrollable"),this.scrollable&&this.scrollable.on({drag_start:this.on_scroll_start,drag_stop:this.on_scroll_stop},this);var t=$u.tpl("only screen and (max-width: {width}px)",{width:this.SCREEN_WIDTH_THRESHOLD});$u.mediaquery.on(t,this.toggle_screen_mode,this),this.toggle_screen_mode($u.mediaquery.matches(t)),B.HoN_v3.on({"sidebar:block":this.block_nav},this),B.HoN_v3.Partner.match("ok")?new $r("/ws-get-sidebar?ws=1",{ready:this.init_widget},this):B.HoN_v3.Spotlight.init()}},isEncountersEnabled:function(){return B.Features.getFeature("ALLOW_OPEN_ENCOUNTERS").getEnabled()},init_widget:function(e){var t=e&&e.Sidebar&&e.Sidebar.widget;t&&B.HoN_v3.fire("sidebar:init-"+t.type,t.config)},block_nav:function(e){$el.tgl(this.root_el,"section-navigation--blocked",e)},on_scroll_start:function(){this._scrolling=!0},on_scroll_stop:function(){this._scrolling=!1,this._close_after_scroll&&this.toggle(this._close_after_scroll=!1)},toggle_screen_mode:function(e){this.is_small=e,e?this.init_hover():this.destroy_hover()},init_hover:function(){$e.add(this.root_el,"mouseenter",this.on_mouseenter,this),$e.add(this.root_el,"mouseleave",this.on_mouseleave,this)},destroy_hover:function(){$e.del(this.root_el,"mouseenter",this.on_mouseenter,this),$e.del(this.root_el,"mouseleave",this.on_mouseleave,this)},on_mouseenter:function(){return this.toggle(!0),!0},on_mouseleave:function(){return $el.has($e.e.relatedTarget,"tooltip")||$el.has($e.e.relatedTarget,"tooltip-txt")?void 0:(this.toggle(!1),!0)},toggle:function(e){return this._scrolling?(this._close_after_scroll=!e,void 0):(this.expanded!==e&&(e||(this.previous_scroll_pos=this.get_scroll()),$el.tgl(this.root_el,"show",e),e&&(this.update_scrollbar(),this.set_scroll(this.previous_scroll_pos)),this.expanded=e,B.HoN_v3.fire("sidebar:change_mode",e)),void 0)},update_scrollbar:function(){this.scrollable&&this.scrollable.redraw(this.scroll_root_el)},get_scroll:function(){return this.scrollable?this.scrollable.scrollbar.scroll_el.scrollTop:0},set_scroll:function(e){this.scrollable&&(this.scrollable.scrollbar.scroll_el.scrollTop=e)},on_filter_before_open:function(){this.is_small&&this.toggle(!0)},recalc_height:function(e){$el.tgl(this.root_el,"filter-open",e);var t=!1;if(e){var i=$el.down(this.root_el,".js-top100");if(i){var s=$el.down(this.root_el,".js-nav-cnt"),o=$el.down(s,".js-tiw-filter"),n=i.getBoundingClientRect().top-s.getBoundingClientRect().bottom-o.offsetHeight;t=0>=n}}$el.tgl(this.root_el,"sidebar-full-height",t),this.update_scrollbar()},get_sidebar_tpl_initial_data:function(){var e={_SPOTLIGHT:!0,_LOCAL_TOP:!0,_SEARCH_BY_NAME_PLACEHOLDER:B.Features.get("ALLOW_PROFILE_SEARCH")&&B.Features.get("ALLOW_PROFILE_SEARCH").enabled};return e},_on_user_fetched:function(e){var t=e.getUser();B.fire("user:photo_count",t.getPhotoCount()),this.views.user.setUser(t)},_on_settings_fetched:function(e){this.views.user.setSettings(e.getSettings())},reload_filter:function(){this.views.filter.destroy(),B.Encounters.Filter.invalidate(),this.init_filter()}}),B.HoN_v3.Sidebar=new B.HoN_v3._Sidebar.SidebarController,B.HoN_v3.SearchByName=function(e){var t=$class(e.ViewController,{scrollable_el:null,scrollable:null,scroll_el:null,scroll_duration:150,views:null,start:e.noop,init:function(){this.set_element($("sidebar")),this.scrollable_el=$el.down(this.el,".js-search-people-wrapper"),this.scrollable=$c.get(this.scrollable_el,"scrollable"),this.scrollable&&(this.scroll_el=this.scrollable.scrollbar.scroll_el,$e.add(this.scroll_el,"scroll",this.on_scroll,this)),this.views={},this.scroll_stop_timer=new $t(this.on_scroll_stop,this,200)},deinit:function(){this.scroll_stop_timer.clear(),this.scrollable&&$e.del(this.scroll_el,"scroll",this.on_scroll,this),this.scrollable_el=this.scroll_el=this.scrollable=this.scroll_stop_timer=null},stop:function(){for(var e in this.views){var t=this.views[e].controller.el;t.parentNode.removeChild(t)}this.views={}},action:function(e){"update"===e&&this.scrollable&&this.scrollable.redraw_now()},append_view:function(e){var t,o,n=e.render();return e instanceof i?t="input":e instanceof s&&(t="result"),o=$("search-by-name-"+t),o.appendChild(n),this.views[t]=e,this},transition:function(e){e||(e=this.nav_el),this.scrollable&&(this.scrollable.redraw_now(),this.scrollable.scrollbar.scroll_to_element(e,{duration:this.scroll_duration,callback:this.transition_end,ctx:this}))},get_scrollable_height:function(){return this.scrollable?this.scrollable_el.offsetHeight:0},transition_end:function(){this.fire("transition-end")},on_scroll:function(e){this.views.result&&this.scroll_stop_timer.set(150,e),this.fire("scroll")},on_scroll_stop:function(e){this.views.result&&this.views.result.fire("try-load-more",{wrap_el:e})}}),i=$class(e.View,{get_result:function(){return $u.dust.render("sidebar/block.sidebar",{},"FOOTER/SEARCH")},controller:$class(e.ViewController,{control:null,init:e.noop,deinit:e.noop,start:function(){this.control=$c.get($el.down(this.el,".js-search-people"),"search-people"),this.$e_control=this.control.on({search:this.on_search,cancel:this.on_cancel},this),this.$e=$e.on({".js-search-people-cancel":this.on_cancel,".js-search-people-retry":this.on_search_retry},this)},stop:function(){$e.un(this.$e),this.control.un(this.$e_control),this.control=null},on_search_retry:function(){this.fire("search",this.control.val)},on_search:function(e){this.fire("search",e)},on_cancel:function(){this.fire("clear")},action:function(e){var t=this.control;"clear"===e?t.clear():"update"===e&&t.toggle_loading(!1)}})});!function(){function e(e,a){return e.section(a.get(["_TITLE"],!1),a,{block:t},{}).write(" ").section(a.get(["_MAIN"],!1),a,{block:i},{}).write(" ").section(a.get(["_NO_RESULTS"],!1),a,{block:s},{}).write(" ").section(a.get(["_ERROR"],!1),a,{block:o},{}).write(" ").section(a.get(["_MORE_USERS"],!1),a,{block:n},{})}function t(e,t){return e.write(' <span class="search-results__title">').reference("title",t).write("</span> ")}function i(e,t){return e.write(' <div> <div class="search-results__item"> <div class="brick brick--hover"> <div class="brick-img"><img src="').reference("photo_url",t).write('" alt=""></div> </div> <b class="inline search-results__name">').reference("name",t).write('</b> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("state",t).write('"></a> </div> </div> ')}function s(e,t){return e.write(' <span class="search-results__title js-search-people-message">').reference("message",t).write("</span> ")}function o(e,t){return e.write(' <span class="search-results__title js-search-people-message">').reference("message",t).write(' <span class="p-link js-search-people-retry">').reference("url_text",t).write("</span></span> ")}function n(e){return e.write(' <div class="search-results__loader js-search-people-users-more"><div class="loader loader--grey"><div class="loader_"></div></div></div> ')}return $u.dust.register("search/block.search-by-name",e),e.s={_TITLE:t,_MAIN:i,_NO_RESULTS:s,_ERROR:o,_MORE_USERS:n},e}();var s=$class(e.View,{get_result:function(){return $u.dust.render("sidebar/block.sidebar",{},"_SEARCH_BY_NAME")},controller:$class(e.ViewController,{res_el:null,users_el:null,users_more_el:null,support_transitions:!1,deinit:e.noop,init:function(){this.support_transitions=$e.supported("transitionend")},start:function(){this.res_el=$el.down(this.el,".js-search-people-users-cnt"),this.users_el=$el.down(this.el,".js-search-people-users")},stop:function(){this.users_more_el=this.users_el=this.res_el=null},scroll_to_result:function(){$e.del(this.users_el,"transitionend",this.scroll_to_result,this),this.fire("scroll-to-result",this.users_el)},prepare_data:function(e){var t,i=e.getUid(),s="//"+location.host,o={from_search_by_name:1};return"-"===i.charAt(0)||-1!==i.indexOf("://")?(s+="/game/",t="mm",o.user_id=i):(s+="/profile/0"+i,t=i===B.Session.getUserId()?"profile-edit":"profile-view"),{name:e.getName(),photo_url:e.getPreviewImageUrl(),url:s+"?"+$r.toQueryString(o),state:t}},action:function(e,t){"try-load-more"===e?this.users_more_el&&this.try_load_more(t.wrap_el):"show-results"===e&&t?(this.set_height(),this.support_transitions&&$e.add(this.users_el,"transitionend",this.scroll_to_result,this),t.result?this.show_results(t):t.error&&this.show_error(t),this.toggle_search(!0),this.set_height(),this.support_transitions||this.scroll_to_result(),this.setup_more(t)):"clear"===e?(this.clear_results(),this.toggle_search(!1),this.set_height()):"update-height"===e?this.set_height():"insert-users"===e&&this.users_more_el&&(this.insert_users(t),this.set_height())},try_load_more:function(e){var t=this.users_more_el;t.offsetTop&&e.offsetHeight+e.scrollTop>=t.offsetTop&&this.fire("load-more-users")},insert_users:function(e){for(var t=[],i=e.result.getUser(),s=0,o=i.length;o>s;s+=1)t.push(this.prepare_data(i[s]));this.res_el.insertBefore($u.tpl2el($u.dust.render("search/block.search-by-name",{_MAIN:t})),this.users_more_el),e.result.getLastBlock()&&($el.remove(this.users_more_el),this.users_more_el=null)},setup_more:function(e){this.users_more_el=e.result&&!e.result.getLastBlock()?$el.down(this.el,".js-search-people-users-more"):null},show_results:function(e){var t,i,s=e.result,o=s.getUser(),n=s.getTotalCount(),a={};for(i=o.length,a._TITLE={title:$u.tpl($l.get("hon/search_by_name","USERS_FOUND"),{count:n,user:$l.get_num_dependent("user",n)})},a._MAIN=[],t=0;i>t;t++)a._MAIN.push(this.prepare_data(o[t]));s.getLastBlock()||(a._MORE_USERS=!0),this.res_el.innerHTML=$u.dust.render("search/block.search-by-name",a)},show_error:function(e){var t={};switch(e.error){case"not-found":t._NO_RESULTS={message:$l.get("hon/search_by_name","NO_RESULTS_FOUND")};break;case"server-error":t._ERROR={message:$l.get("hon/search_by_name",["ERROR","SERVICE_IS_UNAVAILABLE"]),url_text:$l.get("hon/search_by_name",["ERROR","URL_TEXT"])}}this.res_el.innerHTML=$u.dust.render("search/block.search-by-name",t)},toggle_search:function(e){$el.tgl(this.res_el,"search-results_",e)},set_height:function(){this.users_el.style.height=this.res_el.offsetHeight+"px"},clear_results:function(){this.res_el.innerHTML="",this.users_more_el=null}})});return $gpb.exists("badoo.bma.ServerGetUserList","message")||($gpb.exists("badoo.bma.TraversalDirection","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.TraversalDirection=new $gpb.Enum("badoo.bma.TraversalDirection");t._values=[1,2],t.DIRECTION_BACKWARDS=1,t.DIRECTION_FORWARDS=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetUserList=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetUserList",t.prototype._descriptor={fields:{preferred_count:{type:5,number:4,label:1},direction:{type_name:"badoo.bma.TraversalDirection",number:17,label:1,type:14,options:{"default":"DIRECTION_BACKWARDS"}},update_timestamp:{type:3,number:16,label:1},common_place_id:{type:9,number:12,label:1},search_string:{type:9,number:7,label:1},city_id:{type:5,number:9,label:1},section_id:{type:9,number:2,label:1},section_user_preview_image_size:{type:11,type_name:"badoo.bma.PhotoSize",number:8,label:1},filter:{type:14,type_name:"badoo.bma.UserListFilter",number:6,label:3},source:{type:14,type_name:"badoo.bma.ClientSource",number:14,label:1},showed_promo_blocks:{type:14,type_name:"badoo.bma.PromoBlockType",number:13,label:3},version:{type:9,number:5,label:1},folder_id:{type:14,type_name:"badoo.bma.FolderTypes",number:1,label:2},offset:{type:5,number:3,label:1},force_deprecated_section_user:{type:8,number:15,label:1},user_field_filter:{type:11,type_name:"badoo.bma.UserFieldFilter",number:10,label:1}}}}()),$gpb.exists("badoo.bma.ClientUserList","message")||($gpb.exists("badoo.bma.ListSection","message")||($gpb.exists("badoo.bma.SectionActionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SectionActionType=new $gpb.Enum("badoo.bma.SectionActionType");t._values=[1,2],t.SECTION_USER_DELETE=1,t.SECTION_USER_MARK_AS_VIEWED=2}(),$gpb.exists("badoo.bma.ListSectionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ListSectionType=new $gpb.Enum("badoo.bma.ListSectionType");t._values=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],t.LIST_SECTION_TYPE_GENERAL=1,t.LIST_SECTION_TYPE_TEMPORAL_MATCH=2,t.LIST_SECTION_TYPE_BUMPED_INTO=3,t.LIST_SECTION_TYPE_ALL_MESSAGES=4,t.LIST_SECTION_TYPE_FAVORITES=5,t.LIST_SECTION_TYPE_FAVORITED_YOU=6,t.LIST_SECTION_TYPE_FAVORITES_MUTUAL=7,t.LIST_SECTION_TYPE_WANT_TO_MEET_YOU_UNVOTED=8,t.LIST_SECTION_TYPE_WANT_TO_MEET_YOU_MUTUAL=9,t.LIST_SECTION_TYPE_WANT_TO_MEET_YOU_REJECTED=10,t.LIST_SECTION_TYPE_PROFILE_VISITORS=11,t.LIST_SECTION_TYPE_BLOCKED=12,t.LIST_SECTION_TYPE_PRIVATE_ALBUM_ACCESS=13,t.LIST_SECTION_TYPE_SPOTLIGHT=14,t.LIST_SECTION_TYPE_PROFILE_SEARCH=15,t.LIST_SECTION_TYPE_LOCAL_HOT=16,t.LIST_SECTION_TYPE_COMMON_PLACE=17,t.LIST_SECTION_TYPE_PEOPLE_NEARBY=18}(),$gpb.exists("badoo.bma.SectionUser","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SectionUser=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SectionUser",t.prototype._descriptor={fields:{display_message:{type:9,number:15,label:1},uid:{type:9,number:1,label:2},spotlight_id:{type:3,number:13,label:1},photo:{type:11,type_name:"badoo.bma.Photo",number:37,label:1},allow_add_to_favourites:{type:8,number:34,label:1},number_of_photos:{type:5,number:7,label:1},verified_user:{type:8,number:14,label:1},distance_short:{type:9,number:16,label:1},rated_photo:{type:11,type_name:"badoo.bma.RatedPhoto",number:17,label:3},friends_in_common:{type:5,number:21,label:1},things_in_common:{type:5,number:19,label:1},my_vote:{type:14,type_name:"badoo.bma.VoteResultType",number:26,label:1},is_match:{type:8,number:22,label:1},highlighted:{type:8,number:36,label:1},unread_messages:{type:5,number:18,label:1},preview_image_url:{type:9,number:6,label:1},unread:{type:8,number:12,label:1},pending:{type:8,number:9,label:1},places_in_common_count:{type:5,number:32,label:1},online_status:{type:14,type_name:"badoo.bma.OnlineStatus",number:11,label:1},deleted:{type:8,number:8,label:1},wish:{type:9,number:5,label:1},is_favourite:{type:8,number:33,label:1},invisible:{type:8,number:10,label:1},is_extended_match:{type:8,number:31,label:1},interests_in_common:{type:5,number:20,label:1},name:{type:9,number:2,label:1},is_celebrity:{type:8,number:24,label:1},gender:{type:14,type_name:"badoo.bma.SexType",number:4,label:1},came_from:{type:14,type_name:"badoo.bma.ClientSource",number:38,label:1},common_interests:{type:11,type_name:"badoo.bma.Interest",number:29,label:3},conversation:{type:8,number:28,label:1},rated_photos:{type:11,type_name:"badoo.bma.Photo",number:25,label:3},progress_data:{type:11,type_name:"badoo.bma.GoalProgress",number:27,label:1},bumped_into:{type:8,number:30,label:1},age:{type:5,number:3,label:1}}}
}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ListSection=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ListSection",t.prototype._descriptor={fields:{last_block:{type:8,number:5,label:1},name:{type:9,number:2,label:1},total_count:{type:5,number:3,label:1},user_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:8,label:1},allowed_actions:{type:14,type_name:"badoo.bma.SectionActionType",number:9,label:3},section_type:{type:14,type_name:"badoo.bma.ListSectionType",number:10,label:1},section_id:{type:9,number:1,label:2},add_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:6,label:1},user:{type:11,type_name:"badoo.bma.SectionUser",number:4,label:3},section_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:7,label:1},users:{type:11,type_name:"badoo.bma.User",number:11,label:3}}}}()),$gpb.exists("badoo.bma.TrustedPromoBlock","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.TrustedPromoBlock=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.TrustedPromoBlock",t.prototype._descriptor={fields:{status:{type:14,type_name:"badoo.bma.SocialConnectionStatus",number:1,label:1},circles:{type:11,type_name:"badoo.bma.CircleDescription",number:2,label:3},promo_action_block:{type:11,type_name:"badoo.bma.PromoActionsBlock",number:5,label:1},potential_friends:{type:9,number:3,label:1},display_images:{type:9,number:4,label:3}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientUserList=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientUserList",t.prototype._descriptor={fields:{spotlight_version:{type:9,number:5,label:1},common_places:{type:11,type_name:"badoo.bma.CommonPlace",number:11,label:3},description:{type:9,number:8,label:1},title:{type:9,number:7,label:1},promo_banners:{type:11,type_name:"badoo.bma.PromoBlock",number:13,label:3},total_count:{type:5,number:3,label:1},section:{type:11,type_name:"badoo.bma.ListSection",number:1,label:3},promo_features:{type:11,type_name:"badoo.bma.ApplicationFeature",number:12,label:3},trusted_promo_block:{type:11,type_name:"badoo.bma.TrustedPromoBlock",number:10,label:1},version:{type:9,number:4,label:1},total_sections:{type:5,number:2,label:1},promo_block:{type:11,type_name:"badoo.bma.PromoBlock",number:9,label:1},load_more_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:6,label:1}}}}()),B.HoN_v3.SearchByNameModel=$class($u.Observable,{SECTION:"2",LIMIT_MIN:15,LIMIT_MAX:50,_search_rpc:null,_last_search_query:"",constructor:function(){$super(this,arguments)},destroy:function(){this.cancel(),$super(this,arguments)},search:function(e,t,i){this.cancel(),this._last_search_query=e,!t||t<this.LIMIT_MIN?t=this.LIMIT_MIN:t>this.LIMIT_MAX&&(t=this.LIMIT_MAX);var s=$gpb.namespace("badoo.bma"),o=(new s.ServerGetUserList).setSearchString(e).setSectionId(this.SECTION).setFolderId(s.FolderTypes.PROFILE_SEARCH).setPreferredCount(t);i&&(o.setOffset(i),this._next_offset=i),this._search_rpc=new $gpb.Rpc(s.MessageType.SERVER_GET_USER_LIST,o).on(s.MessageType.CLIENT_USER_LIST,this._on_search_result,this).request()},search_next:function(){var e=this._last_search_query;e&&this.search(e,this.LIMIT_MIN,this._next_offset)},cancel:function(){this._search_rpc&&(this._search_rpc.abort(),this._search_rpc=null),this._last_search_query="",this._next_offset=0},_on_search_result:function(e,t){if(this._search_rpc=null,e)return this._on_error("server-error"),void 0;if(0===t.getTotalCount()||0===t.getTotalSections())return this._on_error("not-found"),void 0;var i=t.getSection()[0];if(i.getSectionId()!==this.SECTION)return this._on_error("not-found"),void 0;var s;s=this._next_offset?"next":"found",i.getLastBlock()?this.cancel():this._next_offset+=i.getUser().length,this.fire(s,i)},_on_error:function(e){this.cancel(),this.fire("error",e)}}),$class({init:function(){this.sidebar_vc=new t,this.sidebar_vc.on({"transition-end":this.on_transition_end},this),this.result_view=new s,this.result_view.on({"scroll-to-result":this.on_scroll_to_result,"load-more-users":this.on_load_more_users},this),this.sidebar_vc.append_view(this.result_view),this.input_view=new i,this.sidebar_vc.append_view(this.input_view),this.input_view.on({search:this.on_search,clear:this.on_clear},this),this.hon_$e=B.HoN_v3.on({"sidebar:logo_clicked":this.on_clear},this),this.model=new B.HoN_v3.SearchByNameModel,this.model.on({found:this.on_users_found,next:this.on_users_found_next,error:this.on_search_error},this),this.delayed_search=$t.debounce(this.search,300,this)},destroy:function(){this.model.destroy(),this.sidebar_vc.destroy(),this.result_view.destroy(),this.input_view.destroy(),B.HoN_v3.un(this.hon_$e),this.delayed_search.clear(),this.delayed_search=this.sidebar_vc=this.input_view=this.result_view=null},search:function(e){this.model.search(e,parseInt(this.sidebar_vc.get_scrollable_height()/55))},on_scroll_to_result:function(e){this.sidebar_vc.transition(e)},on_search:function(e){this.model.cancel(),this.delayed_search(e)},on_users_found:function(e){this.result_view.fire("show-results",{result:e}),this.input_view.fire("update"),B.fire("searchpeople:changed")},on_users_found_next:function(e){this.result_view.fire("insert-users",{result:e}),this.sidebar_vc.action("update"),B.fire("searchpeople:changed")},on_search_error:function(e){this.result_view.fire("show-results",{error:e}),this.input_view.fire("update")},on_clear:function(){this.model.cancel(),this.delayed_search.clear(),this.result_view.fire("clear"),this.input_view.fire("clear"),B.fire("searchpeople:changed")},on_transition_end:function(){this.result_view.fire("update-height")},on_load_more_users:function(){this.model.search_next()}})}(B.Framework),B.HoN_v3.AppContainer=new $class(B.Page,{name:"AppContainer",init:function(){$r.comet.on({"counters:updated":this.counters_update_ct,"app:header_ico":this.update_header_ico_ct,"credits:update_amount":this.update_credits_ct,"spp:change_status":this.update_spp_ct,"app:user_name_change":this.update_user_name_ct,"user:photo_counters_changed":this.user_photo_ocunters_changed_ct,"gift:purchased":this.on_gift_ct,"video:converted":this.on_videoconverted_ct,"ovl:extra_shows":this.on_extra_shows_ct,"vip:change_status":this.update_vip_ct,"stickers:update":this.stickers_update_ct,"tmp:profile_changed":this.on_profile_changed_ct,"tmp:verified_changed":this.on_verified_changed_ct},this),$u.broadcast.on({"counters:updated":this.counters_update,"app:header_ico":this.update_header_ico,"credits:update_amount":this.update_credits,"spp:change_status":this.update_spp,"app:user_name_change":this.update_user_name,"user:photo_counters_changed":this.user_photo_ocunters_changed,"gift:purchased":this.on_gift,"video:converted":this.on_videoconverted,"ovl:extra_shows":this.on_extra_shows,"vip:change_status":this.update_vip,"stickers:update":this.stickers_update,"tmp:profile_changed":this.on_profile_changed,"tmp:verified_changed":this.on_verified_changed},this)},counters_update_ct:function(e){$u.broadcast.send("counters:updated",e),this.counters_update(e)},counters_update:function(e){B.fire("counters:updated",e)},update_header_ico_ct:function(e){$u.broadcast.send("app:header_ico",e),this.update_header_ico(e)},update_header_ico:function(e){B.fire("profile:change_photo",e)},update_credits_ct:function(e){$u.broadcast.send("credits:update_amount",e),this.update_credits(e)},update_credits:function(e){B.fire("credits:update_amount",e)},update_spp_ct:function(e){$u.broadcast.send("spp:change_status",e),this.update_spp(e)},update_spp:function(e){var t=B.Features.getFeature($p.FeatureType.ALLOW_SUPER_POWERS);t&&(t.setEnabled(!!e),t.setRequiredAction($p.ActionType.PAYMENT_REQUIRED),B.Features._update(t)),B.fire("spp:change_status",e)},update_vip_ct:function(e){$u.broadcast.send("vip:change_status",e),this.update_vip(e)},update_vip:function(e){var t=B.Features.getFeature($p.FeatureType.ALLOW_PAID_VIP);t&&(t.setEnabled(!!e),t.setRequiredAction($p.ActionType.PAYMENT_REQUIRED),B.Features._update(t)),B.fire("vip:change_status",e)},update_user_name_ct:function(e){$u.broadcast.send("app:user_name_change",e),this.update_user_name(e)},update_user_name:function(e){B.fire("profile:change_name",e.user_name)},user_photo_ocunters_changed_ct:function(e){$u.broadcast.send("user:photo_counters_changed",e),this.user_photo_ocunters_changed(e)},user_photo_ocunters_changed:function(e){B.fire("profile:change_photos_total",e.photos_count)},on_gift_ct:function(e){$u.broadcast.send("gift:purchased",e),this.on_gift(e)},on_gift:function(e){B.fire("gift:purchased",e)},on_videoconverted_ct:function(e){$u.broadcast.send("video:converted",e),this.on_videoconverted(e)},on_videoconverted:function(e){B.fire("video:converted",e)},on_extra_shows_ct:function(e){$u.broadcast.send("ovl:extra_shows",e),this.on_extra_shows(e)},on_extra_shows:function(e){$u.visibility.hidden||e.url&&new $r(e.url,{ready:this.open_overlay},this)},stickers_update_ct:function(e){$u.broadcast.send("stickers:update",e),this.stickers_update(e)},stickers_update:function(e){B.fire("stickers:update",e)},open_overlay:function(e){"base.Ovl"==e.$gpb&&B.Ovl.open(e)},on_profile_changed_ct:function(e){$u.broadcast.send("tmp:profile_changed",e),this.on_profile_changed(e)},on_profile_changed:function(e){B.fire("tmp:profile_changed",e)},on_verified_changed_ct:function(e){$u.broadcast.send("tmp:verified_changed",e),this.on_verified_changed(e)},on_verified_changed:function(e){B.fire("tmp:verified_changed",e)}}),B.Features=new $class($u.Observable,{name:"Features",_proto:$gpb.namespace("badoo.bma"),_features:[],constructor:function(){$super(this,arguments),B.Push.on(this._proto.MessageType.CLIENT_APP_FEATURE,this._update,this),B.on("app:preinit",this._initialise_features,this);var e=$gpb.Rpc;e.any.on(e.SpecialEvent.ON_REQ_END,this._onRpcEnd,this),$u.broadcast.on({"feature:update":this._set},this)},_initialise_features:function(){this._features=$vars.Startup&&$vars.Startup.features||[]},_update:function(e){var t=e.getFeature(),i=e.toJSON();this._set(t,i),$u.broadcast.send("feature:update",t,i)},_set:function(e,t){this._features[e]=t,this.fire("update",e,t)},get:function(e){return e=this._proto.FeatureType.getIdx(e)||e,this._features[e]},getFeature:function(e){var t=this.get(e);return t?$gpb("badoo.bma.ApplicationFeature",t):(new $p.ApplicationFeature).setEnabled(!1)},_onRpcEnd:function(e){var t=e&&e.rpc_response&&e.rpc_response._responses;if(t){var i,s;for(var o in t){if(o==$p.MessageType.CLIENT_COMMON_SETTINGS){i=t[o];for(var n=0;n<i.length;n++)s=i[n].getApplicationFeatures(),this.update_feature_list(s)}o==$p.MessageType.CLIENT_APP_FEATURE&&this.update_feature_list(t[o])}}},update_feature_list:function(e){if(e)for(var t=0;t<e.length;t++)this._update(e[t])}}),B.HoN_v3.Partner=new $class({name:"Partner",_type:null,constructor:function(){$e.onready(this._onReady,this)},_onReady:function(){this._data=$clone($vars[this.name])},set_type:function(e){this._type=e},get_type:function(){return this._type},get_name:function(){return $l.get("partner","title")},match:function(){return-1!=Array.prototype.indexOf.call(arguments,this._type)},_isWhiteLabelEnabled:function(){return!!this._data.is_whitelabel},canSignout:function(){return this.match("badoo","web")},getLabel:function(){return{badoo:"badoo","badoo-fb":"badoo",web:"hotornot",fb:"hotornot",ok:"hotornot",vk:"hotornot"}[this._type]},isBadooLabel:function(){return this.match("badoo","badoo-fb")},isWhiteLabelFor:function(){if(this._isWhiteLabelEnabled())for(var e=0;e<arguments.length;e++)switch(arguments[e]){case"badoo":if(this.match("web"))return!0;break;case"badoo-fb":if(this.match("fb"))return!0}return!1}}),B.HoN_v3.Partner.Features=new $class({showTextInSidebarSearch:function(){return B.HoN_v3.Partner.match("web")&&!B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb")},isBadooLexems:function(){return B.HoN_v3.Partner.match("badoo","badoo-fb")||B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb")},isLikedMode:function(){return B.HoN_v3.Partner.match("badoo","badoo-fb")||B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb")},allowProfileEdit:function(){return B.HoN_v3.Partner.match("badoo","badoo-fb")||B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb")},extendedPopularity:function(){return B.Features.getFeature("ALLOW_POPULARITY").getEnabled()&&(B.HoN_v3.Partner.match("badoo","badoo-fb")||B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb"))},existUploadRules:function(){return B.HoN_v3.Partner.match("badoo","badoo-fb")||B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb")},isNewMessengerFilter:function(){return B.HoN_v3.Partner.match("web")&&!B.HoN_v3.Partner.isWhiteLabelFor("badoo")},isSppTrialOverlay:function(){return B.HoN_v3.Partner.match("badoo-fb")||B.HoN_v3.Partner.isWhiteLabelFor("badoo-fb")},isTranslateAvailable:function(){return B.HoN_v3.Partner.match("badoo")}}),$l.register({section:"hon/fbc",lang:"en-us",translations:{REVEAL_FACEBOOK_FRIEND:"Please, help me reveal my fans!",BOOST:"Hi! Help me to raise my profile ;)",FRIENDS_HOT_LIST_ADD_MORE_FRIENDS:"Check out who is your hottest friend!",FRIENDS_HOT_LIST_INCREASE_SCORE:"Please, help me to increase my score!",FACEBOOK_REACTIVATION:"Hi! Let's meet on {{partner_name}}",TRIAL_SPP_INVITE:"Help me get Super Powers!",IMPORT_FORM_REQUEST_MESSAGE:"Ask friends to rate you"}}),$u.error_tpl='<div class="input-error">{text}</div>',$u.handle_errors=function(e,t,i,s){i=i||"input-error",s=s||$u.error_tpl;var o=$el.select(e,".input-error");if(t){for(var n,a,r,l=e.elements,_=0,p=l.length;p>_;_++)if(n=l[_],a=null,"hidden"!=n.type&&n.name&&!n.disabled){for(var c=0,u=o.length;u>c;c++)if(o[c].parentNode==n.parentNode){a=o[c];break}n.name in t?(r=$u.tpl2el(s,{text:t[n.name]}),r.className=i,a?n.parentNode.replaceChild(r,a):n.parentNode.insertBefore(r,n)):a&&$el.add(a,"hidden")}}else for(var _=0,p=o.length;p>_;_++)$el.add(o[_],"hidden")},$u.FormErrorHandler||($u.FormErrorHandler={},$u.FormErrorHandler.Abstract=$class({name:"FormErrorHandler.Abstract",error_els:null,form:null,on_handle_errors:null,on_clean_errors:null,scope:null,constructor:function(e,t){t&&$config(this,t),this.form=e,this.error_els={},this.init()},destroy:function(){this.on_handle_errors=this.on_clean_errors=this.scope=this.error_els=this.form=null},handle:function(e){this.configure(e);var t,i,s=e.errors,o=this.form.elements,n=o.length;for(t=0;n>t;t++)i=o[t],!i.name||i.disabled||"hidden"==i.type&&null===i.getAttribute("data-show-error")||(i.name in s?this.show(i,s[i.name]):this.error_els[i.name]&&this.hide(this.error_els[i.name]));this.on_handle_errors&&this.on_handle_errors.call(this.scope,e)},clean:function(){for(var e in this.error_els)this.hide(this.error_els[e]);this.on_clean_errors&&this.on_clean_errors.call(this.scope)},init:function(){},configure:function(){},show:function(){},hide:function(){}}),$u.FormErrorHandler.Classic=$class($u.FormErrorHandler.Abstract,{name:"FormErrorHandler.Classic",default_error_class_errno2:"input-hint",default_error_class:"input-error error",default_error_tpl:'<div class="input-error">{text}</div>',error_class:null,error_tpl:null,init:function(){var e,t,i,s,o=this.form.elements,n=$el.select(this.form,"."+this.default_error_class);for(e=0;e<n.length;e++)for(i=n[e],t=0;t<o.length;t++)s=o[t],i.parentNode==s.parentNode&&(this.error_els[s.name]=i)},configure:function(e){this.error_tpl=e.tpl||this.default_error_tpl,this.error_class=2==e.errno?this.default_error_class_errno2:this.default_error_class},show:function(e,t){var i=$u.tpl2el(this.error_tpl,{text:t}),s=this.error_els[e.name];if(i.className=this.error_class,s)e.parentNode.replaceChild(i,s);else{var o=e.nextSibling;o?e.parentNode.insertBefore(i,o):e.parentNode.appendChild(i)}this.error_els[e.name]=i},hide:function(e){$el.add(e,"hidden")}}),$u.FormErrorHandler.Modern=$class($u.FormErrorHandler.Abstract,{name:"FormErrorHandler.Modern",handle:function(e){var t=B.Captcha&&"checkcode"in e.errors;t&&B.Captcha.enable(),$super(this,arguments),t&&B.Captcha.reload_capcha()},show:function(e,t){var i=this.error_els[e.name];i||(i=this.error_els[e.name]={},i.row=$el.up(e,".js-error-wrap"),i.text=$el.down(i.row,".js-input-error")),$el.add(i.row,"error"),$el.del(i.row,"hidden"),i.text.innerHTML=t},hide:function(e){$el.del(e.row,"error")}})),$u.Form||($u.Form=$class({form:null,url:"",transport:null,error_handler:null,ready:null,error:null,scope:null,interactive:!1,constructor:function(e,t,i){return $u.FormFile&&"multipart/form-data"==e.enctype?new $u.FormFile(e,t,i):(this.form=e,this.scope=i,$config(this,t),this.init(),void 0)},init:function(){this.error_handler||(this.error_handler=new $u.FormErrorHandler.Classic(this.form)),$e.add(this.form,"submit",this.submit,this),$e.add(this.form,"reset",this.clean_errors,this)},destroy:function(){this.error_handler&&this.error_handler.destroy(),this.error_handler=null,this.transport instanceof $r&&this.transport.abort(),this.transport=null,$e.del(this.form,"submit",this.submit,this),$e.del(this.form,"reset",this.clean_errors,this),this.form=null,this.interactive=!1},submit:function(){if(this.form){if(this.interactive)return!1;var e=this.serialize();return this.validate(e)?(this.clean_errors(),$el.add(this.form,"el-loading"),this.on_submit?(this.on_submit.call(this.scope||this,this.form,this),!1):this.send(e)):!1}},serialize:function(){return $r.serialize(this.form)},validate:function(){return!0},send:function(e){if(this.form){var t=this.url||this.form.getAttribute("action");return this.transport=new $r(t,{method:this.form.method||"get",rand:!0,params:e,ready:this.receive,error:this.receive_error},this),this.interactive=!0,!1}},receive:function(e){if(this.form){if(this.interactive=!1,$el.del(this.form,"el-loading"),"errors"in e)return this.handle_errors(e);this.clean_errors(),this.ready&&this.ready.call(this.scope||this,e,this)}},clean_errors:function(){return this.error_handler.clean(),!0},handle_errors:function(e){this.error_handler.handle(e)},receive_error:function(){this.interactive=!1,$el.del(this.form,"el-loading"),this.error&&this.error.call(this.scope||this)}})),B.ConnectForm=$class($u.Form,{submit:function(){return B.Footer&&B.Footer.reset_ssid(),$super(this,arguments)},validate:function(e){var t=!0;return($vars.Import&&$vars.Import.access_staff||$vars.Import2&&$vars.Import2.access_staff)&&(t=window.confirm("Connect?"),t&&(e.connect_confirmed=1)),t},receive:function(e){return $super(this,arguments),"ovl"in e?(B.Ovl.open(e.ovl),void 0):e.url?B.App.enabled&&e.state?(B.App.app_link(e.state,e.url),void 0):location.href=e.url:void 0}}),B.FacebookApprequestButton||(B.FbApprequests||(B.FbApprequests=$class($u.Observable,{message:null,to:null,exclude_ids:null,save_result_url:null,wait_for_login:!0,force_check:!1,constructor:function(e,t){if("FB.RequestDialogConfig"!=e.$gpb)throw"params.$gpb not exist";$super(this,arguments),$config(this,e),t&&$config(this,t)},destroy:function(){this.message=this.to=this.exclude_ids=this.save_result_url=this.force_check=null,this.stat_$r&&(this.stat_$r.abort(),this.stat_$r=null),this.save_$r&&(this.save_$r.abort(),this.save_$r=null),$super(this,arguments)},_apprequest:function(e){if(e)return this.fire("cancel"),void 0;var t={method:"apprequests",message:this.message};t.exclude_ids=this.exclude_ids?this.exclude_ids:$u.fb.get_exclude_ids(),FB.ui(t,this._send_ready.bind(this)),this.fire("dlg_show")},_send_ready:function(e){void 0===e&&(e={fb_requests_dialog_closed:1}),"to"in e&&$u.fb.add_exclude_ids(e.to),this.fire("fb-result",e),this.save_$r=new $r(this.save_result_url,{method:"post",params:e,ready:this._save_ready},this)},_save_ready:function(e){this.save_$r=null,this.fire("ready",e)},send:function(){$u.fb.call(this._apprequest,this,this.wait_for_login,this.force_check)}})),B.FbFetchFriends||(B.FbFetchFriends=new $class($u.Observable,{name:"FbFetchFriends",constructor:function(){$super(this,arguments),this.watch_$t=new $t(this._check,this,500)},_check:function(){this.wnd.closed?(this.wnd=null,this.fire("cancel")):this.watch_$t.set()},in_progress:function(){return null!=this.wnd},fetch:function(e){if("FB.FetchFriendsConfig"!=e.$gpb)throw"cfg.$gpb not exist";this.wnd||(this.wnd=window.open(e.url,"FbFetchFriends","toolbar=no,width=650, height=550"),this.wnd?(this.fire("shown"),this.watch_$t.set()):this.fire("blocked"))},fb_request:function(e){this.watch_$t.clear(),this.wnd=null,this.fire("ready",e)}})),B.FbDialogStat||(B.FbDialogStat=new $class({msg_open:"popup_open",msg_send:"popup_send_click",msg_cancel:"popup_send_cancel",msg_fetch_blocked:"popup_fetch_blocked",msg_fetch_shown:"popup_fetch_shown",msg_fetch_cancel:"popup_fetch_cancel",msg_fetch_ready:"popup_fetch_ready",msg_fb_open:"fb_popup_open",send:function(e,t){e&&t?new $r(e,{method:"post",params:{stat_action:t}}):$s.error_log($s.newError("UserError","B.FbDialogStat bad url or action_name",{origin:"B.FbDialogStat"}))}})),B.FbRequestsDialogManager||(B.FbRequestsDialogManager=new $class($u.Observable,{_config:null,process:function(e){if(null==e)return $s.error_log($s.newError("UserError","FbRequestsDialogManager config is null",{origin:"B.FbRequestsDialogManager"})),!1;if(this._config)return!1;this._config=e,this._send_stat(B.FbDialogStat.msg_send),this.fire("start");var t=e.stage;switch(t.$gpb){case"FB.FetchFriendsConfig":this._fetch_friends(t);break;case"FB.RequestDialogConfig":this._app_request(t);break;default:return $s.error_log($s.newError("UserError","Invalid FbRequestsDialogManager config"),{origin:"B.FbRequestsDialogManager"}),this._config=null,!1}},busy:function(){return null!=this._config},_process_responce:function(e){switch(e.$gpb){case"base.AppLink":return B.App.app_link(e.state,e.url),!1;case"base.Ovl":B.Ovl.open(e)}return!0},_send_stat:function(e){this._config.stat_url&&B.FbDialogStat.send(this._config.stat_url,e)},_fetch_clean:function(){B.FbFetchFriends.un(this.fetch_$e),this.fetch_$e=null},_fetch_blocked:function(){this._fetch_clean(),this._send_stat(B.FbDialogStat.msg_fetch_blocked),this._config=null,this.fire("stop")},_fetch_cancel:function(){this._fetch_clean(),this._send_stat(B.FbDialogStat.msg_fetch_cancel),this._config=null,this.fire("stop")},_fetch_shown:function(){this._send_stat(B.FbDialogStat.msg_fetch_shown)},_fetch_ready:function(e){this._send_stat(B.FbDialogStat.msg_fetch_ready),this._fetch_clean(),this._app_request(e,{force_check:!0})},_apprequest_shown:function(){this._send_stat(B.FbDialogStat.msg_fb_open)},_apprequest_clean:function(){this.app_req.un(this.app_req_$e),this.app_req.destroy(),this.app_req=null},_apprequest_cancel:function(){this._apprequest_clean(),$u.escape.enable(),this._config=null,this.fire("cancel")},_apprequest_ready:function(e){this._apprequest_clean(),$u.escape.enable(),this._config=null,this._process_responce(e)&&this.fire("sent",e)},_apprequest_fb_result:function(e){this.fire("fb-result",e)},_app_request:function(e,t){this.app_req||($u.escape.disable(),this.app_req=new B.FbApprequests(e,t),this.app_req_$e=this.app_req.on({cancel:this._apprequest_cancel,ready:this._apprequest_ready,dlg_show:this._apprequest_shown,"fb-result":this._apprequest_fb_result},this),this.app_req.send())},_fetch_friends:function(e){B.FbFetchFriends.in_progress()||(this.fetch_$e=B.FbFetchFriends.on({blocked:this._fetch_blocked,shown:this._fetch_shown,cancel:this._fetch_cancel,ready:this._fetch_ready},this),B.FbFetchFriends.fetch(e))}})),B.FacebookApprequestButton=$class(B.Controls.BaseControl,{name:"FacebookApprequestButton",lock_delay:5e3,button_el:null,init:function(){$u.fb.init(),this.button_el=this.get_element(this.wrap_el,"button"),$e.add(this.button_el,"click",this._click,this)},destroy:function(){this.lock_timer&&(this.lock_timer.clear(),this.lock_timer=null),$e.del(this.button_el,"click",this._click,this),this.button_el=null,this._clean_dialog_e()},get_element:function(e,t){switch(t){case"button":return e}},_click:function(){return this._lock_btn(),B.FbRequestsDialogManager.busy()||(this.$e=B.FbRequestsDialogManager.on({start:this._on_start,stop:this._on_stop,cancel:this._on_cancel,"fb-result":this._on_fb_result,sent:this._on_sent},this),B.FbRequestsDialogManager.process(this.config)),!0},_clean_dialog_e:function(){this.$e&&(B.FbRequestsDialogManager.un(this.$e),this.$e=null),this._unlock_btn()},_on_start:function(){this.fire("start")},_on_stop:function(){this._clean_dialog_e()},_on_cancel:function(){this.fire("cancel"),this._clean_dialog_e()},_on_fb_result:function(e){this.fire("fb-result",e)},_on_sent:function(e){this.fire("ready",e),this._clean_dialog_e()},_lock_btn:function(){this.lock_timer||(this.lock_timer=new $t(this._unlock_btn,this,this.lock_delay)),this._toggle_button_disabled(!0)},_unlock_btn:function(){this.lock_timer&&this.lock_timer.clear(),this._toggle_button_disabled(!1)},_toggle_button_disabled:function(e){$el.tgl($el.up(this.button_el,".btn"),"disabled",e)}}),$c.register("fb-apprequest-dialog",B.FacebookApprequestButton)),B.HoN_v3._Footer={},$gpb.exists("badoo.bma.ClientSocialLikeProviders","message")||($gpb.exists("badoo.bma.SocialLikeProvider","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SocialLikeProvider=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SocialLikeProvider",t.prototype._descriptor={fields:{count:{type:9,number:2,label:1},youtube_channel:{type:9,number:1001,label:1},application_id:{type:9,number:10,label:1},service:{type:14,type_name:"badoo.bma.ExternalProviderType",number:1,label:1},title:{type:9,number:5,label:1},url:{type:9,number:3,label:1},text:{type:9,number:6,label:1},image:{type:9,number:7,label:1},twitter_related:{type:9,number:1002,label:1},locale:{type:9,number:4,label:1},vkontakte_page_id:{type:9,number:1003,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientSocialLikeProviders=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientSocialLikeProviders",t.prototype._descriptor={fields:{providers:{type:11,type_name:"badoo.bma.SocialLikeProvider",number:1,label:3}}}}()),$gpb.exists("badoo.bma.ClientStartup","message")||($gpb.exists("badoo.bma.ABTestingSettings","message")||($gpb.exists("badoo.bma.ABTest","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ABTest=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ABTest",t.prototype._descriptor={fields:{test_id:{type:9,number:1,label:1},variation_id:{type:9,number:2,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ABTestingSettings=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ABTestingSettings",t.prototype._descriptor={fields:{tests:{type:11,type_name:"badoo.bma.ABTest",number:1,label:3}}}}()),$gpb.exists("badoo.bma.WelcomeData","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.WelcomeData=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.WelcomeData",t.prototype._descriptor={fields:{total_registered_counter:{type:5,number:1,label:1},total_online_counter:{type:5,number:2,label:1}}}}(),$gpb.exists("badoo.bma.ClientStartupTypes","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientStartupTypes=new $gpb.Enum("badoo.bma.ClientStartupTypes");t._values=[0,1,2,3,4,5,6,7],t.IMPORT_FIRST_SOFT=0,t.IMPORT_FIRST_MEDIUM=1,t.IMPORT_FIRST_HARD=2,t.IMPORT_FIRST_HARDEST=3,t.ACTIVATION_FIRST_SOFT=4,t.ACTIVATION_FIRST_MEDIUM=5,t.ACTIVATION_FIRST_HARD=6,t.ACTIVATION_FIRST_HARDEST=7}(),$gpb.exists("badoo.bma.DwarfInfo","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.DwarfInfo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.DwarfInfo",t.prototype._descriptor={fields:{token:{type:9,number:2,label:1},code:{type:5,number:1,label:1}}}}(),$gpb.exists("badoo.bma.GeoLocationType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.GeoLocationType=new $gpb.Enum("badoo.bma.GeoLocationType");t._values=[0,1,2,3],t.GPS=0,t.GOOGLE=1,t.SKYHOOK=2,t.OPENCELLID=3}(),$gpb.exists("badoo.bma.ClientChangeHost","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientChangeHost=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientChangeHost",t.prototype._descriptor={fields:{secure_hosts:{type:9,number:2,label:3},hosts:{type:9,number:1,label:3},must_reconnect:{type:8,number:3,label:1}}}}(),$gpb.exists("badoo.bma.StartupSettings","message")||($gpb.exists("badoo.bma.ExternalStatsProvider","message")||($gpb.exists("badoo.bma.ExternalStatsProviderType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalStatsProviderType=new $gpb.Enum("badoo.bma.ExternalStatsProviderType");t._values=[1,2],t.EXTERNAL_STATS_PROVIDER_JINBA=1,t.EXTERNAL_STATS_PROVIDER_HOTPANEL=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalStatsProvider=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExternalStatsProvider",t.prototype._descriptor={fields:{url:{type:9,number:2,label:1},maximumPoolSize:{type:5,number:3,label:1},type:{type:14,type_name:"badoo.bma.ExternalStatsProviderType",number:1,label:1},maximumTimeout:{type:5,number:4,label:1},ab_test_variant:{type:5,number:5,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.StartupSettings=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.StartupSettings",t.prototype._descriptor={fields:{providers:{type:11,type_name:"badoo.bma.ExternalStatsProvider",number:1,label:3}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientStartup=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientStartup",t.prototype._descriptor={fields:{full_site_url:{type:9,number:12,label:1},forbid_register_via_sms:{type:8,number:13,label:1},upgrade:{type:11,type_name:"badoo.bma.ClientUpgrade",number:3,label:1},app_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:6,label:3},welcome_message:{type:9,number:8,label:1},dwarf_list:{type:11,type_name:"badoo.bma.DwarfInfo",number:58,label:3},welcome_data:{type:11,type_name:"badoo.bma.WelcomeData",number:20,label:1},a_b_testing_settings:{type:11,type_name:"badoo.bma.ABTestingSettings",number:19,label:1},language_id:{type:5,number:4,label:1},phone_confirm_missing:{type:8,number:14,label:1},allow_review:{type:8,number:7,label:1},launch_screen:{type:9,number:9,label:1},srv:{type:9,number:11,label:1},change_host:{type:11,type_name:"badoo.bma.ClientChangeHost",number:16,label:1},host:{type:9,number:1,label:3},location_services:{type:14,type_name:"badoo.bma.GeoLocationType",number:2,label:3},startup_type:{type:14,type_name:"badoo.bma.ClientStartupTypes",number:5,label:1},partner_id:{type:5,number:15,label:1},is_push_enabled:{type:8,number:17,label:1},startup_settings:{type:11,type_name:"badoo.bma.StartupSettings",number:18,label:1}}}}()),$gpb.exists("badoo.bma.AppSettings","message")||($gpb.exists("badoo.bma.ContactNotInterestAction","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ContactNotInterestAction=new $gpb.Enum("badoo.bma.ContactNotInterestAction");t._values=[0,1,2],t.CONTACT_NOT_INTEREST_ACTION_DO_NOTHING=0,t.CONTACT_NOT_INTEREST_ACTION_DELETE_ALL_MESSAGES=1,t.CONTACT_NOT_INTEREST_ACTION_BLOCK_USER=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.AppSettings=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.AppSettings",t.prototype._descriptor={fields:{hide_account:{type:8,number:35,label:1},privacy_vote_only_on_friends_already_on_badoo:{type:8,number:40,label:1},sharing_celebrity_and_friends_in_facebook:{type:8,number:27,label:1},email_news:{type:8,number:15,label:1},email_messages:{type:8,number:12,label:1},email_friend_request:{type:8,number:46,label:1},notify_bumped_into:{type:8,number:32,label:1},confirmation_text_for_reset_nt:{type:9,number:26,label:1},privacy_bumped_into:{type:8,number:33,label:1},freeze_account:{type:8,number:37,label:1},privacy_enable_secret_comments:{type:8,number:41,label:1},notify_messages:{type:8,number:4,label:1},email_gifts:{type:8,number:13,label:1},privacy_dont_list_me:{type:8,number:50,label:1},notify_want_you:{type:8,number:6,label:1},privacy_show_online_status:{type:8,number:11,label:1},email_alerts:{type:8,number:14,label:1},privacy_show_in_hot_list:{type:8,number:31,label:1},let_other_users_share_my_profile:{type:8,number:36,label:1},email_photoratings:{type:8,number:19,label:1},notify_alerts:{type:8,number:10,label:1},verification_only_verified_messages:{type:8,number:23,label:1},email_matches:{type:8,number:16,label:1},interface_language:{type:5,number:1,label:1},notify_gifts:{type:8,number:44,label:1},privacy_show_in_search_results:{type:8,number:29,label:1},notify_favorites:{type:8,number:20,label:1},privacy_is_visible_for_auth_only:{type:8,number:34,label:1},privacy_show_distance:{type:8,number:8,label:1},privacy_show_in_public_search:{type:8,number:30,label:1},in_app_notify_people_online:{type:8,number:38,label:1},notify_mutual:{type:8,number:7,label:1},privacy_min_common_places_to_chat:{type:5,number:53,label:1},use_secure_connection:{type:8,number:24,label:1},email_visitors:{type:8,number:17,label:1},privacy_show_only_to_people_i_like_or_visit:{type:8,number:39,label:1},privacy_dont_show_spp:{type:8,number:51,label:1},only_social_network_chat:{type:8,number:25,label:1},notify_friend_request:{type:8,number:45,label:1},skip_upload_rules_alert:{type:8,number:42,label:1},contact_not_interest_action:{type_name:"badoo.bma.ContactNotInterestAction",number:52,label:1,type:14,options:{"default":"CONTACT_NOT_INTEREST_ACTION_DO_NOTHING"}},interface_sound:{type:8,number:2,label:1},sharing_celebrity_and_friends_in_twitter:{type:8,number:28,label:1},privacy_conceal_my_presence:{type:8,number:49,label:1},interface_metric:{type:8,number:3,label:1},email_favorites:{type:8,number:21,label:1},verification_hide_details:{type:8,number:22,label:1},notify_photoratings:{type:8,number:18,label:1},email_bumped_into:{type:8,number:47,label:1},skip_non_moderated_alert:{type:8,number:43,label:1},email_want_you:{type:8,number:48,label:1},notify_visitors:{type:8,number:5,label:1}}}
}()),B.HoN_v3._Footer.BaseViewController=$class($u.Observable,{constructor:function(e){$super(this,arguments),this.root_el=e},init:function(){},setData:function(){this._init()},_init:function(){this._render(),this.init()},_render:function(){$el.dom.html(this.root_el,this.view.setData(this.data)),this.isRendered=!0}}),function(){function e(e,i){return e.write('<div class="center js-users-connect">').reference("HTMLBLOCK_USERS_CONNECT",i,["s"]).write('</div> <div class="footer-apps"> <span class="lgrey inline">Download our free apps:</span> <div class="inline footer-app"> <div class="btn btn--sm btn--ico btn--white"> <i class="ico ico--xsm ico--color ico--apple"><a href="').reference("appstore_url",i).write('" class="b-link" target="_blank"></a></i> </div><!-- --><span class="inline footer-app__title">iPhone app</span> </div> <div class="inline footer-app"> <div class="btn btn--sm btn--ico btn--white"> <i class="ico ico--xsm ico--color ico--gplay"><a href="').reference("gstore_url",i).write('" class="b-link" target="_blank"></a></i> </div><!-- --><span class="inline footer-app__title">Android app</span> </div> <div class="inline footer-app"> <div class="btn btn--sm btn--ico btn--white"> <i class="ico ico--xsm ico--color ico--windows"><a href="').reference("winstore_url",i).write('" class="b-link" target="_blank"></a></i> </div><!-- --><span class="inline footer-app__title">Windows Phone app</span> </div> </div> <div class="footer"> <div class="inline footer__col"> <div class="js-footer-links"> ').section(i.get(["FOOTER_MENU"],!1),i,{block:t},{}).write(' </div> <div class="lgrey footer-copy"> <span class="js-footer-counters').section(i.get(["_COUNTERS_HIDDEN"],!1),i,{block:d},{}).write('"> ').section(i.get(["ONBADOO_LINKS"],!1),i,{block:b},{}).write(" </span> ").reference("copyright_curr_year",i).write("&nbsp;&copy;&nbsp;").reference("PAGE_partner_name",i).write(' </div> </div><!-- --><div class="inline right footer__col"> <div class="likes-wrap js-footer-likes"> ').reference("HTMLBLOCK_LIKES",i,["s"]).write(" </div> </div> </div>")}function t(e,t){return e.write(' <ul class="footer-menu"> ').section(t.get(["ABOUT"],!1),t,{block:i},{}).write(" ").section(t.get(["MOBILE"],!1),t,{block:n},{}).write(' <li class="footer-menu__item"> <a href="').reference("terms_url",t).write('" class="lgrey footer-menu__link">Terms</a> </li> <li class="footer-menu__item"> <a href="').reference("privacy_url",t).write('" class="lgrey footer-menu__link">Privacy</a> </li> ').section(t.get(["HELP"],!1),t,{block:a},{}).write(" ").section(t.get(["TRANSLATE"],!1),t,{block:p},{}).write(" ").section(t.get(["MUTE"],!1),t,{block:c},{}).write(" </li> </ul> ")}function i(e,t){return e.write(' <li class="footer-menu__item"> <div class="dropdown-link" ').section(t.get(["_HAS_DATALIST"],!1),t,{block:s},{}).write('> <a href="').reference("about_url",t).write('" class="lgrey footer-menu__link" target="_blank">About</a> ').section(t.get(["ABOUT_LINKS"],!1),t,{block:o},{}).write(" </div> </li> ")}function s(e){return e.write(' data-control-type="tooltip"')}function o(e,t){return e.write(' <div class="datalist tc"> <ul class="options"> <li class="option"><a href="').reference("company_url",t).write('" target="_blank">Company</a></li> <li class="option"><a href="').reference("career_url",t).write('" target="_blank">Affiliates</a></li> <li class="option"><a href="').reference("blog_url",t).write('" target="_blank">Blog</a></li> </ul> </div> ')}function n(e,t){return e.write(' <li class="footer-menu__item"> <a href="').reference("url",t).write('" class="lgrey footer-menu__link">Mobile</a> </li> ')}function a(e,t){return e.write(' <li class="footer-menu__item"> <div class="dropdown-link" ').section(t.get(["_HAS_DATALIST"],!1),t,{block:r},{}).write('> <a href="').reference("help_main_url",t).write('" class="lgrey footer-menu__link" target="_blank">Help</a> ').section(t.get(["HELP_DROPDOWN"],!1),t,{block:l},{}).write(" </div> </li> ")}function r(e){return e.write(' data-control-type="tooltip"')}function l(e,t){return e.write(' <div class="datalist tc"> <ul class="options"> <li class="option"><a href="').reference("help_url",t).write('" target="_blank">Help Center</a></li> <li class="option"><a href="').reference("guidelines_url",t).write('" target="_blank">Community Guidelines</a></li> ').section(t.get(["SAFETY_TIPS"],!1),t,{block:_},{}).write(" </ul> </div> ")}function _(e,t){return e.write('<li class="option"><a href="').reference("safetytips_url",t).write('" target="_blank">Safety Tips</a></li>')}function p(e,t){return e.write(' <li class="footer-menu__item"> <a href="').reference("translate_url",t).write('" class="lgrey footer-menu__link">Translate</a> </li> ')}function c(e,t){return e.write(' <li class="footer-menu__item"> <div class="inline btn-mute').section(t.get(["_SOUND_OFF"],!1),t,{block:u},{}).write('"> <i class="icon ico--grey ico--sound tooltip-wrap" data-control-type="tooltip"> <span class="b-link js-im-turnsound"></span> <div class="tooltip"><span class="tooltip-txt">Click to mute</span></div> </i> <i class="icon ico--grey ico--nosound tooltip-wrap" data-control-type="tooltip"> <span class="b-link js-im-turnsound"></span> <div class="tooltip"><span class="tooltip-txt">Click to unmute</span></div> </i> </div> ')}function u(e){return e.write(" btn-mute--off")}function d(e){return e.write(" hidden")}function b(e,t){return e.write(' <a href="').reference("search_url",t).write('" rel="').reference("search_state",t).write('" class="lgrey app">').reference("total",t).write("</a> ").reference("people",t).write(' are here,\r\n<a href="').reference("search_online_url",t).write('" ').section(t.get(["_WEBAPP"],!1),t,{block:h},{}).write(" ").section(t.get(["_HIDDEN_ONLINE"],!1),t,{block:m},{}).write(">").reference("online",t).write("</a> online now!\n")}function h(e,t){return e.write(' class="lgrey app" rel="').reference("state",t).write('"')}function m(e,t){return e.write(' class="p-link js-ovl-open" data-ovl-url="').reference("service_url",t).write('" data-ovl-type="ovl"')}return $u.dust.register("common/block.side-footer",e),e.s={FOOTER_MENU:t,_COUNTERS_HIDDEN:d,ONBADOO_LINKS:b},t.s={ABOUT:i,MOBILE:n,HELP:a,TRANSLATE:p,MUTE:c},i.s={_HAS_DATALIST:s,ABOUT_LINKS:o},a.s={_HAS_DATALIST:r,HELP_DROPDOWN:l},l.s={SAFETY_TIPS:_},c.s={_SOUND_OFF:u},b.s={_WEBAPP:h,_HIDDEN_ONLINE:m},e}(),B.HoN_v3._Footer.BaseView=$class(B.DustView,{template:"common/block.side-footer",APPSTORE_URL:"/install/?ref=web-direct-footer&d=Iphone",GSTORE_URL:"/install/?ref=web-direct-footer&d=Android",WINSTORE_URL:"/install/?ref=web-direct-footer&d=WindowsPhone",constructor:function(){return $super(this,arguments),this.set({appstore_url:this.APPSTORE_URL,gstore_url:this.GSTORE_URL,winstore_url:this.WINSTORE_URL,_COUNTERS_HIDDEN:!1,copyright_curr_year:(new Date).getFullYear(),PAGE_partner_name:$l.get("partner","title")},!0)}}),B.HoN_v3._Footer.LinksView=$class(B.DustView,{template:"common/block.side-footer",block:"FOOTER_MENU",constructor:function(){$super(this,arguments);var e={about_url:"/about"},t=!1,i=!1,s=!1;B.HoN_v3&&B.HoN_v3.Partner&&B.HoN_v3.Partner.isBadooLabel()&&(e._HAS_DATALIST=!0,e.ABOUT_LINKS={company_url:"//corp.badoo.com",career_url:"//corp.badoo.com/jobs",blog_url:"/blog"},s=!0,i={help_url:"/help",guidelines_url:"/guidelines/"},B.HoN_v3.Partner.Features.isTranslateAvailable()&&(t={translate_url:"//translate.badoo.com"})),this.set({ABOUT:e,terms_url:"/terms",privacy_url:"/privacy",HELP:{help_main_url:"/help",_HAS_DATALIST:s,HELP_DROPDOWN:i},MOBILE:!1,TRANSLATE:t,CONDITIONS:!1})},setSoundState:function(e){return this.set("MUTE/_SOUND_OFF",!e)}}),B.HoN_v3._Footer.LinksViewController=$class(B.HoN_v3._Footer.BaseViewController,{constructor:function(){$super(this,arguments),$e.on({".js-im-turnsound":this.changeSound},this)},changeSound:function(){this.fire("turnsound"),B.IM.fire("focus")},setData:function(e){$el.dom.html(this.root_el,(new B.HoN_v3._Footer.LinksView).setSoundState(!e))}}),B.HoN_v3._Footer.CountersView=$class(B.DustView,{template:"common/block.side-footer",block:"ONBADOO_LINKS",SEARCH_URL:"/search/?filter=all",SEARCH_ONLINE_URL:"/search/?filter=online",setData:function(e,t){return this.set({search_url:this.SEARCH_URL,search_state:"search",total:$l.getFormattedNumber(e),people:$l.get_num_dependent("people",e),search_online_url:this.SEARCH_ONLINE_URL,_WEBAPP:{state:"search"},_HIDDEN_ONLINE:{service_url:""},online:$l.getFormattedNumber(t)})}}),B.HoN_v3._Footer.CountersViewController=$class(B.HoN_v3._Footer.BaseViewController,{view:new B.HoN_v3._Footer.CountersView,setData:function(e,t){$el.dom.html(this.root_el,this.view.setData(e,t))}}),function(){function e(e,r){return e.section(r.get(["FACEBOOK"],!1),r,{block:t},{}).write(" ").section(r.get(["YOUTUBE"],!1),r,{block:i},{}).write(" ").section(r.get(["GOOGLE"],!1),r,{block:s},{}).write(" ").section(r.get(["VKONTAKTE"],!1),r,{block:o},{}).write(" ").section(r.get(["TWITTER"],!1),r,{block:n},{}).write(" ").section(r.get(["PINIT"],!1),r,{block:a},{})}function t(e,t){return e.write(' <div class="like-wrap"> ').reference("HTMLBLOCK_FACEBOOK",t,["s"]).write(" </div> ")}function i(e,t){return e.write(' <div class="like-wrap"> ').reference("HTMLBLOCK_YOUTUBE",t,["s"]).write(" </div> ")}function s(e,t){return e.write(' <div class="like-wrap"> ').reference("HTMLBLOCK_GOOGLE",t,["s"]).write(" </div> ")}function o(e,t){return e.write(' <div class="like-wrap"> ').reference("HTMLBLOCK_VKONTAKTE",t,["s"]).write(" </div> ")}function n(e,t){return e.write(' <div class="like-wrap"> ').reference("HTMLBLOCK_TWITTER",t,["s"]).write(" </div> ")}function a(e,t){return e.write(' <div class="like-wrap"> ').reference("HTMLBLOCK_PINIT",t,["s"]).write(" </div> ")}return $u.dust.register("common/block.likes",e),e.s={FACEBOOK:t,YOUTUBE:i,GOOGLE:s,VKONTAKTE:o,TWITTER:n,PINIT:a},e}(),function(){function e(e,i){return e.section(i.get(["FACEBOOK_BLOCK"],!1),i,{block:t},{}).write(" ").section(i.get(["_FACEBOOK_DYNAMIC_BLOCK"],!1),i,{block:n},{}).write(" ").section(i.get(["GOOGLE_BLOCK"],!1),i,{block:a},{}).write(" ").section(i.get(["VKONTAKTE_BLOCK"],!1),i,{block:l},{}).write(" ").section(i.get(["TWITTER_BLOCK"],!1),i,{block:p},{}).write(" ").section(i.get(["YOUTUBE_BLOCK"],!1),i,{block:u},{}).write(" ").section(i.get(["PINIT_BLOCK"],!1),i,{block:b},{})}function t(e,t){return e.write(' <div class="connect_widget_').reference("PAGE_language_direction",t).write(' button_count" id="static_').reference("id",t).write('"> <div class="like-wrap_ fb"> <div class="like-btn"><span>Like</span></div> ').section(t.get(["COUNT"],!1),t,{block:i},{}).write(" </div> </div>").section(t.get(["_DYNAMIC_BLOCK"],!1),t,{block:s},{}).section(t.get(["_STATIC_BLOCK"],!1),t,{block:o},{}).write(" ")}function i(e,t){return e.write(' <span class="like-counter">').reference("count",t).write("</span> ")}function s(e,t){return e.write('<div id="dynamic_').reference("id",t).write('" class="pv_likes_item"></div>')}function o(e,t){return e.write('<div class="pv_likes_item fb-like" data-href="').reference("url",t).write('" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false"></div>')}function n(e,t){return e.write(' <div class="fb-like" data-href="').reference("url",t).write('" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div> ')}function a(e,t){return e.write(' <div class="like-wrap_ google" id="static_').reference("id",t).write('"> <div class="like-btn"><a class="b-link" href="javascript:void(0);"></a></div> ').section(t.get(["COUNT"],!1),t,{block:r},{}).write(' </div><div id="dynamic_').reference("id",t).write('" class="pv_likes_item"></div> ')}function r(e,t){return e.write(' <span class="like-counter">').reference("count",t).write("</span> ")}function l(e,t){return e.write(' <div class="like-wrap_ vk" id="static_').reference("id",t).write('"> <div class="like-btn"></div> ').section(t.get(["COUNT"],!1),t,{block:_},{}).write(' </div><div class="pv_likes_item"><div id="dynamic_').reference("id",t).write('"></div></div> ')}function _(e,t){return e.write(' <span class="like-counter">').reference("count",t).write("</span> ")}function p(e,t){return e.write(' <div class="like-wrap_ tw" id="static_').reference("id",t).write('"> <div class="like-btn"><span>Tweet</span></div> ').section(t.get(["COUNT"],!1),t,{block:c},{}).write(' </div><div id="dynamic_').reference("id",t).write('" class="pv_likes_item"></div> ')}function c(e,t){return e.write(' <span class="like-counter">').reference("count",t).write("</span> ")}function u(e,t){return e.write(' <div id="static_').reference("id",t).write('" class="like-wrap_ yt"> <div class="like-btn"><span>YouTube</span></div> ').section(t.get(["COUNT"],!1),t,{block:d},{}).write(' </div><div id="dynamic_').reference("id",t).write('" class="pv_likes_item"></div> ')}function d(e,t){return e.write(' <span class="like-counter">').reference("count",t).write("</span> ")}function b(e,t){return e.write(' <div class="like-wrap_ pinit" id="static_').reference("id",t).write('"> <div class="like-btn"></div> ').section(t.get(["COUNT"],!1),t,{block:h},{}).write(' </div><div id="dynamic_').reference("id",t).write('" class="pv_likes_item"></div> ')}function h(e,t){return e.write(' <span class="like-counter"><span>').reference("count",t).write("</span></span> ")}return $u.dust.register("common/block.likes-buttons",e),e.s={FACEBOOK_BLOCK:t,_FACEBOOK_DYNAMIC_BLOCK:n,GOOGLE_BLOCK:a,VKONTAKTE_BLOCK:l,TWITTER_BLOCK:p,YOUTUBE_BLOCK:u,PINIT_BLOCK:b},t.s={COUNT:i,_DYNAMIC_BLOCK:s,_STATIC_BLOCK:o},a.s={COUNT:r},l.s={COUNT:_},p.s={COUNT:c},u.s={COUNT:d},b.s={COUNT:h},e}(),B.HoN_v3._Footer.LikesView=$class(B.DustView,{template:"common/block.likes",setData:function(e){for(var t={},i={FACEBOOK:B.HoN_v3._Footer.ButonLikesView_FACEBOOK,YOUTUBE:B.HoN_v3._Footer.ButonLikesView_YOUTUBE,GOOGLE:B.HoN_v3._Footer.ButonLikesView_GOOGLE,VKONTAKTE:B.HoN_v3._Footer.ButonLikesView_VKONTAKTE,TWITTER:B.HoN_v3._Footer.ButonLikesView_TWITTER,PINIT:B.HoN_v3._Footer.ButonLikesView_PINIT},s=0,o=e.length;o>s;s+=1){var n=e[s].name,a="HTMLBLOCK_"+n;t[n]={},t[n][a]=(new i[n]).setData(n,e[s].count)}return this.set(t)}}),B.HoN_v3._Footer.ButonLikesViewBase=$class(B.DustView,{template:"common/block.likes-buttons",setData:function(e,t){var i={PAGE_language_direction:document.documentElement.dir,id:e,_DYNAMIC_BLOCK:{id:e}};return t&&(i.COUNT={count:t}),this.set(i)}}),B.HoN_v3._Footer.ButonLikesView_FACEBOOK=$class(B.HoN_v3._Footer.ButonLikesViewBase,{block:"FACEBOOK_BLOCK"}),B.HoN_v3._Footer.ButonLikesView_GOOGLE=$class(B.HoN_v3._Footer.ButonLikesViewBase,{block:"GOOGLE_BLOCK"}),B.HoN_v3._Footer.ButonLikesView_YOUTUBE=$class(B.HoN_v3._Footer.ButonLikesViewBase,{block:"YOUTUBE_BLOCK"}),B.HoN_v3._Footer.ButonLikesView_VKONTAKTE=$class(B.HoN_v3._Footer.ButonLikesViewBase,{block:"VKONTAKTE_BLOCK"}),B.HoN_v3._Footer.ButonLikesView_TWITTER=$class(B.HoN_v3._Footer.ButonLikesViewBase,{block:"TWITTER_BLOCK"}),B.HoN_v3._Footer.ButonLikesView_PINIT=$class(B.HoN_v3._Footer.ButonLikesViewBase,{block:"PINIT_BLOCK"}),B.HoN_v3._Footer.LikesViewController=$class(B.HoN_v3._Footer.BaseViewController,{view:new B.HoN_v3._Footer.LikesView,providers_map:{1:"FACEBOOK",9:"GOOGLE",15:"TWITTER",2:"VKONTAKTE",22:"PINIT",23:"YOUTUBE"},setData:function(e){this.providers=e;var t,i;this.data=[];for(var s=0,o=e.length;o>s;s+=1)t=e[s],i=this.providers_map[t.getService()],this.data.push({name:i,count:t.getCount()});this._render(),this.init()},getPartner:function(e,t){var i=t+"_BLOCK",s="HTMLBLOCK_"+t,o={},n=e.getCount(),a={PAGE_language_direction:document.documentElement.dir,id:t,_DYNAMIC_BLOCK:{id:t}};return n&&(a.COUNT={count:n}),o[s]=new B.HoN_v3._Footer.ButonLikesView(a,i),o},init:function(){$e.add(this.root_el,"mouseover",this.create_buttons,this)},create_buttons:function(){var e=B.HoN_v3._Footer.Likes;$e.del(this.root_el,"mouseover",this.create_buttons,this),this._buttons=[];for(var t,i,s=0,o=this.providers.length;o>s;s+=1)t=this.providers[s],i=this.providers_map[t.getService()].toLowerCase(),this._buttons.push(new e[i](i.toUpperCase(),t))}}),$u.gplus=new $class({script_url:"//apis.google.com/js/plus.js",api_ready_callback:"onGooglePlusAPIReady",inited:!1,loading:!1,queue:[],init:function(){if(!this.inited&&!this.loading){var e=$vars.GAPI&&$vars.GAPI.cfg.lang_code||"en-US";window.___gcfg={lang:e,parsetags:"explicit"},window[this.api_ready_callback]=this.api_ready.bind(this),$r.loader.js(this.script_url+"?onload="+this.api_ready_callback),this.loading=!0}},api_ready:function(){"ie8"!=$u.ua?delete window[this.api_ready_callback]:window[this.api_ready_callback]=void 0,this.loading=!1,this.inited=!0;for(var e=0;e<this.queue.length;e++)this.queue[e][0].call(this.queue[e][1]);this.queue=null},call:function(e,t){this.inited?e.call(t):(this.loading||this.init(),"ie8"!=$u.ua?this.queue.push([e,t]):(this.queue=[],this.queue.push([e,t])))}}),B.HoN_v3._Footer.Likes={},function(e){e.Button=$class({static_button:null,container_el:null,config:null,api_url:!1,constructor:function(e,t){this.static_button=$("static_"+e),this.container_el=$("dynamic_"+e),this.config=t,this.api_url?(this.api_init(),$r.loader.js(this.api_url,this.api_loaded,this)):this.render()},destroy:function(){this.config=this.static_button=this.container_el=null},api_loaded:function(){this.api_url=!1,this.api_available(),this.render()},clear:function(){$el.add(this.static_button,"invisible")},api_init:function(){},api_available:function(){},render:function(){}}),e.google=$class(e.Button,{render:function(){$u.gplus.call(this.paste,this)},paste:function(){var e=this.container_el.id,t=this.config;gapi.plusone.render(e,{href:t.getUrl(),size:"medium",expandto:"top",count:!0}),new $t(this.clear_async,this).set(5)},clear_async:function(){var e=this.container_el.firstChild;e?e.onload=this.clear.bind(this):this.clear()}}),e.youtube=$class(e.Button,{render:function(){$u.gplus.call(this.paste,this)},paste:function(){var e=this.container_el.id,t=this.config;gapi.ytsubscribe.render(e,{channel:t.getYoutubeChannel(),layout:"default",count:t.getCount()||"hidden"}),new $t(this.clear_async,this).set(5)},clear_async:function(){var e=this.container_el.firstChild;e?e.onload=this.clear.bind(this):this.clear()}}),e.facebook=$class(e.Button,{url_tpl:"//www.facebook.com/plugins/like.php?href={url}&send=false&layout=button_count&show_faces=false&action=like&colorscheme=light&height=21&locale={locale}",tpl:'<iframe scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:21px;" allowTransparency="true"></iframe>',render:function(){var e=$u.tpl2el(this.tpl);$e.add(e,"load",this.clear,this),this.container_el.appendChild(e),e.src=$u.tpl(this.url_tpl,{url:encodeURIComponent(this.config.getUrl()),locale:encodeURIComponent(this.config.getLocale())})}}),e.twitter=$class(e.Button,{url_tpl:"//platform.twitter.com/widgets/tweet_button.html?lang={lang}&text={text}&url={url}&related={related}&count={count}",tpl:'<iframe class="twitter-share-button" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:21px;" allowTransparency="true"></iframe>',render:function(){var e=this.config,t=$u.tpl2el(this.tpl);$e.add(t,"load",this.clear,this),this.container_el.appendChild(t),t.src=$u.tpl(this.url_tpl,{lang:encodeURIComponent(e.getLocale()),text:encodeURIComponent(e.getText()),url:encodeURIComponent(e.getUrl()),related:encodeURIComponent(e.getTwitterRelated()),count:"false"==e.getCount()?"none":"horizontal"})}}),e.vkontakte=$class(e.Button,{api_url:"//vk.com/js/api/openapi.js",api_available:function(){VK.init({apiId:this.config.getApplicationId(),onlyWidgets:!0})},render:function(){var e=this.config;VK.Widgets.Like("dynamic_VKONTAKTE",{type:"mini",pageTitle:e.getTitle(),pageDescription:e.getText(),pageUrl:e.getUrl(),pageImage:e.getImage()},e.getVkontaktePageId()),this.clear(),B.fire("likes:vkontakte_rendered",this.static_button)}}),e.pinit=$class(e.Button,{tpl:'<a data-pin-config="beside" href="//pinterest.com/pin/create/button/?url={url}&media={img}&description={desc}" data-pin-do="buttonPin" ><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png" /></a>',url:"//assets.pinterest.com/js/pinit.js",render:function(){var e=this.config;this.container_el.innerHTML=$u.tpl(this.tpl,{url:encodeURIComponent(e.getUrl()),img:encodeURIComponent(e.getImage()),desc:encodeURIComponent(e.getTitle())}),$r.loader.js(this.url,this.clear,this)}})}(B.HoN_v3._Footer.Likes),B.HoN_v3._Footer.FooterController=$class({views:null,sound:null,constructor:function(){this.views={},B.on("app:init",this.init,this)},init:function(){this.root_el=$("app_footer"),null!==this.root_el&&(B.IM.on({sound:this.play},this),B.HoN_v3.on("sound:change",this.soundChange,this),$u.broadcast.on({"sound:change":this.soundChange},this),B.HoN_v3.Models.Cache.AppSettingsCache.fetch(this.appResponce,this),B.HoN_v3.Models.Cache.CommonSettingsCache.fetch(this.settingsResponse,this),new $gpb.Rpc($p.MessageType.SERVER_GET_SOCIAL_LIKE_PROVIDERS,null).on($p.MessageType.CLIENT_SOCIAL_LIKE_PROVIDERS,this.likesResponse,this).request(),$el.dom.html(this.root_el,new B.HoN_v3._Footer.BaseView))},soundChange:function(e){this.sound=e,this.setView()},appResponce:function(e){this.sound=e.getSettings().getInterfaceSound(),$u.broadcast.send("sound:change",this.sound),this.setView()},setView:function(){this.views.links||(this.views.links=new B.HoN_v3._Footer.LinksViewController($el.down(this.root_el,".js-footer-links")),this.views.links.on("turnsound",this.setSound,this)),this.views.links.setData(!this.sound),this.sound?B.fire("sound:enable"):B.fire("sound:disable")},play:function(){B.fire("sound:play","new_msg")},setSound:function(){var e=new $p.AppSettings;e.setInterfaceSound(!this.sound),(new B.HoN_v3.Models.AppSettingsModel).update(null,e,this.appResponce,null,this)},settingsResponse:function(e){var t=e.getSettings(),i=t.getExperimentalWelcomeData();i&&(this.views.counters=new B.HoN_v3._Footer.CountersViewController($el.down(this.root_el,".js-footer-counters")),this.views.counters.setData(i.getTotalRegisteredCounter(),i.getTotalOnlineCounter()))},likesResponse:function(e,t){if(!t)return!1;var i=t.getProviders();i&&(this.views.likes=new B.HoN_v3._Footer.LikesViewController($el.down(this.root_el,".js-footer-likes")),this.views.likes.setData(i))}}),B.HoN_v3.Footer=new $class({footer_url:"/ws/footer-ws.phtml?get=import",wrap_el:null,footer_request:null,empty:!0,constructor:function(){this.controller=new B.HoN_v3._Footer.FooterController,B.on({"app:init":this.app_init},this)},isEnabled:function(){return B.HoN_v3.Partner.match("web","fb","badoo","badoo-fb")},app_init:function(){if(this.isEnabled()){this.wrap_el=$el.down(document,".js-users-connect");var e={$gpb:"FB.RequestDialogViewConfig",stage:{$gpb:"FB.RequestDialogConfig",message:$l.get("hon/fbc","IMPORT_FORM_REQUEST_MESSAGE"),save_result_url:"/import/ws-fb-request?imp=12&rfr=3&feature=262144"},stat_url:"/import/ws-fb-request?imp=12&rfr=3&feature=262144"};$c.config.add("hon-fb-footer-request",e)}},toggle_wrap:function(e){$el.tgl(this.wrap_el,"hidden",!e)},toggle_footer:function(e){this.isEnabled()&&(this.toggle_wrap(e),$el.tgl($("page"),"with-side-footer",e),e&&this.empty&&this.load_footer())},load_footer:function(){this.isEnabled()&&(this.cancel_footer_load(),this.empty=!1,this.footer_request=new $r(this.footer_url,{show_fatal:!1,ready:this.on_footer_ready},this))},cancel_footer_load:function(){this.footer_request&&(this.footer_request.abort(),this.footer_request=null)},on_footer_ready:function(e){this.footer_request=null,$el.dom.html(this.wrap_el,e.import_blk);var t=$el.down(this.wrap_el,"form");t&&new B.ConnectForm(t)},hide_import_block:function(){this.toggle_wrap(!1)}}),B.Footer={reset_ssid:function(){B.HoN_v3.Footer.hide_import_block()},set_footer_height:function(){}},B.HoN_v3.AbTests=new $class({constructor:function(){B.on({"app:init":this.init},this)},init:function(){this.tests={};var e=$vars.Startup&&$vars.Startup.a_b_testing_settings;e&&(this.testingSettings=$gpb("badoo.bma.ABTestingSettings",e))},getVariationId:function(e){if(this.testingSettings&&this.testingSettings.getTests)for(var t=this.testingSettings.getTests(),i=t.length-1;i>=0;i--){var s=t[i];if(s.getTestId()==e)return s.getVariationId()}return null},isActive:function(e,t){return this.getVariationId(e)===t}}),B.HoN_v3.BaseViewController=$class({getClickHandlers:null,container:null,$e:null,_observer:null,constructor:function(e){this.container=e,this.getClickHandlers&&(this.$e=$e.on(this.getClickHandlers(),this)),this._observer=new $u.Observable},destroy:function(){this.container=null,this.$e&&($e.un(this.$e),this.$e=null),this._observer.destroy(),this._observer=null},on:function(){return this._observer.on.apply(this._observer,arguments),this},un:function(){return this._observer.un.apply(this._observer,arguments),this},fire:function(){return this._observer.fire.apply(this._observer,arguments),this},getElement:function(e){return $el.down(this.container,e)}}),B.HoN_v3.BaseController=$class({_observer:null,constructor:function(){this._observer=new $u.Observable},destroy:function(){this._observer.destroy(),this._observer=null},on:function(){return this._observer.on.apply(this._observer,arguments),this},un:function(){return this._observer.un.apply(this._observer,arguments),this},fire:function(){return this._observer.fire.apply(this._observer,arguments),this},getView:function(){},renderComplete:function(){}}),B.HoN_v3.BaseAsyncController=$class(B.HoN_v3.BaseController,{constructor:function(){$super(this,arguments)},destroy:function(){$super(this,arguments)},request:function(e){return this.init(e),this},init:function(){},viewReady:function(){this.fire("view-ready")}}),B.HoN_v3.BaseRootController=$class(B.HoN_v3.BaseAsyncController,{pageParams:null,setPageParams:function(e){return this.pageParams=e,this},getStubView:function(){},hasFooter:function(){return!0},getTitle:function(){}}),B.HoN_v3.LegacyRootController=$class(B.HoN_v3.BaseRootController,{waRequest:null,html:null,init:function(){return this.waRequest=new $r(B.App.url,{params:{wa:1,force_wa:1},ready:this.onWaRequestReady},this),this},getView:function(){return this.html},destroy:function(){this.waRequest&&(this.waRequest.abort(),this.waRequest=null),this.html=null,$super(this,arguments)},onWaRequestReady:function(e){this.html=e.page.center,this.viewReady()}}),B.HoN_v3.Models||(B.HoN_v3.Models={},B.HoN_v3.Models.BaseModel=$class({fetchReadyCallback:null,fetchErrorCallback:null,fetchContext:null,updateReadyCallback:null,updateErrorCallback:null,updateContext:null,_observer:null,constructor:function(){this._observer=new $u.Observable},destroy:function(){this._observer.destroy(),this._observer=null,this.destroyFetchCallbacks(),this.destroyUpdateCallbacks()},on:function(){return this._observer.on.apply(this._observer,arguments),this},un:function(){return this._observer.un.apply(this._observer,arguments),this},fire:function(){this._observer.fire.apply(this._observer,arguments)},fetch:function(e,t,i,s){this.fetchReadyCallback=t,this.fetchErrorCallback=i,this.fetchContext=s},fetchReady:function(){this.fetchReadyCallback.call(this.fetchContext,this),this.destroyFetchCallbacks()},fetchError:function(){this.fetchErrorCallback.call(this.fetchContext),this.destroyFetchCallbacks()},destroyFetchCallbacks:function(){this.fetchReadyCallback=null,this.fetchErrorCallback=null,this.fetchContext=null},update:function(e,t,i,s,o){this.updateReadyCallback=i,this.updateErrorCallback=s,this.updateContext=o},updateReady:function(){this.updateReadyCallback&&this.updateReadyCallback.call(this.updateContext,this),this.destroyUpdateCallbacks()},updateError:function(){this.updateErrorCallback&&this.updateErrorCallback.call(this.updateContext),this.destroyUpdateCallbacks()},destroyUpdateCallbacks:function(){this.updateReadyCallback=null,this.updateErrorCallback=null,this.updateContext=null}})),B.HoN_v3.Models.Cache||(B.HoN_v3.Models.Cache={},B.HoN_v3.Models.Cache.BaseCache=$class({callbackQueue:null,model:null,$tAsyncCall:null,cacheUpdateTime:0,fetchInProgress:!1,CACHE_EXPIRATION_TIME:0,constructor:function(){this.callbackQueue=[]},destroy:function(){this.destroyModel(),this.$tAsyncCall&&(this.$tAsyncCall.clear(),this.$tAsyncCall=null),this.callbackQueue=null},fetch:function(e,t){var i;return this.callbackQueue.push([e,t]),i=this.callbackQueue.length-1,this.isCacheExpires()?this.fetchInProgress||(this.fetchInProgress=!0,this.destroyModel(),this.model=this.createModel(),this.model.fetch(null,this.onModelReady,this.onModelError,this)):(this.$tAsyncCall||(this.$tAsyncCall=new $t(this.asyncCall,this)),+this.$tAsyncCall||this.$tAsyncCall.set(0)),""+i},cancel:function(e){e&&this.callbackQueue.length&&this.callbackQueue.splice(+e,1)},invalidate:function(){this.cacheUpdateTime=0},asyncCall:function(){this.processCallbacks()},processCallbacks:function(){for(var e,t=0;t<this.callbackQueue.length;t++)e=this.callbackQueue[t],e[0].call(e[1],this.model);this.callbackQueue=[]},onModelReady:function(){this.processCallbacks(),this.cacheUpdateTime=+new Date,this.fetchInProgress=!1},onModelError:function(){B.fire("page:fatal")},isCacheExpires:function(){return this.cacheUpdateTime+this.CACHE_EXPIRATION_TIME<+new Date},createModel:function(){},destroyModel:function(){this.model&&(this.model.destroy(),this.model=null)}})),$gpb.exists("badoo.bma.ServerGetUser","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetUser=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetUser",t.prototype._descriptor={fields:{user_id:{type:9,number:1,label:1},token:{type:9,number:2,label:1},user_field_filter:{type:11,type_name:"badoo.bma.UserFieldFilter",number:4,label:2},client_source:{type:14,type_name:"badoo.bma.ClientSource",number:5,label:2},is_prefetch:{type:8,number:6,label:1}}}}(),B.HoN_v3.Models.BaseApiModel=$class(B.HoN_v3.Models.BaseModel,{fetchMessages:[null,null],fetchRequest:null,fetchData:null,updateMessages:[null,null],updateRequest:null,updateData:null,FETCH_RETRY_COUNT:2,UPDATE_RETRY_COUNT:0,destroy:function(){this.fetchRequest&&(this.fetchRequest.destroy(),this.fetchRequest=null),this.fetchData=null,this.updateRequest&&(this.updateRequest.destroy(),this.updateRequest=null),this.updateData=null,$super(this,arguments)},fetch:function(e){$super(this,arguments),this.fetchRequest=new $gpb.Rpc(this.fetchMessages[0],this.getFetchBody()).on(this.fetchMessages[1],this.onFetch,this).setJinbaRequest(e).setRetryCount(this.FETCH_RETRY_COUNT).request()},getFetchBody:function(){},getUpdateBody:function(e){return e},onFetch:function(e){e?this.fetchError(e):(this.fetchData=this.extractRpcArguments(arguments),this.fetchReady())},update:function(e,t){$super(this,arguments),this.updateRequest=new $gpb.Rpc(this.updateMessages[0],this.getUpdateBody(t)).on(this.updateMessages[1],this.onUpdate,this).setJinbaRequest(e).setRetryCount(this.UPDATE_RETRY_COUNT).request()},onUpdate:function(e){e?this.updateError(e):(this.updateData=this.extractRpcArguments(arguments),this.updateReady())},extractRpcArguments:function(e){return 1==e.length?null:2==e.length?e[1]:Array.prototype.slice.call(e,1)}}),B.HoN_v3.Models.UserModel||(B.HoN_v3.Models.UserModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_USER,$p.MessageType.CLIENT_USER],updateMessages:[$p.MessageType.SERVER_SAVE_USER,$p.MessageType.CLIENT_USER],userId:null,clientSource:null,projection:null,getFetchBody:function(){return(new $p.ServerGetUser).setUserId(this.userId).setUserFieldFilter((new $p.UserFieldFilter).setProjection(this.projection)).setClientSource(this.clientSource)},setUserId:function(e){return this.userId=e,this},setClientSource:function(e){return this.clientSource=e,this},setProjection:function(e){return this.projection=e,this},getUser:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.CurrentUserCache||(B.HoN_v3.Models.Cache.CurrentUserCache=new $class(B.HoN_v3.Models.Cache.BaseCache,{projection:[],$b:null,CACHE_EXPIRATION_TIME:3e5,constructor:function(){$super(this,arguments),this.$b=B.on({"profile:change_photos_total":this.onModelChanged,"tmp:profile_changed":this.onModelChanged,"tmp:verified_changed":this.onModelChanged,"user:verified":this.onModelChanged,"user:wish-change":this.onModelChanged},this)
},destroy:function(){B.un(this.$b),this.$b=null,$super(this,arguments)},createModel:function(){return(new B.HoN_v3.Models.UserModel).setUserId(B.Session.getUserId()).setProjection(this.projection).setClientSource($p.ClientSource.CLIENT_SOURCE_UNSPECIFIED)},onModelChanged:function(){this.invalidate()}}),$config(B.HoN_v3.Models.Cache.CurrentUserCache,{addProjection:function(e){var t=B.HoN_v3.Models.Cache.CurrentUserCache.constructor.prototype.projection,i=e.filter(function(e){return t.indexOf(e)<0});Array.prototype.push.apply(t,i)}}),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_PHOTO_COUNT,$p.UserField.USER_FIELD_LOCATION,$p.UserField.USER_FIELD_PROFILE_FIELDS,$p.UserField.USER_FIELD_IS_VERIFIED,$p.UserField.USER_FIELD_VERIFIED_INFORMATION,$p.UserField.USER_FIELD_GENDER,$p.UserField.USER_FIELD_PROFILE_PHOTO]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_PROFILE_FIELDS]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_PHOTO_COUNT,$p.UserField.USER_FIELD_PROFILE_FIELDS]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_CREDITS,$p.UserField.USER_FIELD_NAME,$p.UserField.USER_FIELD_AGE,$p.UserField.USER_FIELD_PHOTO_COUNT,$p.UserField.USER_FIELD_PROFILE_PHOTO,$p.UserField.USER_FIELD_POPULARITY_LEVEL]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_PROFILE_PHOTO]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_PROFILE_PHOTO,$p.UserField.USER_FIELD_COUNTRY,$p.UserField.USER_FIELD_CITY,$p.UserField.USER_FIELD_GENDER,$p.UserField.USER_FIELD_AGE]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_PHOTO_COUNT,$p.UserField.USER_FIELD_GENDER]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_NAME,$p.UserField.USER_FIELD_PROFILE_PHOTO,$p.UserField.USER_FIELD_SOCIAL_NETWORKS,$p.UserField.USER_FIELD_VERIFIED_INFORMATION,$p.UserField.USER_FIELD_PHOTO_COUNT,$p.UserField.USER_FIELD_COUNTRY,$p.UserField.USER_FIELD_CREDITS,$p.UserField.USER_FIELD_GENDER]),B.HoN_v3.Models.Cache.CurrentUserCache.addProjection([$p.UserField.USER_FIELD_EMAIL])),$gpb.exists("badoo.bma.ClientCommonSettings","message")||($gpb.exists("badoo.bma.DevFeature","message")||($gpb.exists("badoo.bma.DevFeatureState","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.DevFeatureState=new $gpb.Enum("badoo.bma.DevFeatureState");t._values=[0,1,2,3],t.UNKNOWN_DEV_FEATURE_STATE=0,t.DEV_FEATURE_STATE_NOT_FOUND=1,t.DEV_FEATURE_STATE_ROLLOUT=2,t.DEV_FEATURE_STATE_RELEASED=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.DevFeature=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.DevFeature",t.prototype._descriptor={fields:{state:{type:14,type_name:"badoo.bma.DevFeatureState",number:3,label:1},enabled:{type:8,number:2,label:1},id:{type:9,number:1,label:1}}}}()),$gpb.exists("badoo.bma.VisitingPlace","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VisitingPlace=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.VisitingPlace",t.prototype._descriptor={fields:{not_interested:{type:8,number:8,label:1},title:{type:9,number:2,label:1},longitude:{type:1,number:4,label:1},leave_timestamp:{type:3,number:6,label:1},range:{type:5,number:7,label:1},latitude:{type:1,number:3,label:1},enter_timestamp:{type:3,number:5,label:1},id:{type:5,number:1,label:1}}}}(),$gpb.exists("badoo.bma.WebSpecificOptions","message")||($gpb.exists("badoo.bma.CreditPromoPopup","message")||($gpb.exists("badoo.bma.CreditPromoPopupType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CreditPromoPopupType=new $gpb.Enum("badoo.bma.CreditPromoPopupType");t._values=[1,2,3,4,5,6,7,8,9,10],t.DOUBLE_CREDITS=1,t.EARN=2,t.VALENTINE=3,t.CHRISTMAS=4,t.NO_CREDITS=5,t.CREDITS_PROMO=6,t.UNPAYED_USERS=7,t.NEW_YEAR_PROMO=8,t.MOBILE_DAILY_REWARD=9,t.REACTIVATION_BONUS=10}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.CreditPromoPopup=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CreditPromoPopup",t.prototype._descriptor={fields:{days_till_expire:{type:5,number:2,label:1},type:{type:14,type_name:"badoo.bma.CreditPromoPopupType",number:1,label:1},credits_amount:{type:5,number:3,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.WebSpecificOptions=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.WebSpecificOptions",t.prototype._descriptor={fields:{open_search_filter:{type:8,number:1,label:1},credits_promo_popup:{type:11,type_name:"badoo.bma.CreditPromoPopup",number:2,label:1}}}}()),$gpb.exists("badoo.bma.ExternalEndpoint","message")||($gpb.exists("badoo.bma.ExternalEndpointType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalEndpointType=new $gpb.Enum("badoo.bma.ExternalEndpointType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13],t.UNKNOWN_EXTERNAL_ENDPOINT_TYPE=0,t.EXTERNAL_ENDPOINT_TYPE_HELP=1,t.EXTERNAL_ENDPOINT_TYPE_FULL_SITE=2,t.EXTERNAL_ENDPOINT_TYPE_PRIVACY=3,t.EXTERNAL_ENDPOINT_TYPE_PHOTO_UPLOAD=4,t.EXTERNAL_ENDPOINT_TYPE_CHAT_MULTIMEDIA_UPLOAD=5,t.EXTERNAL_ENDPOINT_TYPE_ABOUT=6,t.EXTERNAL_ENDPOINT_TYPE_FAQ_FOR_PARENTS=7,t.EXTERNAL_ENDPOINT_TYPE_APP_STORE=8,t.EXTERNAL_ENDPOINT_TYPE_GOOGLE_PLAY=9,t.EXTERNAL_ENDPOINT_TYPE_BLACKBERRY_APP_WORLD=10,t.EXTERNAL_ENDPOINT_TYPE_WINDOWS_PHONE_STORE=11,t.EXTERNAL_ENDPOINT_TYPE_FACEBOOK_LIKE_OBJECT=12,t.EXTERNAL_ENDPOINT_TYPE_TERMS_AND_CONDITIONS=13}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalEndpoint=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExternalEndpoint",t.prototype._descriptor={fields:{url:{type:9,number:2,label:1},type:{type_name:"badoo.bma.ExternalEndpointType",number:1,label:1,type:14,options:{"default":"UNKNOWN_EXTERNAL_ENDPOINT_TYPE"}}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientCommonSettings=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientCommonSettings",t.prototype._descriptor={fields:{web_specific_options:{type:11,type_name:"badoo.bma.WebSpecificOptions",number:13,label:1},connected_via:{type:11,type_name:"badoo.bma.ExternalProvider",number:11,label:1},max_places_filter_value:{type:5,number:17,label:1},dev_features:{type:11,type_name:"badoo.bma.DevFeature",number:9,label:3},allow_review:{type:8,number:6,label:1},language_id:{type:5,number:3,label:1},user_country:{type:11,type_name:"badoo.bma.Country",number:10,label:1},a_b_testing_settings:{type:11,type_name:"badoo.bma.ABTestingSettings",number:7,label:1},application_features:{type:11,type_name:"badoo.bma.ApplicationFeature",number:4,label:3},phone_confirm_missing:{type:8,number:5,label:1},server_get_social_friends_connections_period:{type:5,number:16,label:1},alert_places:{type:11,type_name:"badoo.bma.VisitingPlace",number:12,label:3},phone_verification_force_pin:{type:8,number:15,label:1},loading_united_friends_request_period:{type:5,number:19,label:1},external_endpoints:{type:11,type_name:"badoo.bma.ExternalEndpoint",number:8,label:3},allow_facebook_like_on_review:{type:8,number:18,label:1},available_credits:{type:5,number:14,label:1},partner_id:{type:5,number:1,label:1},change_host:{type:11,type_name:"badoo.bma.ClientChangeHost",number:2,label:1},experimental_welcome_data:{type:11,type_name:"badoo.bma.WelcomeData",number:10001,label:1}}}}()),B.HoN_v3.Models.CommonSettingsModel||(B.HoN_v3.Models.CommonSettingsModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_COMMON_SETTINGS,$p.MessageType.CLIENT_COMMON_SETTINGS],getSettings:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.CommonSettingsCache||(B.HoN_v3.Models.Cache.CommonSettingsCache=new $class(B.HoN_v3.Models.Cache.BaseCache,{CACHE_EXPIRATION_TIME:15e3,createModel:function(){return new B.HoN_v3.Models.CommonSettingsModel}})),B.HoN_v3.Models.AppSettingsModel||(B.HoN_v3.Models.AppSettingsModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_APP_SETTINGS,$p.MessageType.CLIENT_APP_SETTINGS],updateMessages:[$p.MessageType.SERVER_SAVE_APP_SETTINGS,$p.MessageType.CLIENT_APP_SETTINGS],$b:null,constructor:function(){$super(this,arguments),this.$b=B.on({"app-settings:change":this.onDataChange},this)},destroy:function(){B.un(this.$b),$super(this,arguments)},updateReady:function(){$u.broadcast.send("app-settings:change",this.updateData),B.fire("app-settings:change",this.updateData),$super(this,arguments)},onDataChange:function(e){this.fetchData=e,this.fire("change")},getSettings:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.AppSettingsCache||(B.HoN_v3.Models.Cache.AppSettingsCache=new $class(B.HoN_v3.Models.Cache.BaseCache,{$broadcast:null,CACHE_EXPIRATION_TIME:3e5,constructor:function(){$super(this,arguments),this.$broadcast=$u.broadcast.on({"app-settings:change":this.onBroadcast},this)},destroy:function(){$u.broadcast.un(this.$broadcast),this.$broadcast=null,$super(this,arguments)},createModel:function(){return(new B.HoN_v3.Models.AppSettingsModel).on("change",this.onModelChanged,this)},onBroadcast:function(e){B.fire("app-settings:change",$gpb("badoo.bma.AppSettings",e))},onModelChanged:function(){this.cacheUpdateTime=+new Date}})),B.HoN_v3.Models.EncounterSettingsModel||(B.HoN_v3.Models.EncounterSettingsModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_ENCOUNTER_SETTINGS,$p.MessageType.CLIENT_ENCOUNTER_SETTINGS],updateMessages:[$p.MessageType.SERVER_SAVE_ENCOUNTER_SETTINGS,$p.MessageType.CLIENT_PERSON],$b:null,constructor:function(){$super(this,arguments),this.$b=B.on({"encounter-settings:change":this.onDataChange},this)},destroy:function(){B.un(this.$b),$super(this,arguments)},getFetchBody:function(){return(new $p.SearchSettingsContext).setSearchResponseContext($p.SearchType.NEARBY)},updateReady:function(){$u.broadcast.send("user:wish-change",this.updateData),B.fire("user:wish-change",this.updateData),B.HoN_v3.Models.Cache.EncounterSettingsCache.invalidate(),$super(this,arguments)},onDataChange:function(e){this.fetchData=e,this.fire("change")},getSettings:function(){return this.fetchData},getCurrentUser:function(){return this.updateData}})),B.HoN_v3.Models.Cache.EncounterSettingsCache||(B.HoN_v3.Models.Cache.EncounterSettingsCache=new $class(B.HoN_v3.Models.Cache.BaseCache,{$broadcast:null,CACHE_EXPIRATION_TIME:6e4,constructor:function(){$super(this,arguments),this.$broadcast=$u.broadcast.on({"encounter-settings:change":this.onBroadcast},this)},destroy:function(){$u.broadcast.un(this.$broadcast),this.$broadcast=null,$super(this,arguments)},createModel:function(){return(new B.HoN_v3.Models.EncounterSettingsModel).on("change",this.onModelChanged,this)},onBroadcast:function(e){B.fire("encounter-settings:change",$gpb("badoo.bma.SearchSettings",e))},onModelChanged:function(){this.cacheUpdateTime=+new Date}})),$gpb.exists("badoo.bma.ServerGetGiftProductList","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetGiftProductList=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetGiftProductList",t.prototype._descriptor={fields:{user_id:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.GiftProductList","message")||($gpb.exists("badoo.bma.GiftSection","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.GiftSection=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.GiftSection",t.prototype._descriptor={fields:{id:{type:5,number:1,label:1},name:{type:9,number:2,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.GiftProductList=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.GiftProductList",t.prototype._descriptor={fields:{text_suggestions_male:{type:9,number:3,label:3},sections:{type:11,type_name:"badoo.bma.GiftSection",number:2,label:3},gift_products:{type:11,type_name:"badoo.bma.GiftProduct",number:1,label:3},text_suggestions_female:{type:9,number:4,label:3}}}}()),B.HoN_v3.Models.GiftsModel||(B.HoN_v3.Models.GiftsModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_GIFT_PRODUCT_LIST,$p.MessageType.CLIENT_GIFT_PRODUCT_LIST],getGiftsProductList:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.GiftsCache||(B.HoN_v3.Models.Cache.GiftsCache=new $class(B.HoN_v3.Models.Cache.BaseCache,{CACHE_EXPIRATION_TIME:3e5,createModel:function(){return new B.HoN_v3.Models.GiftsModel}})),$gpb.exists("badoo.bma.ClientStickerPacks","message")||($gpb.exists("badoo.bma.Sticker","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.Sticker=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.Sticker",t.prototype._descriptor={fields:{image_id:{type:9,number:2,label:1},id:{type:9,number:1,label:1}}}}(),$gpb.exists("badoo.bma.StickerPack","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.StickerPack=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.StickerPack",t.prototype._descriptor={fields:{image_url:{type:9,number:3,label:1},stickers:{type:11,type_name:"badoo.bma.Sticker",number:4,label:3},unlock_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:5,label:1},name:{type:9,number:2,label:1},id:{type:9,number:1,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientStickerPacks=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientStickerPacks",t.prototype._descriptor={fields:{sticker_packs:{type:11,type_name:"badoo.bma.StickerPack",number:1,label:3},first_time:{type:8,number:3,label:1},recent_stickers:{type:11,type_name:"badoo.bma.Sticker",number:2,label:3}}}}()),B.HoN_v3.Models.StickersModel||(B.HoN_v3.Models.StickersModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_STICKER_PACKS,$p.MessageType.CLIENT_STICKER_PACKS],getStickers:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.StickersCache||(B.HoN_v3.Models.Cache.StickersCache=new $class(B.HoN_v3.Models.Cache.BaseCache,{$b:null,CACHE_EXPIRATION_TIME:3e5,constructor:function(){$super(this,arguments),this.$b=B.on({"stickers:update":this.onModelChanged},this)},destroy:function(){B.un(this.$b),this.$b=null,$super(this,arguments)},createModel:function(){return new B.HoN_v3.Models.StickersModel},onModelChanged:function(){this.invalidate()}})),$gpb.exists("badoo.bma.ExternalProviderContext","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProviderContext=new $gpb.Enum("badoo.bma.ExternalProviderContext");t._values=[1,2,3,4,5,6,7,8],t.EXTERNAL_PROVIDER_TYPE_CONTACTS=1,t.EXTERNAL_PROVIDER_TYPE_PHOTOS=2,t.EXTERNAL_PROVIDER_TYPE_REGISTRATION=3,t.EXTERNAL_PROVIDER_TYPE_PERSONAL_INFORMATION=4,t.EXTERNAL_PROVIDER_TYPE_INTERESTS=5,t.EXTERNAL_PROVIDER_TYPE_WORK_EDUCATION=6,t.EXTERNAL_PROVIDER_TYPE_VIDEOS=7,t.EXTERNAL_PROVIDER_TYPE_COMMON_PLACES=8}(),$gpb.exists("badoo.bma.ServerGetExternalProviders","message")||($gpb.exists("badoo.bma.PhoneBookReferrer","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhoneBookReferrer=new $gpb.Enum("badoo.bma.PhoneBookReferrer");t._values=[1,2,3,4,5],t.REF_FRIENDS_FOLDER=1,t.REF_HOME_SCREEN=2,t.REF_MENU=3,t.REF_SPP_PROMO=4,t.REF_WANT_TO_MEET_YOU_FOLDER=5}(),$gpb.exists("badoo.bma.IconSize","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.IconSize=new $gpb.Enum("badoo.bma.IconSize");t._values=[1,2,3],t.ICON_SIZE_NORMAL=1,t.ICON_SIZE_LARGE=2,t.ICON_SIZE_SMALL=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetExternalProviders=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetExternalProviders",t.prototype._descriptor={fields:{redirect_url:{type:9,number:1,label:1},referrer:{type:14,type_name:"badoo.bma.ClientSource",number:5,label:1},native_support:{type:14,type_name:"badoo.bma.ExternalProviderType",number:4,label:3},source:{type:14,type_name:"badoo.bma.PhoneBookReferrer",number:2,label:1},person_id:{type:9,number:6,label:1},context:{type:14,type_name:"badoo.bma.ExternalProviderContext",number:3,label:1},icon_size:{type_name:"badoo.bma.IconSize",number:7,label:1,type:14,options:{"default":"ICON_SIZE_NORMAL"}}}}}()),$gpb.exists("badoo.bma.ExternalProviders","message")||($gpb.exists("badoo.bma.ImportGoalProgress","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ImportGoalProgress=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ImportGoalProgress",t.prototype._descriptor={fields:{number_already_imported_string:{type:9,number:3,label:1},number_required:{type:5,number:1,label:1},description:{type:9,number:5,label:1},number_already_imported:{type:5,number:2,label:1},progress_stops:{type:9,number:4,label:3}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProviders=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExternalProviders",t.prototype._descriptor={fields:{providers:{type:11,type_name:"badoo.bma.ExternalProvider",number:1,label:3},heading_string:{type:9,number:4,label:1},title:{type:9,number:5,label:1},display_image:{type:9,number:7,label:1},context:{type:14,type_name:"badoo.bma.ExternalProviderContext",number:2,label:1},import_goal_progress:{type:11,type_name:"badoo.bma.ImportGoalProgress",number:6,label:1},display_string:{type:9,number:3,label:1}}}}()),B.HoN_v3.Models.ExternalProvidersModel||(B.HoN_v3.Models.ExternalProvidersModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_EXTERNAL_PROVIDERS,$p.MessageType.CLIENT_EXTERNAL_PROVIDERS],context:null,getFetchBody:function(){return(new $p.ServerGetExternalProviders).setContext(this.context)},setContext:function(e){return this.context=e,this},getProviders:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.BaseExternalProvidersCache||(B.HoN_v3.Models.Cache.BaseExternalProvidersCache=$class(B.HoN_v3.Models.Cache.BaseCache,{context:null,CACHE_EXPIRATION_TIME:864e5,createModel:function(){return(new B.HoN_v3.Models.ExternalProvidersModel).setContext(this.context)}}),B.HoN_v3.Models.Cache.PhotosExternalProvidersCache=new $class(B.HoN_v3.Models.Cache.BaseExternalProvidersCache,{context:$p.ExternalProviderContext.EXTERNAL_PROVIDER_TYPE_PHOTOS}),B.HoN_v3.Models.Cache.VideosExternalProvidersCache=new $class(B.HoN_v3.Models.Cache.BaseExternalProvidersCache,{context:$p.ExternalProviderContext.EXTERNAL_PROVIDER_TYPE_VIDEOS}),B.HoN_v3.Models.Cache.WorkEducationExternalProvidersCache=new $class(B.HoN_v3.Models.Cache.BaseExternalProvidersCache,{context:$p.ExternalProviderContext.EXTERNAL_PROVIDER_TYPE_WORK_EDUCATION}),B.HoN_v3.Models.Cache.ContactsExternalProvidersCache=new $class(B.HoN_v3.Models.Cache.BaseExternalProvidersCache,{context:$p.ExternalProviderContext.EXTERNAL_PROVIDER_TYPE_CONTACTS})),$gpb.exists("badoo.bma.ServerGetSocialLikeProviders","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetSocialLikeProviders=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetSocialLikeProviders",t.prototype._descriptor={fields:{context:{type:14,type_name:"badoo.bma.ClientSource",number:1,label:1}}}}(),B.HoN_v3.Models.SocialProvidersModel||(B.HoN_v3.Models.SocialProvidersModel=$class(B.HoN_v3.Models.BaseApiModel,{fetchMessages:[$p.MessageType.SERVER_GET_SOCIAL_LIKE_PROVIDERS,$p.MessageType.CLIENT_SOCIAL_LIKE_PROVIDERS],getProviders:function(){return this.fetchData}})),B.HoN_v3.Models.Cache.SocialProviders||(B.HoN_v3.Models.Cache.SocialProviders=new $class(B.HoN_v3.Models.Cache.BaseCache,{CACHE_EXPIRATION_TIME:36e5,createModel:function(){return new B.HoN_v3.Models.SocialProvidersModel}})),$u.fb=new $class({name:"FB",configured:!1,state:"none",handlers:[],expire_timeout:864e5,channel_url:"",app_id:"",sdk_url:"",sdk_version:"",exclude_list:{},constructor:function(){B.on("app:init",this.configure,this)},configure:function(){this.configured||($config(this,$vars.FB),this.prepare_exclude_list(),this.configured=!0)},init:function(){"none"==this.state&&(this.state="loading",window.fbAsyncInit=this.fb_async_init.bind(this),this.configure(),this.$s=new $s.Request("facebook",$s.TAG_ACTION),this.$s.timer_start("init",{group:"load_js"}),$r.loader.js(this.sdk_url))},fb_async_init:function(){FB.init({appId:this.app_id,version:this.sdk_version,channelUrl:this.channel_url,status:!0,cookie:!0,xfbml:!!this.xfbml,frictionlessRequests:!1}),this.$s.timer_stop("init"),this.$s.end(),window.fbAsyncInit=void 0;for(var e=0;e<this.handlers.length;e++)this.handlers[e]();this.handlers=null,this.state="inited"},call:function(e,t,i,s){var o=i?this.try_login_wrap(e,t,s):e.bind(t,!1);switch(this.state){case"none":this.handlers.push(o),this.init();break;case"loading":this.handlers.push(o);break;case"inited":o()}},try_login_wrap:function(e,t,i){return function(){FB.getLoginStatus(function(i){"connected"==i.status?e.call(t,!1):FB.login(function(i){i.authResponse?e.call(t,!1):e.call(t,!0)})},i)}},prepare_exclude_list:function(){var e=(new Date).getTime();for(var t in this.exclude_list)this.exclude_list[t]=e+this.exclude_list[t]},cleanup_exclude_list:function(){var e=(new Date).getTime(),t=[];for(var i in this.exclude_list)this.exclude_list[i]<e&&t.push(i);for(var s=0;s<t.length;s++)delete this.exclude_list[t[s]]},get_exclude_ids:function(){this.cleanup_exclude_list();var e=[];for(var t in this.exclude_list)e.push(t);return e},add_exclude_ids:function(e){for(var t=(new Date).getTime(),i=0;i<e.length;i++)this.exclude_list[e[i]]=t+this.expire_timeout}}),$r.debounce=$class($r,{debounce:300,_debounce_timer:null,constructor:function(){this._request=$r.prototype.request,this._debounce_timer=new $t(this._request,this),$super(this,arguments)},request:function(e,t,i){i&&+this._t&&this._abort(),this._debounce_timer.set(t||this.debounce,e)},abort:function(){this._debounce_timer.clear(),$super(this,arguments)}}),$u.broadcast_cache=new $class({name:"broadcast_cache",_cache:[],constructor:function(){B.on({visibilitychange:this.check},this),$u.broadcast.on({broadcast_cache_add:this._save,broadcast_cache_clear:this._clear},this)},send:function(){if($u.visibility.hidden){var e=Array.prototype.slice.call(arguments,0);$u.broadcast.send.call($u.broadcast,"broadcast_cache_add",e)}},_save:function(e){this._cache.push(e),this.check()},check:function(){var e=this._cache;if(e.length&&!$u.visibility.hidden){for(var t=0,i=e.length;i>t;t++)$u.broadcast.fire.apply($u.broadcast,e[t]);this._clear(),$u.broadcast.send.call($u.broadcast,"broadcast_cache_clear")}},_clear:function(){this._cache=[]}}),$r.ct={},$r.ct.id=function(){var e=$r.ct.id_start=+new Date,t=0;return $r.ct.ver="",function(){return e+"_"+$r.ct.ver+"_"+(+new Date-e)+"."+t++}}(),$r.ct.Base=$class({name:"comet.Base",id:0,url:"",onmessage:null,onclose:null,scope:null,t:null,timer:null,ping_time:3e4,abrt:0,active:0,st_open:0,st_error:0,st_timeout:0,constructor:function(e,t,i){this.id=$r.ct.id(),this.url=e+"&t="+this.id,$config(this,t),this.scope=i,this.p_=this.p.bind(this),this.open_=this.open.bind(this),this.drop_=this.drop.bind(this),this.connect_=this.connect.bind(this),this.timer=new $t(this.timeout,this,this.ping_time)},connect:function(){this.timer.set()},disconnect:function(){this.abrt=1,this.timer.clear()},p:function(e){if(!this.abrt&&(this.active++,this.timer.set(),""!=e.data)){var t="string"==typeof e.data?JSON.parse("["+e.data+"]"):e.data;$s.tryCall("$r.comet",this.onmessage,this.scope,this,t)}},open:function(){this.st_open=1},timeout:function(){this.abrt||(this.disconnect(),this.st_timeout=1,this.onclose.call(this.scope,"timeout",this))},drop:function(){this.abrt||(this.disconnect(),this.onclose.call(this.scope,"drop",this))}}),window.EventSource&&"m"!=$u.ua&&($r.ct.EventSource=$class($r.ct.Base,{name:"comet.EventSource",type:5,connect:function(){$super(this,arguments);var e=this.t=new EventSource(this.url);e.onopen=this.open_,e.onerror=this.drop_,e.onmessage=this.p_},drop:function(){this.t.readyState==EventSource.CLOSED&&$super(this,arguments)},disconnect:function(){if($super(this,arguments),this.t){var e=this.t;e.onopen=new Function,e.onerror=new Function,e.onmessage=new Function,e.close(),this.t=null}}})),$r.ct.LongPolling=$class($r.ct.Base,{name:"comet.LongPolling",type:7,_offs:0,constructor:function(){$super(this,arguments),this.progress_=this.progress.bind(this)},connect:function(){$super(this,arguments);var e=this.t=new XMLHttpRequest;e.onreadystatechange=this.progress_,e.open("GET",this.url,!0),e.send(null)},disconnect:function(){if($super(this,arguments),this.t){var e=this.t;e.onreadystatechange=new Function,e.abort(),this.t=null}},parse:function(){var e,t=this._offs,i="";try{i=this.t.responseText}catch(s){}for(;;){if(e=i.indexOf("\r\n",t),-1==e)break;this.p({data:i.slice(t,e)}),t=e+2}this._offs=t},progress:function(){var e=this.t;!this.st_open&&e.readyState>1&&this.open(),e.readyState<3||("ie8"===$u.ua||"ie9"===$u.ua)&&e.readyState<4||(200==e.status?this.parse():e.status&&!this.abrt&&(this.st_error=1),4==e.readyState&&this.drop())}}),$r.ct.Polling=$class($r.ct.LongPolling,{name:"comet.Polling",type:8}),("ff"==$u.ua||"cr"==$u.ua||"wk"==$u.ua||"ie10"==$u.ua||"ie11"==$u.ua||"edge"==$u.ua)&&($r.ct.XHRInteractive=$class($r.ct.LongPolling,{name:"comet.XHRInteractive",type:2})),window.XDomainRequest&&($r.ct.XDR=$class($r.ct.LongPolling,{name:"comet.XDR",type:4,constructor:function(){$super(this,arguments),this.load_=this.load.bind(this)},connect:function(){$r.ct.Base.prototype.connect.call(this);var e=this.t=new XDomainRequest;e.onerror=this.drop_,e.onload=this.load_,e.ontimeout=this.drop_,e.onprogress=this.progress_,e.timeout=this.ping_time,e.open("GET",this.url),e.send()},disconnect:function(){if($r.ct.Base.prototype.disconnect.call(this),this.t){var e=this.t;e.onerror=new Function,e.onload=new Function,e.ontimeout=new Function,e.onprogress=new Function,e.abort(),this.t=null}},load:function(){this.parse(),$r.ct.Base.prototype.drop.call(this)},drop:function(){this.st_error=1,$super(this,arguments)},progress:function(){this.st_open||this.open(),this.parse()},p:function(e){e.data&&(e.data=e.data.replace(/^\s+|\s+$/g,"")),$super(this,arguments)}})),$r.ct.Best=$r.ct.EventSource||$r.ct.XHRInteractive||$r.ct.XDR||$r.ct.LongPolling,$r.comet=new $class($u.Observable,{name:"comet",url:"",user_id:0,session_id:"",pause_url:"",seq:0,allow_silence:!1,silence_stat_url:!1,ignore_pause:{},_configured:!1,t:null,lp_delay:0,mode:"normal",slave:0,params:{},_n:0,run:0,conn_t:null,_ping_t:0,_evt_queue:null,_paused:!1,_first_seq:!1,constructor:function(){$super(this,arguments),this.conn_t=new $t(this.connect,this),$u.broadcast.on({unmaster:this.unmaster,"comet:pause":this._on_pause},this),B.on("app:init",this.start,this)},session_change:function(e,t){(this.user_id!=e||this.session_id!=t)&&e&&t&&(this.user_id=e,this.session_id=t,this.soft_reconnect())},channel:function(e,t,i){this.params[e]=t instanceof Function?[t,i]:t,this._n++},remove_channel:function(e){e in this.params&&(delete this.params[e],this._n--)},get_params:function(e){var t={};for(var i in this.params)t[i]=this.params[i];for(var i in t)t[i]instanceof Array&&(t[i]=t[i][0].call(t[i][1]));return t.comet={mode:this.mode,ua:"ff"!=$u.ua||document.queryCommandText||Number.isNaN?$u.ua:"ff14",type:e},t.seq=this.seq,t},onmessage:function(e,t){if(t=t[0],this.run){var i=t.cmd;if(e!=this.t)return $r.comet.log(e,"wrong_id,"+i),void 0;"master"==i?this.comet_master(e):"slave"==i?this.comet_slave(e):"unauth"==i?this.unauth():this.delivered(t.seq,t.nd),!this._paused||this.ignore_pause[t.data&&t.data[0]||t.cmd]?this._proceed_evt(t):this._queue_evt(t)}},_proceed_evt:function(e){"ev"!=e.cmd?this.fire.apply(this,e.data?[e.cmd].concat(e.data):[e.cmd]):this.fire.apply(this,e.data)},comet_master:function(e){this.disconnectTransport(),this.slave=0,"slave"==this.mode&&(this.mode="normal"),this.reconnect("master",e)},comet_slave:function(e){this.disconnectTransport(),"master"!=this.mode&&(this.mode="slave",this.slave=1),this.reconnect("slave",e)},unmaster:function(){this.run&&this.slave&&+this.conn_t&&this.conn_t.set(Math.round(1e3*Math.random()))},reconnect:function(e,t){if(this.run){"drop"!=e&&$r.comet.log(t,"rcn:"+e,"debug");var i=10;t.active||!t.st_error&&!t.st_timeout?(this.ert=0,i=8==t.type&&"master"!=e?2e4:"master"==e||("normal"==this.mode||"master"==this.mode)&&"drop"==e?10:"slave"==e?this.slave?3e3:1e3:3e3):(i=1e3*([5,10,30,60][this.ert++]||120),i=Math.round(i+i/3*Math.random())),B.fire("comet:reconnect"),this.conn_t.set(i)}},connect:function(){this.run&&this.connectTransport()},soft_reconnect:function(){this.run?(this.disconnectTransport(),this.conn_t.set(10)):this.start()},connectTransport:function(){var e;e=this.slave?$r.ct.Polling:$r.ct.Best,this.disconnectTransport(),this.t=new e(this.url+"init?"+this.qs_params(this.get_params(e.prototype.type)),{onmessage:this.onmessage,onclose:this.close},this),this._first_seq=!0,this.t.connect()},disconnectTransport:function(){this.t&&(this.t.disconnect(),this.t=null)},close:function(e,t){return this.run?t!=this.t?($r.comet.log(t,"wrong_id,"+e),void 0):(this.reconnect(e,t),void 0):void 0},configure:function(){this._configured||(this._configured=!0,$config(this,$vars.comet))},start:function(){this.configure(),this.t_delivered=new $r.debounce(this.url+"delivered",{auto:!1,debounce:50,show_fatal:!1}),this.url&&this._n&&(this.run=1,$e.add(window,"beforeunload",this.unload.bind(this)),"wk"==$u.ua||"cr"==$u.ua||"m"==$u.ua?$e.onload(this._start_delayed,this):this.conn_t.set(10),"master"==this.mode&&$u.broadcast.send("master",$r.ct.id_start))},_start_delayed:function(){this.conn_t.set(50)},stop:function(){this.conn_t.clear(),this.disconnectTransport(),this.run=0,clearTimeout(this._ping_t)},set_ignore_pause:function(e,t){this.ignore_pause[e]=t},pause:function(){this._on_pause(!0),$u.broadcast.send("comet:pause",!0)},unpause:function(){this._on_pause(!1),$u.broadcast.send("comet:pause",!1)},clean_queue:function(){this._evt_queue=null},_on_pause:function(e){this._paused=!!e,this._paused?this._evt_queue=this._evt_queue||[]:this._realize_queue()},_queue_evt:function(e){this._evt_queue=this._evt_queue||[],this._evt_queue.push(e),this.fire("queued",e)},_realize_queue:function(){if(this._evt_queue){for(var e;e=this._evt_queue.shift();)this._proceed_evt(e),this.fire("proceeded",e);this._evt_queue=null}},unload:function(){$u.broadcast.un("unmaster",this.unmaster,this);var e=!1;this.run&&!this.slave&&(e=!0),this.stop(),e&&$u.broadcast.send("unmaster")},unauth:function(){this.stop(),this.pause_url&&B.Ovl.open({type:"unauth",url:this.pause_url})},qs_params:function(e){var t=[];$config(e,{auth:{uid:this.user_id,sid:this.session_id}});for(var i in e){var s=e[i];t[t.length]=i+"="+("object"==typeof s?$r.toQueryString(s,",",":"):s)}return t.join("&")},send:function(e,t,i){this.run&&new $r((i||this.url)+"send?"+this.qs_params({service:e,t:this.t?this.t.id:0}),{show_fatal:!1,headers:{"Content-Type":"text/plain"},method:"post",params:t})},delivered:function(e,t){this._first_seq||this.test_sequence(e,this.seq)?(this.seq=e,this._first_seq=!1,t&&(this.t_delivered.url=this.url+"delivered?"+this.qs_params({seq:e,t:this.t?this.t.id:0}),this.t_delivered.request())):this.soft_reconnect()},log:function(e,t,i){if(!i||"/ctjs/1/"==this.url){var s=this.qs_params({msg:t,ua:$u.ua,type:e?e.type:0,mode:this.mode,t:e?e.id:0,tst:e?e.st_open+"-"+e.active+"-"+e.st_timeout+"-"+e.st_error:""});new $r(this.url+"log",{show_fatal:!1,params:s})}},update_url:function(e){e&&this.url!=e&&(this.url=e,this.soft_reconnect())},change_instance:function(e,t,i){i&&(this.allow_silence=i),t&&(this.seq=t),this.update_url(e)},test_sequence:function(e,t){function i(e,t){var i=[],s=$s.printStackTrace($s.newError());
for(s.shift(),o=0,n=s.length;n>o;o++)i.push(s[o]);i.unshift(t),$s.error_log({name:"CometSequenceError",message:"CSE "+e,stack:i},{origin:"$r.comet.test_sequence"})}var s=/^\d+$/;if("string"!=typeof t)return i("old_seq is "+typeof t,t),!1;if("string"!=typeof e)return i("new_seq is "+typeof e,e),!1;if(null===t.match(s))return i("old_seq is not a number ",t),!1;if(null===e.match(s))return i("new_seq is not a number",e),!1;if(t.length!==e.length)return i("sequences are not aligned",t+", "+e),!1;if(t===e)return i("sequences are equal",t),!1;var o,n,a,r=t.length;for(o=0;r>o&&(n=parseInt(e.charAt(o)),a=parseInt(t.charAt(o)),!(n>a));o++)if(a>n)return i("new sequence is lower than old",t+", "+e),!1;var l=0,_="",p="";for(o=r-1;o>=0;o--)n=parseInt(e.charAt(o)),a=parseInt(t.charAt(o)),l=n-a-(0>l?1:0),0!==l?(_=(0>l?l+10:l)+p+_,p=""):p+="0";return _=_.replace(/^0+/g,""),"1"!==_?(i("new sequence is larger than old by N",_+" ("+t+", "+e+")"),!1):!0}}),$r.comet.Ping=new $class(B.Page,{name:"CometPing",ping_url:"/ping.phtml",ping_time:18e5,init:function(){this._ping_t=new $t(this.ping,this).set(this.ping_time)},ping:function(){$r.comet.run&&new $r(this.ping_url,{show_fatal:!1,ready:this.ping_ready},this),this._ping_t.set()},ping_ready:function(e){$r.comet.fire("session_change",e.user_id,e.session_id)}}),B.CometFacade=new $class({intentions:{},constructor:function(){B.un("app:init",$r.comet.start,$r.comet),B.on("app:init",this.start,this)},hasUnresolvedIntentions:function(){var e=0;if(this.intentions)for(var t in this.intentions)this.intentions.hasOwnProperty(t)&&(e+=1);return e>0},start:function(){$r.comet.configure(),this.hasUnresolvedIntentions()||$r.comet.soft_reconnect()},registerIntention:function(e){this.intentions[e]=!0},resolveIntention:function(e){delete this.intentions[e],this.hasUnresolvedIntentions()||$r.comet.soft_reconnect()}}),$r.comet.ping=function(){},B.CometReconnect=new $class(B.Page,{name:"CometReconnect",init:function(){$r.comet.set_ignore_pause("comet:reconnect",!0),$r.comet.on({"comet:reconnect":this.reconnect},this)},reconnect:function(e){$r.comet.change_instance(e.url,e.seq,e.allow_silence)}}),B.Sound||(B.Sound=new $class(B.Page,{name:"sound",map:{new_msg:{urls:["/v2/-/-/flash/new-msg.16.mp3","/v2/-/-/flash/new-msg.16.ogg","/v2/-/-/flash/new-msg.16.wav","/v2/-/-/flash/new-msg.17.swf"]},notify:{urls:["/v2/-/-/flash/notify-ovl.6.mp3","/v2/-/-/flash/notify-ovl.6.ogg","/v2/-/-/flash/notify-ovl.6.wav","/v2/-/-/flash/notify-ovl.7.swf"]}},allow_swf:!0,busy:!1,init:function(){B.on({"sound:play":this.play,"sound:enable":this.enable,"sound:disable":this.disable},this),this.w=$("Baloon")||$("flash")},prepare:function(e,t){e.ready=1;var i=document.createElement("audio");i&&i.canPlayType&&(this.catPlayType(i,'audio/ogg; codecs="vorbis"')?this.url=$r.images_root+e.urls[1]:this.catPlayType(i,"audio/mpeg;")?this.url=$r.images_root+e.urls[0]:this.catPlayType(i,'audio/wav; codecs="1"')?this.url=$r.images_root+e.urls[2]:i=null,i&&(e.type="audio",i.preload="auto",i.autoplay="true",i.src=this.url,this.w.appendChild(i),i.load(),B.fire("sound:$played")),e.t=i),!e.t&&this.allow_swf&&$u.flash.init(9)&&(this.w.appendChild($u.tpl2el($u.flash.draw($r.images_root+e.urls[3],"1","1","#fff","",!1,t))),e.t=$(t),e.type="flash",B.fire("sound:$played"))},play:function(e){var t=this.map[e];if(!this.busy&&this.w){if(t.ready){if(t.t)try{"flash"==t.type&&t.t.play_sound(),"audio"==t.type&&t.t.play(),B.fire("sound:$played")}catch(i){}}else this.prepare(t,e);new $t(this.enable,this,1e3).set(),this.busy=!0}},enable:function(){this.busy=!1},disable:function(){this.busy=!0},catPlayType:function(e,t){return!(!e.canPlayType||!e.canPlayType(t).replace(/^no$/,""))}})),B.IM=new $u.Observable,B.IM.Start=$class(B.Page,{name:"im-link",uid:0,sid:"",msg_count:0,auto_open:"",load_css:1,mini_game_id:190,boost_id:199,instagram_id:312,message_type_filter:null,max_msg:0,fake_ids:[],mb:null,mbw:null,vb:null,link_blink:!0,slave:0,opening:!1,css_url:{ltr:"/v2/-/-/css/badoo/popup.messenger-ltr.116.css",rtl:"/v2/-/-/css/badoo/popup.messenger-rtl.116.css"},js_url:"/v2/en-us/-/js/im/page.im.263.js",loading_tpl:'<div id="im_wrap" class="im-close"><div id="im_wrapper" class="loading">                     <div class="ma_h"><a href="#" class="im-close ma_h_sw ma_h_sw-cls"></a></div>                     <span class="loader loader--lg"><span class="loader_"></span></span>                 </div></div>',_timing:0,constructor:function(){B.CometFacade&&B.CometFacade.registerIntention("B.IM.Start"),$super(this,arguments)},init:function(){this.mb=$("mb"),this.mb1=$("mb1"),this.vb=$("vb"),this.uid&&(this.mbw=$el.up(this.mb,".hmm"),this.wrap_el=$("im_wrapper"),B.IM.on({total_msgs:this.new_msgR,total_visitors:this.indicate_visitors},this),B.on({menu_updated:this.menu_updated},this),$e.on({".im-open":this.open,".im-close":this.close},this),this.blink_=this.blink.bind(this),this.msg_count&&this.blink_start(!0),$r.comet.channel("im",this.comet_params,this),$r.comet.on({"im:new_msg":this.new_msg,unauth:this.im_close,master:this.comet_master,slave:this.comet_slave,session_change:this.session_change},this),this.slave=$u.sessionStorage.getItem("comet-slave")||0,this.slave&&($r.comet.mode="slave",$r.comet.slave=1),$u.broadcast.on("nm",this.new_msgR,this),B.on("app:statechange",this.app_hit,this),B.CometFacade&&B.CometFacade.resolveIntention("B.IM.Start"),this.auto_open&&setTimeout(this.open.bind(this,{href:this.auto_open}),0))},comet_params:function(){return{mid:0}},session_change:function(e,t){(this.uid!=e||this.sid!=t)&&e&&t&&(this.uid=e,this.sid=t)},comet_master:function(){this.slave=0,$u.sessionStorage.removeItem("comet-slave")},comet_slave:function(){this.slave=1,$u.sessionStorage.setItem("comet-slave",1),this.opened&&this.close()},validate_msg:function(e,t){return!(this.message_type_filter&&!this.message_type_filter[t.type])},menu_updated:function(){this.mb=$("mb"),this.mb1=$("mb1"),this.unread_messages(this.msg_count,!0)},new_msg:function(e,t){if(this.validate_msg(e,t)){if(e==this.uid)return!1;t.c_increase&&(this.unread_messages(this.msg_count+1),B.IM.fire("sound")),this.slave&&this.comet_master(),$u.broadcast.send("nm",this.msg_count)}},new_msgR:function(e){e=+e||0,e!=this.msg_count&&this.unread_messages(e)},new_msgW:function(e){e=+e||0,e!=this.msg_count&&(this.unread_messages(e),$u.broadcast.send("nm",e))},decrease_total_count:function(e){this.msg_count=this.msg_count-e,this.msg_count<0&&(this.msg_count=0),this.unread_messages(this.msg_count)},indicate_visitors:function(e){this.vb.innerHTML=e,$el.tgl(this.vb,"invisible",!e)},find_uid:function(e){if(e.rel)return+e.rel;var t=e.href,i=t.split("/"),s=i[i.length-2];return+s},open:function(e){if(B.fire("ovl:preopen"),e&&!e.href&&(e=e.parentNode.getElementsByTagName("A")[0]),!e)return!0;B.Ovl.is_visible()&&B.Ovl.close(),B.Photo&&B.Photo.Ovl&&B.Photo.Ovl._opened&&B.Photo.Ovl.close();var t=e.href,i=this.find_uid(e);if(this.opened)return B.IM.fire("user_add",i),void 0;if(!this.opening){this.opening=!0,this.toggle_loading(!0),this.$s=new $s.Request("im/open",$s.TAG_WEBAPP),window.scroll(0,0),$el.add(document.documentElement,"chat-app");var s={js:[this.js_url],ready:this.ready,error:this.error,$s:this.$s};this.load_css&&(s.css=[this.css_url[$el.dir()]]),this._t=new $r.app(t,s,this)}},ready:function(e){return this._t=null,"ovl"in e?(this.close(),B.Ovl.open(e.ovl),void 0):(e.html&&this.insert_html(e.html),this.allow_opening(e)?(this.opening=!1,$config($vars,$clone(e.vars)),B.fire("app:vars-changed"),$r.comet.un("im:new_msg",this.new_msg,this),B.IM.Helper.init(this.$s),this.opened=!0,this.toggle_loading(!1),this.blink_stop(),B.fire("ga:track",e.gaData),this.$s.end(),void 0):!1)},allow_opening:function(e){return e.html&&e.vars&&e.vars.im?!0:(this.$s.end($s.STATUS_ERROR),this.close(),!1)},insert_html:function(e){$el.dom.html($("im_ovl"),e)},error:function(e){return $s.error_log($s.newError(e.name,e.message),{origin:"B.IM.Link",target_url:this._t._url}),this.close(),e},close:function(){(this.opened||this.opening)&&(this.opening=!1,this._t&&(this._t.abort(),this._t=null),$el.del(document.documentElement,"chat-app"),this.load_css&&$r.loader.del(this.css_url[$el.dir()]),this.$s.abort(),this.opened&&($el.dom.html($("im_ovl"),this.loading_tpl),B.IM.Helper.destroy(),$r.comet.on("im:new_msg",this.new_msg,this),this.opened=!1,B.fire("ovl:close")))},app_hit:function(e,t){var i=$vars[this.name]&&$vars[this.name].auto_open;(e!==t||i)&&(this.close(),i&&setTimeout(this.open.bind(this,{href:i}),0))},unread_messages:function(e,t){if(this.mb){var i=t&&e>0||e>this.msg_count;this.msg_count=e,this.max_msg&&e>this.max_msg&&(e=this.max_msg+"+");var s=this.mb.innerHTML.replace(/\d+\+?/,e);this.mb.innerHTML=s,this.mb1&&(this.mb1.innerHTML=s),i?this.blink_start():this.blink_stop(),$el.tgl(this.mb,"invisible",!e),$el.tgl(this.mb1,"invisible",!e),B.IM.fire("total_msgs",this.msg_count)}},blink_i:0,blink_timer:0,blink_start:function(e){B.IM.fire("blink_start",this.msg_count,e),this.link_blink&&this.mb&&(this.blink_i=0,$el.del(this.mb,"invisible"),this.opened||this.blink_timer||(this.blink_timer=setInterval(this.blink_,500)))},blink_stop:function(){this.link_blink&&this.blink_timer&&($el.del(this.mb,"invisible"),clearInterval(this.blink_timer),this.blink_timer=this.blink_i=0)},blink:function(){this.blink_i=(this.blink_i+1)%3,$el.tgl(this.mb,"invisible",!this.blink_i)},im_close:function(e){var t=e.split(" ");(t[0]!=this.uid||t[1]!=this.sid)&&$r.comet.log(null,"unauth&"+this.uid+"="+t[0]+"&"+this.sid+"="+t[1])},check_fake_id:function(e){for(var t=!1,i=0,s=this.fake_ids.length;s>i;i+=1)if(this.fake_ids[i]==e){t=!0;break}return e==this.boost_id||e==this.mini_game_id||e==this.instagram_id||t},add_fake_id:function(e){this.fake_ids.push(e)},toggle_loading:function(e){$el.tgl(this.wrap_el,"loading",e)}}),B.IM.newVersion=!0,B.IM.Link=new $class(B.IM.Start,{css_url:{ltr:"/v2/-/-/css/hotornot_v2/page.connections-ltr.249.css",rtl:"/v2/-/-/css/hotornot_v2/page.connections-rtl.249.css"},js_url:"/v2/en-us/-/js/hon_v3/page.messenger.503.js",format_unread_value:$u.format.counter,max_msg:99,loading_tpl:'<div class="messenger-ovl js-messenger-ovl">						<div class="messenger-ovl-fade"></div>						<div class="messenger-ovl_ im-close js-im-fade">							<div class="messenger">								<div class="messenger_ js-messenger-wrap"></div>								<div class="loader loader--lg loader--grey"><div class="loader_"></div></div>								<div class="messenger-close">									<i class="icon ico--cross-sm"><span class="b-link im-close"></span></i>								</div>							</div>						</div>					</div>',__dontCloseOnAppReload:!1,$eController:null,init:function(){this.page=$("page"),this.supported=$e.supported("transitionend"),$super(this,arguments),this.$eC=$e.on({".im-open-user":this.open_user},this),B.on("chat:start",this._onChatStart,this)},_onChatLoading:function(){$el.add(this.messenger_ovl_el,"loading");var e=$el.down(this.messenger_ovl_el,".messenger_");e.innerHTML=""},_onChatLoaded:function(){$el.del(this.messenger_ovl_el,"loading");var e=$el.down(this.messenger_ovl_el,".messenger_");this.$s&&this.$s.timer_start("draw_user_chat",{group:"render_html"}),$el.dom.html(e,this.messengerController.getView()),this.$s&&this.$s.timer_stop("draw_user_chat"),this.messengerController.renderComplete(e),this.$s&&(this.$s.timer_add({group:"usable"},+new Date-this.$s.time_start,"usable"),new $t(function(){$s.time_ajax_images(this.$s),this.$s.end(),this.$s=null,window.performance&&window.performance.mark&&window.performance.mark("usable")},this).set(0))},_onChatStart:function(e){this.contactUserId=e,this.open()},open:function(e){if(e){var t=$r.fromQueryString(e.href);this.contactUserId=t.contact_user_id,this.stickersPackId=t.stickers_pack_id,this.openGifts=1===t.open_gifts}return this.opened||this.opening?(this.contactUserId&&this.messengerController&&this.messengerController.isReady()?B.HoN_v3.IM.$e.fire("user:select",this.contactUserId):this.close(),!1):($el.dom.prepend(this.page,$u.tpl2el(this.loading_tpl)),this.messenger_ovl_el=$el.down(this.page,".js-messenger-ovl"),$el.add(this.messenger_ovl_el,"loading"),this.initNewVersion(),void 0)},initNewVersion:function(){if(B.fire("ovl:preopen"),B.Ovl.is_visible()&&B.Ovl.close(),!this.opening){this.opening=!0,this.toggle_loading(!0),$el.add(document.documentElement,"chat-app"),this.$s=new $s.Request("im-new/open",$s.TAG_WEBAPP);var e={js:[this.js_url],ready:this.ready,error:this.error,$s:this.$s};this.load_css&&(e.css=[this.css_url[$el.dir()]]),this._t=new $r.app(null,e,this)}},open_user:function(e){this.open(e,!0)},hide_msgr:function(e){return e!==this.messenger_ovl_el?!1:(this.supported&&($e.del(this.messenger_ovl_el,"transitionend",this.hide_msgr,this),$el.del(this.messenger_ovl_el,"invisible")),this._t&&(this._t.abort(),this._t=null),$el.del(document.documentElement,"chat-app"),this.load_css&&$r.loader.del(this.css_url[$el.dir()]),this.$s&&this.$s.abort(),this.opened&&(B.IM.Helper.destroy(),this.messenger&&(this.messenger.destroy(),this.messenger=null),$r.comet.on("im:new_msg",this.new_msg,this),this.opened=!1),$el.remove(this.messenger_ovl_el),this.messenger_ovl_el=null,this.messenger_wrap_el=null,void 0)},close:function(){return this.opened||this.opening?(this.opening=!1,this.supported?($el.add(this.messenger_ovl_el,"invisible"),this.hide_msgr(this.messenger_ovl_el),B.HoN_v3.fire("im:closed"),this.messengerController&&(this.messengerController.un(this.$eController),this.$eController=null,this.messengerController.destroy(),this.messengerController=null),B.IM.opened=!1,void 0):(this.hide_msgr.call(this,this.messenger_ovl_el),!1)):!1},insert_html:function(e){$el.del(this.messenger_ovl_el,"loading"),this.messenger_wrap_el=$el.down(this.page,".js-messenger-wrap"),$el.dom.html(this.messenger_wrap_el,e)},ready:function(){this.messengerController=new B.HoN_v3.IM.Controller,this.stickersPackId?this.messengerController.setOpenStickerPack(this.stickersPackId):this.openGifts&&this.messengerController.setOpenGifts(!0),this.contactUserId&&this.messengerController.setChatUserId(this.contactUserId),this.$eController=this.messengerController.on({"view-ready":this._onChatLoaded,loading:this._onChatLoading},this),this._t=null,this.opening=!1,$r.comet.un("im:new_msg",this.new_msg,this),this.toggle_loading(!1),this.blink_stop(),this.opened=!0,B.IM.Helper.init(),B.HoN_v3.fire("im:opened"),this.messengerController.request(this.$s),B.IM.opened=!0,this.openGifts=null,this.stickersPackId=null,this.contactUserId=null},allow_opening:function(e){return B.IM.newVersion?!0:e.html&&e.vars&&e.vars.im?!0:(this.$s.end($s.STATUS_ERROR),!1)},validate_msg:function(e,t){return this.accept_only_from_matches&&!t.from_match?!1:$super(this,arguments)},app_hit:function(){if(this.__dontCloseOnAppReload)return this.__dontCloseOnAppReload=!1,void 0;this.close();var e=$vars[this.name]&&$vars[this.name].auto_open;e&&setTimeout(this.open.bind(this,{href:e}),0)},_is_enabled:function(){return B.Features.getFeature("ALLOW_OPEN_CHAT").getEnabled()},getChatUserId:function(){return this.messengerController?this.messengerController.getActiveUserId():null}}),B.HoN_v3.UserList=$class({name:"UserList",url:null,speed:2,scroll_padding:3,allow_add:null,max_count_items:15,wrap_el:null,xhr:null,expanded:!1,timer:null,mode:null,max_count_els:0,MIN_COUNT_ELS:{real:5,fake:3},ROUND_STEP:{real:3,fake:1},INTERVAL:{step:15,time:5,duration:200},USERPIC_HEIGHT:{real:71,fake:50},list_inited:null,constructor:function(){this.$e_init=B.HoN_v3.on("sidebar:init-"+this.type,this.try_init,this)},try_init:function(e){B.HoN_v3.un(this.$e_init),this.$e_init=null,$config(this,e),this.init()},resize_window:function(){this.set_mode(),$el.tgl(this.sidebar,"horizontal-scrolling",document.documentElement.scrollWidth>document.documentElement.offsetWidth)},set_mode:function(e){this.mode=void 0!==e?e?"real":"fake":this.scrollable&&this.scrollable.scroll_el.scrollWidth>100?"real":"fake",this.toggle_els()},stop_request:function(){this.xhr&&this.xhr.abort(),this.timer&&this.timer.clear()},start_request:function(){this.$b&&B.un(this.$b),this.xhr&&(this.list_inited=!1,this.xhr.request())},fast_reload:function(){this.stop_request(),this.start_request()},slow_reload:function(){this.stop_request(),this.$b=B.on("app:statechange",this.start_request,this)},set_els:function(){this.sidebar=$("sidebar"),this.scroll_wrap_el=$el.down(this.sidebar,".js-sidebar-wrapper"),this.nav_el=$el.down(this.scroll_wrap_el,".js-nav"),this.logo_el=$el.down(this.scroll_wrap_el,".js-sidebar-logo"),this.scrollable=$c.get(this.scroll_wrap_el,"scrollable")},ready:function(e){if(this.set_wrap_el(),!this.wrap_el)return!1;if($el.dom.html(this.wrap_el,e.html),this.toggle_loading(!1),this.spotlight_title=$el.down(this.scroll_wrap_el,".js-spotlight-title"),this.scrollable&&!this.scrollable.scroll_el&&this.set_els(),this.set_list_els(),this.expanded&&!$el.has(this.wrap_el,"show-all")&&$el.add(this.wrap_el,"show-all"),this.expanded){var t=this.getScrollableHeight()-this.nav_el.offsetHeight-this.list_el.offsetHeight;0>t&&this.expanded&&(t=1),this.setDuration(t)}this.show_images(),e.refresh&&this.timer.set(1e3*e.refresh),this.list_inited=!0,this.toggle_els(),this.list_loaded!==!0&&(this.list_loaded=!0,$el.dom.on("changed",this.toggle_els,this))},show_images:function(){var e=this.get_uses_photo(),t=e.length,i=0;for(this.expanded||(t=Math.min(t,Math.ceil($el.up(this.wrap_el,".scroll").offsetHeight/this.USERPIC_HEIGHT.real)*this.ROUND_STEP.real-1));t>i;i++)this.update_src(e[i])},setDuration:function(e){this.real_list.style.transitionDuration=Math.abs(e/(this.nav_el.offsetHeight/this.INTERVAL.duration))+"ms"},just_close_list:function(){this.expanded&&(this.expanded=!1,this.toggle_els(),$el.del(this.wrap_el,"show-all"))},toggle:function(){this.expanded=!this.expanded;var e=function(t){return t!==this.real_list?!1:($e.del(this.real_list,"transitionend",e,this),this.real_list.style.height="",this.scrollable&&(this.scrollable.redraw_now(),this.scrollable.scrollbar.scroll_to_position(this.nav_el.offsetHeight-25,{duration:this.INTERVAL.duration})),this.real_list.style.pointerEvents="",void 0)},t=function(e){return e!==this.first_item?!1:($e.del(this.first_item,"transitionend",t,this),this.scrollable&&this.scrollable.redraw_now(),void 0)},i=function(e){return e!==this.real_list?!1:(this.real_list.style.height="",this.scrollable&&this.scrollable.redraw_now(),this.real_list.style.pointerEvents="",$e.del(this.real_list,"transitionend",i,this),void 0)},s=function(){if(!this.supported)return this.toggle_els(),i.call(this,this.real_list);var e=this.getScrollableHeight()-this.nav_el.offsetHeight;0>e&&(e=0),this.real_list.style.height=e+"px",$e.add(this.real_list,"transitionend",i,this),this.real_list.style.height=e+"px",this.toggle_els(),o.call(this),this.real_list.style.height=this.cnt_el.offsetHeight+"px"},o=function(){var e=this.getScrollableHeight()-this.nav_el.offsetHeight-this.cnt_el.offsetHeight;return 0>e&&this.expanded&&(e=1),this.setDuration(e),e};if(this.real_list.style.pointerEvents="none",this.first_item=$el.down(this.real_list,".js-spotlight-item"),$e.add(this.first_item,"transitionend",t,this),this.expanded){if($el.add(this.wrap_el,"show-all"),"wk"===$u.ua||!this.supported)return this.toggle_els(),this.show_images(),e.call(this,this.real_list),!1;var n=o.call(this);$e.add(this.real_list,"transitionend",e,this);var a=this.cnt_el.offsetHeight;this.real_list.style.height=a+"px",this.toggle_els(),this.real_list.style.height=a+n+"px"}else $el.del(this.wrap_el,"show-all"),this.scrollable?this.scrollable.scrollbar.scroll_to_element(this.nav_el,{duration:this.INTERVAL.duration,callback:s.bind(this)}):s();this.show_images()},close:function(){this.expanded&&this.toggle()},toggle_els:function(){if(!this.list_el||!this.scrollable||!this.scrollable.scroll_el)return!1;this.is_many_users=!1;var e=!1;return this.mode||this.set_mode(),this.list_inited?(this.expanded||(this.area_h=this.getScrollableHeight(),this.el_nav_h=this.nav_el.scrollHeight,this.el_logo_h=this.logo_el.scrollHeight,this.spotlight_title_h=this.spotlight_title?this.spotlight_title.offsetHeight:0,this.max_count_els=Math.floor((this.area_h-this.el_nav_h-this.spotlight_title_h-this.el_logo_h)/this.USERPIC_HEIGHT[this.mode])*this.ROUND_STEP[this.mode],this.allow_add&&this.max_count_els--,this.max_count_els=Math.max(this.max_count_els,this.MIN_COUNT_ELS[this.mode]),this.is_many_users=this.els.real.length>this.max_count_els,this.is_many_users&&this.max_count_els--),this.expanded&&"real"===this.mode&&(e=!0),this.scrollable&&this.scrollable.redraw_now(),void 0):!1},getScrollableHeight:function(){return this.scrollable?this.scrollable.scroll_el.scrollHeight:0},toggle_loading:function(e){$el.tgl(this.wrap_el,"loading",e)}}),function(){function e(e,i){return e.write('<div class="js-spotlight"> <div class="js-spotlight-title"> <div class="spotlight__title"> <b>Add me here</b> &mdash; Get seen by millions!\n</div> </div> ').section(i.get(["REAL_SPOTLIGHT"],!1),i,{block:t},{}).write(" ").section(i.get(["COST"],!1),i,{block:l},{}).write(" </div>")}function t(e,t){return e.write(' <div class="js-spotlight-real"> <div class="spotlight__items js-spotlight-real-cnt"> ').section(t.get(["ADD_BUTTON"],!1),t,{block:i},{}).write("<!-- -->").section(t.get(["USER"],!1),t,{block:n},{}).write("<!-- -->").section(t.get(["ITEMS"],!1),t,{block:r},{}).write(" </div> </div> ")}function i(e,t){return e.write('<div class="spotlight__item"> <div class="brick brick--lg brick--blue brick--hover"> <div class="brick-img"><img class="js-current-user-photo" src="').reference("user_photo",t).write('" alt=""></div> <i class="ico ico--white ico--plus-lg"></i> ').section(t.get(["OVERLAY_BUTTON"],!1),t,{block:s},{}).write(" ").section(t.get(["SPOTLIGHT_PLUS_BUTTON"],!1),t,{block:o},{}).write(" </div> </div>")}function s(e,t){return e.write('<span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span>')}function o(e,t){return e.write('<span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span>')}function n(e,t){return e.section(t.get(["_PHOTO"],!1),t,{block:a},{})}function a(e,t){return e.write('<div class="spotlight__item js-spotlight-item"> <div class="brick brick--lg brick--hover tooltip-wrap js-spotlight-user" data-control-type="tooltip" data-user-id="').reference("user_id",t).write('" data-id="').reference("id",t).write('"> <div class="brick-img"><img class="js-spotlight-user-photo" data-src="').reference("user_photo",t).write('" alt=""></div> ').reference("HTMLBLOCK_ONLINE_STATUS",t,["s"]).write(' <div class="tooltip"><span class="tooltip-txt">').reference("name",t).write('</span></div> <a href="').reference("profile_url",t).write('" rel="').reference("profile_state",t).write('" class="b-link app"></a> </div> </div>')}function r(e,t){return e.reference("HTMLBLOCK_USER",t,["s"])}function l(e,t){return e.write(' <p class="spotlight__cost">Cost of service: ').reference("credits_cost",t).write(" ").reference("credits_word",t).write("</p> ")}return $u.dust.register("spotlight/block.spotlight",e),e.s={REAL_SPOTLIGHT:t,COST:l},t.s={ADD_BUTTON:i,USER:n,ITEMS:r},i.s={OVERLAY_BUTTON:s,SPOTLIGHT_PLUS_BUTTON:o},n.s={_PHOTO:a},e}(),B.HoN_v3.SpotlightView=$class(B.DustView,{template:"spotlight/block.spotlight",OVL_URL_BADOO:"/billing/spotlight-wizard-ws.phtml?&activation_place=120",OVL_TYPE_BADOO:"spotlight",OVL_URL_HON:"/ws/spotlight-add",OVL_TYPE_HON:"hon-v3-spotlight-promo-select",constructor:function(){var e=B.HoN_v3.Partner.isBadooLabel()||B.HoN_v3.Partner.isWhiteLabelFor("badoo","badoo-fb")?"BADOO":"HON";$super(this,arguments),this.set("REAL_SPOTLIGHT/ADD_BUTTON/SPOTLIGHT_PLUS_BUTTON",{ovl_url:this["OVL_URL_"+e],ovl_type:this["OVL_TYPE_"+e]})},setUserPhoto:function(e){return this.set("REAL_SPOTLIGHT/ADD_BUTTON/user_photo",e)},setUsers:function(e){return this.set("REAL_SPOTLIGHT/ITEMS",e.map(function(e){return{HTMLBLOCK_USER:e}}))}}),function(){function e(e,t){return e.write('<div class="spotlight__item js-spotlight-item"> <div class="brick brick--lg brick--hover tooltip-wrap js-spotlight-user" data-control-type="tooltip" data-user-id="').reference("user_id",t).write('" data-id="').reference("id",t).write('"> <div class="brick-img"><img class="js-spotlight-user-photo" data-src="').reference("user_photo",t).write('" alt=""></div> <i class="online-status ').reference("online_status",t).write(' tooltip-wrap"></i> <div class="tooltip"><span class="tooltip-txt">').reference("name",t).write('</span></div> <a href="').reference("profile_url",t).write('" rel="').reference("profile_state",t).write('" class="b-link app"></a> </div> </div>')}return $u.dust.register("spotlight/block.spotlight-item",e),e}(),B.HoN_v3.SpotlightItemView=$class(B.DustView,{template:"spotlight/block.spotlight-item",PROFILE_URL:"/0{userId}?from_spotlight=1",PROFILE_STATE:"big-photo-view",setOnlineStatus:function(e){var t={0:"hidden",1:"online-status--away",2:"online-status--online",4:"hidden"};return this.set("online_status",t[e])},setUserPhoto:function(e){return this.set("user_photo",e)},setName:function(e){return this.set("name",e)},setUserId:function(e){return this.set({user_id:e,profile_url:$u.tpl(this.PROFILE_URL,{userId:e}),profile_state:this.PROFILE_STATE})},setId:function(e){return this.set("id",e)}}),B.HoN_v3.SpotlightAnimation=$class($u.Observable,{name:"SpotlightAnimation",lists:null,constructor:function(e,t){$super(this,arguments),this.lists=[],this.ctx=t,this.callback=e.callback,this.on("spl:animation:done",this.done,this);for(var i=0;i<e.wrap_els.length;i+=1)this.lists.push(new B.HoN_v3.SpotlightAnimationView(this,e,e.wrap_els[i],t))},done:function(){for(var e=0;e<this.lists.length;e+=1){if(this.lists[e].active)return!1;this.lists[e].destroy()}if(this.callback){var t=new $t(this.callback,this.ctx);t.set()}},destroy:function(){this.lists=[],this.un("spl:animation:done",this.done,this)}}),B.HoN_v3.SpotlightAnimationView=$class({name:"SpotlightAnimationView",spotlight_item:'<div class="spotlight__item js-spotlight-item"></div>',status_cl:{0:"hidden",1:"online-status--away",2:"online-status--online"},constructor:function(e,t,i,s){this.controller=e,this.wrap_el=i,this.type=t.data.ev,this.new_items=[],this.prev=[],this.old_els=[],this.active=!0,this.trail_length=1,this.index=0,this.transition_duration=0,this.d_el=0,this.timer=null,this.items=null,this.cfg=t.cfg,this.ctx=s,this.prepare(t.data)},destroy:function(){this.animation_end(),this.animation_timer&&(this.animation_timer.clear(),this.animation_timer=null),this.old_el=null,this.old_els=null,this.items=null,this.timer&&(this.timer.clear(),this.timer=null),this.cfg=null,this.prev=null,this.new_items=null,this.index=null,this.d_el=null,this.ctx=null},cloneItem:function(e){var t=e.cloneNode(!0);return t.setAttribute("data-control-type","tooltip"),t},prepare:function(e){function t(){$el.remove(i),this.done()}var i=null;switch(this.type){case"delete":this.d_el=e.id,this.update();break;case"add":this.add(this.create_item(e.item));break;case"change":if(i=this.find_user(e.item.id)){$el.dom.prepend($el.up(i,".js-spotlight-item"),this.create_item(e.item)),$el.add(i,"change");var s=this.get_time_animation(i,"animation-duration");s?(this.animation_timer=new $t(t,this,s),this.animation_timer.set()):t.call(this)}else this.done();break;case"update":this.new_items=[];for(var o=0,n=e.items.length;n>o;o+=1)this.new_items.push(this.create_item(e.items[o]));this.update();break;case"scroll":i=this.find_user(e.bid),i?this.add(this.cloneItem(i)):this.done();break;default:this.done()}},find_user:function(e){this.items=this.get_photos();for(var t=0,i=this.items.length;i>t;t+=1){var s=$el.down(this.items[t],".js-spotlight-user");if(s&&s.getAttribute("data-id")==e)return s}},done:function(){this.active=!1,this.controller.fire("spl:animation:done",this)},create_item:function(e){var t=(new B.HoN_v3.SpotlightItemView).setUserPhoto(e.url.replace("#domain#",this.cfg.photo_domain)).setUserId(e.uid).setId(e.id).setName(e.nm).setOnlineStatus(e.status),i=$u.tpl2el(t.toString()),s=$el.down(i,"img");return s.src=s.getAttribute("data-src"),s.removeAttribute("data-src"),$el.del(s,"js-spotlight-user-photo"),$el.down(i,".js-spotlight-user")},start:function(){return this.items=this.get_photos(),0===this.items.length?!1:(this.index=0,this.timer=null,this.transition_duration=this.get_time_animation($el.down(this.items[0],".js-spotlight-user")),void 0)},update:function(){this.start(),this.step()},animation_end:function(){$el.remove(this.old_el),this.items&&this.items[0]&&$el.del(this.items[0],"add")},add:function(e){var t=this.start();"add"===this.type&&this.insert(),t||this.start(),this.old_el=$el.down(this.items[0],".js-spotlight-user"),this.old_el&&this.prev.push(this.cloneItem(this.old_el)),$el.dom.prepend(this.items[0],e),this.index=1,this.old_el&&$el.add(this.items[0],"add");var i=this.get_time_animation(e,"animation-duration");if(i?(this.animation_timer=new $t(this.animation_end,this,i),this.animation_timer.set()):this.animation_end(),this.old_el){var s=new $t(this.step,this,100);s.set()}},insert:function(){var e=this.items.length;if(this.ctx.allow_add&&e++,e>=this.ctx.max_count_items)return!1;var t=$el.down(this.wrap_el,".js-spotlight-real-cnt");t=t||this.wrap_el;var i=$el.down(t,".js-spotlight-more"),s=$u.tpl2el(this.spotlight_item);$el.tgl(s,"hidden",this.ctx.is_many_users),i?t.insertBefore(s,i):$el.dom.append(t,s)},removeOldEls:function(){for(var e=0;e<this.old_els.length;e+=1)$el.remove(this.old_els[e]);this.old_els=[]},step:function(){var e,t=[],i=[],s=0;for(this.removeOldEls(),s=0;s<this.trail_length;s+=1){var o=this.items[this.index+s];if(!o)break;var n=$el.down(o,".js-spotlight-user");if(t.push(o),!n)break;this.prev.length<this.trail_length?this.prev.push(this.cloneItem(n)):i.push(this.cloneItem(n)),this.old_els.push(n)}for(s=0;s<t.length&&(e=this.new_items[this.index+s]||this.prev[s],e);s+=1){if(this.d_el&&this.old_els[s].getAttribute("data-id")==this.d_el)return $el.remove($el.up(this.old_els[s],".js-spotlight-item")),this.done(),!0;$el.dom.prepend(t[s],e),$el.add(this.old_els[s],"change")}this.transition_duration=this.transition_duration-this.index,$el.has(this.items[this.index],"hidden")&&(this.transition_duration=0),this.trail_length++,this.index+=this.trail_length-1,this.prev=i,this.timer||(this.timer=new $t(this.step,this)),this.index<this.items.length?this.timer.set(this.transition_duration):(this.d_el=0,this.removeOldEls(),this.done())},get_photos:function(){return $el.select(this.wrap_el,".js-spotlight-item")},get_time_animation:function(e,t){return t=t||"transition-duration",e&&window.getComputedStyle?1e3*window.getComputedStyle(e).getPropertyValue($el.get_prefixed_name(t)).split("s")[0]:0}}),function(){function e(e,n){return e.write('<div class="ovl-body"> <form action="#" method="post" class="ovl-autoloader" data-ovl-type="payment" data-ovl-url="').reference("wizard_submit_url",n).write('"> <div class="ovl-promo"> <div class="brick brick--xlg js-photo-wrap"> <div class="brick-img"><img src="" alt=""></div> </div> <div class="brick brick--xxxlg js-photo-wrap"> <div class="brick-img"><img src="" alt=""></div> </div> <div class="brick brick--xlg js-photo-wrap"> <div class="brick-img"><img src="" alt=""></div> </div> <span class="middle"></span> ').section(n.get(["_CONTROL_BUTTONS"],!1),n,{block:t},{}).write(' <div>This photo will be featured</div> </div> <div class="ovl-content"> <h1> ').section(n.get(["SPOTLIGHT_TITLE"],!1),n,{block:i},{}).write(" ").section(n.get(["SPOTLIGHT_AGAIN_TITLE"],!1),n,{block:s},{}).write(" ").reference("title",n).write(' </h1> <p class="x-large"> ').section(n.get(["SPOTLIGHT_ORIGINAL"],!1),n,{block:o},{}).write(" ").section(n.get(["SPOTLIGHT_AGAIN"],!1),n,{block:l},{}).write(" ").section(n.get(["SHARE_SPOTLIGHT_TEXT"],!1),n,{block:u},{}).write(" ").reference("message",n).write(' </p> </div> <div class="ovl-buttons"> <input type="hidden" name="photo_id" class="js-photo-id" value="').reference("default_photo_id",n).write('"> ').section(n.get(["BUTTON_ACTION"],!1),n,{block:d},{}).write(' </div> <div class="ovl-hint"> ').section(n.get(["WIZARD_DETAILS"],!1),n,{block:O},{}).write(' </div> <div class="ovl-close"><i class="icon ico--white ico--cross js-ovl-close"></i></div> </form> </div>')
}function t(e){return e.write(' <div class="btn btn--sm btn--transparent btn--ico ovl-photos__arrow-l"> <i class="icon ico--white ico--arrow-l"></i> <span class="b-link js-photo-viewer-prev"></span> </div> <div class="btn btn--sm btn--transparent btn--ico ovl-photos__arrow-r"> <i class="icon ico--white ico--arrow-r"></i> <span class="b-link js-photo-viewer-next"></span> </div> ')}function i(e){return e.write("Get featured now!")}function s(e){return e.write("Get featured again!")}function o(e,t){return e.write(" ").section(t.get(["MALE"],!1),t,{block:n},{}).write(" ").section(t.get(["FEMALE"],!1),t,{block:a},{}).write(" ").section(t.get(["ANY"],!1),t,{block:r},{}).write(" ")}function n(e,t){return e.reference("name",t).write(", promote your best photo, so lots of new guys in ").reference("city",t).write(" will see it!")}function a(e,t){return e.reference("name",t).write(", promote your best photo, so lots of new girls in ").reference("city",t).write(" will see it!")}function r(e,t){return e.reference("name",t).write(", promote your best photo, so lots of new people in ").reference("city",t).write(" will see it!")}function l(e,t){return e.write(" ").section(t.get(["MALE"],!1),t,{block:_},{}).write(" ").section(t.get(["FEMALE"],!1),t,{block:p},{}).write(" ").section(t.get(["ANY"],!1),t,{block:c},{}).write(" ")}function _(e,t){return e.reference("name",t).write(", you’ve stopped being featured. Get featured again straight away so lots of new guys in ").reference("city",t).write(" will see you!")}function p(e,t){return e.reference("name",t).write(", you’ve stopped being featured. Get featured again straight away so lots of new girls in ").reference("city",t).write(" will see you!")}function c(e,t){return e.reference("name",t).write(", you’ve stopped being featured. Get featured again straight away so lots of new people in ").reference("city",t).write(" will see you!")}function u(e){return e.write("Choose the photo you want to be featured!")}function d(e,t){return e.write(' <button type="submit" class="btn btn--blue"> <span class="btn-txt"> ').section(t.get(["CONTINUE_BTN"],!1),t,{block:b},{}).write(" ").section(t.get(["PROCESS_BTN"],!1),t,{block:h},{}).write(" ").section(t.get(["SPOTLIGHT_AGAIN_BTN"],!1),t,{block:E},{}).write(" ").section(t.get(["SHARE_SPOTLIGHT_PAID_BUTTON"],!1),t,{block:g},{}).write(" ").reference("text",t).write(" </span> </button> ").section(t.get(["SHARE_SPOTLIGHT_SHARE_BUTTON"],!1),t,{block:v},{}).write(" ")}function b(e){return e.write("Continue")}function h(e,t){return e.section(t.get(["SPOTLIGHT"],!1),t,{block:m},{})}function m(e){return e.write("Let’s go!")}function E(e){return e.write("Let’s go!")}function g(e,t){return e.write(" ").section(t.get(["BUY"],!1),t,{block:f},{}).write(" ").section(t.get(["CREDITS"],!1),t,{block:T},{}).write(" ").section(t.get(["GET_FEATURED"],!1),t,{block:y},{}).write(" ")}function f(e){return e.write("Buy")}function T(e,t){return e.write("Buy for ").reference("credits_num",t).write(" ").reference("credits",t)}function y(e){return e.write("Get featured")}function v(e,t){return e.write(' <div class="btn btn--white"> <span class="btn-txt">Try it for free</span> <span class="b-link js-ovl-open" data-ovl-url="').reference("next_step_url",t).write('" data-ovl-type="hon-v3-spotlight-promo-select"></span> </div> ')}function O(e,t){return e.write(" ").reference("HTMLBLOCK_WIZARD_DETAILS",t,["s"]).write(" ")}return $u.dust.register("spotlight/popup.spotlight",e),e.s={_CONTROL_BUTTONS:t,SPOTLIGHT_TITLE:i,SPOTLIGHT_AGAIN_TITLE:s,SPOTLIGHT_ORIGINAL:o,SPOTLIGHT_AGAIN:l,SHARE_SPOTLIGHT_TEXT:u,BUTTON_ACTION:d,WIZARD_DETAILS:O},o.s={MALE:n,FEMALE:a,ANY:r},l.s={MALE:_,FEMALE:p,ANY:c},d.s={CONTINUE_BTN:b,PROCESS_BTN:h,SPOTLIGHT_AGAIN_BTN:E,SHARE_SPOTLIGHT_PAID_BUTTON:g,SHARE_SPOTLIGHT_SHARE_BUTTON:v},h.s={SPOTLIGHT:m},g.s={BUY:f,CREDITS:T,GET_FEATURED:y},e}(),B.HoN_v3.SpotlightPopupView=$class(B.DustView,{template:"spotlight/popup.spotlight",setWizardParams:function(e,t){return this.set("wizard_submit_url","/billing/spotlight-wizard-ws.phtml?"+$r.toQueryString({rt:t,payment_type:2,activation_place:e,service:"Spotlight"}))},setPurchaseInfo:function(e){var t=e.getApplicationFeature(),i=e.getAlbum();return this.set({title:t.getDisplayComment(),message:t.getDisplayMessage(),BUTTON_ACTION:{text:t.getDisplayAction()},_CONTROL_BUTTONS:i.getCountOfPhotos()>1,WIZARD_DETAILS:e.hasCost()&&{WIZARD_DETAILS_INNER:{SERVICE_COST:{TEXTBLOCK_cost:e.getCost()}}}})}}),B.HoN_v3.SpotlightAgainController=new $class({constructor:function(){B.Push.on(B.Push.Type.NOTIFICATION,this.onNotification,this),B.on("app:init",this.onAppInit,this)},show:function(e){return $u.broadcast.is_native&&$u.visibility.hidden?!1:B.IM.Link.opened||B.IM.Link.opening?!1:B.Ovl.is_visible()?!1:B.HoN_v3.Spotlight&&!B.HoN_v3.Spotlight.is_ready()?!1:(B.Ovl.open({type:"spotlight-again",purchaseInfo:e}),!0)},sendConfirmation:function(e){new $gpb.Rpc($p.MessageType.SERVER_NOTIFICATION_CONFIRMATION,(new $p.String).setValue(e)).request()},onAppInit:function(){$u.broadcast.on("spl:again",this.onBroadcast,this)},onBroadcast:function(e){var t=$gpb("badoo.bma.FeaturePrePurchaseInfo",e.info);this.show(t)&&this.sendConfirmation(e.id)},onNotification:function(e){if(e.getType()==$p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_SPOTLIGHT_REMINDER){var t=e.getId(),i=e.getPurchaseInfo();this.show(i)?this.sendConfirmation(t):$u.broadcast.is_native&&$u.broadcast.send("spl:again",{id:t,info:i.toJSON()})}}}),$gpb.exists("badoo.bma.ServerGetFolderPeople","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetFolderPeople=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetFolderPeople",t.prototype._descriptor={fields:{count:{type:5,number:9,label:1},prefetch_only:{type:8,number:6,label:1},push_disabled:{type:8,number:5,label:1},online_status:{type:14,type_name:"badoo.bma.OnlineStatus",number:4,label:1},custom_folder_id:{type:9,number:7,label:1},search_string:{type:9,number:2,label:1},version:{type:9,number:8,label:1},folder_id:{type:14,type_name:"badoo.bma.FolderTypes",number:1,label:2},offset:{type:5,number:3,label:1}}}}(),$gpb.exists("badoo.bma.CometConfiguration","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CometConfiguration=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CometConfiguration",t.prototype._descriptor={fields:{path:{type:9,number:1,label:1},sequence:{type:9,number:2,label:1}}}}(),B.HoN_v3.Spotlight=new $class(B.HoN_v3.UserList,{name:"Spotlight",type:"spotlight",$t:null,speed:2,scroll_padding:3,stack:null,SPOTLIGHT_STATE_URL:"/ws/spotlight",cometSettings:null,photoDomain:null,constructor:function(){B.CometFacade.registerIntention("B.HoN_v3.Spotlight"),$super(this,arguments)},init:function(){B.Features.getFeature("ALLOW_LOAD_SPOTLIGHT").getEnabled()&&(this.set_wrap_el(),this.stack=[],this.supported=$e.supported("transitionend"),this.toggle_loading(!0),this.set_els(),this.timer=new $t(this.fast_reload,this),this.$e=$e.on({".js-spotlight-toggle":this.toggle},this),B.HoN_v3.on({"settings:gender_changed":this.fast_reload,"profile:location_changed":this.fast_reload,"filter:changed":this.slow_reload,"sidebar:logo_clicked":this.close,"sidebar:change_mode":this.set_mode},this),B.HoN_v3.on("spl:diff",this.update_spl,this),$u.broadcast.on("spl:diff",this.animate_spl,this),$u.broadcast.on("spl:update",this.on_spl_update,this),B.on({"sidebar:filter_toggled":this.toggle_els,"searchpeople:changed":this.just_close_list},this),$e.add(window,"resize",this.resize_window.bind(this),this),B.Push.on(B.Push.Type.SPOTLIGHT_META_DATA,this.on_meta,this),B.on("profile:change_photo",this.user_photo_changed,this),B.HoN_v3.Models.Cache.CurrentUserCache.fetch(this.user_fetched,this),this.$t=new $t(this.check_user_list,this,5e3),this.on_meta(this.clientSpotlightMetaData))},user_fetched:function(e){var t=e.getUser();t.getProfilePhoto()&&this.set_user_photo(t.getProfilePhoto().getPreviewUrl())},user_photo_changed:function(e){this.set_user_photo(e.photo_url)},set_user_photo:function(e){this.user_photo=e,this.userlist_loaded&&($el.down(this.wrap_el,".js-current-user-photo").src=this.user_photo)},update_spl:function(e,t){$u.broadcast.send("spl:diff",e,t),this.animate_spl(e,t)},animate_spl:function(e,t){return!this.userlist_loaded&&t[0]&&"update"===t[0].ev?(this.$t.clear(),this._ready(t[0].items),void 0):(this.list_inited&&t[0]&&(this.animation?this.stack.push(t[0]):this.animation=new B.HoN_v3.SpotlightAnimation({cfg:{photo_domain:this.photoDomain},wrap_els:[this.real_list],data:t[0],callback:this.recalc},this)),void 0)},recalc:function(){if(this.animation&&(this.animation.destroy(),this.animation=null,this.set_list_els(),this.toggle_els()),this.stack.length){var e=this.stack.shift();e&&this.animate_spl(null,e)}},set_wrap_el:function(){this.wrap_el=$("spotlight")},set_list_els:function(){this.list_el=$el.down(this.wrap_el,".js-spotlight"),this.real_list=$el.down(this.wrap_el,".js-spotlight-real"),this.els={real:$el.select(this.real_list,".js-spotlight-item")},this.more_el={real:$el.down(this.real_list,".js-spotlight-more")},this.cnt_el=$el.down(this.wrap_el,".js-spotlight-real-cnt")},check_user_list:function(){new $r(this.SPOTLIGHT_STATE_URL,{ready:this.on_spotlight_state_ready},this)},on_spotlight_state_ready:function(e){this.render(e.html)},on_meta:function(e){this.userlist_loaded=!1,this.cometSettings=e.getSpotlightServerTyped(),this.photoDomain=e.getPictureDomain(),this.init_comet()},_ready:function(e){var t=(e||[]).map(this.get_user_view,this),i=(new B.HoN_v3.SpotlightView).setUsers(t);this.user_photo&&i.setUserPhoto(this.user_photo),this.render(i)},render:function(e){this.ready({html:e}),B.fire("spotlight:userlist_loaded"),this.userlist_loaded=!0},get_user_view:function(e){return(new B.HoN_v3.SpotlightItemView).setUserPhoto(e.url.replace("#domain#",this.photoDomain)).setUserId(e.uid).setId(e.id).setName(e.nm).setOnlineStatus(e.status)},on_spl_update:function(e){this.userlist_loaded=!1,this.cometSettings=$gpb("badoo.bma.SpotlightServerData",e),0===$r.comet.slave&&this.init_comet(!0)},init_comet:function(e){var t=this.cometSettings,i=Math.floor(t.getRevisionId()/(1e3*Math.random()+1));e||$u.broadcast.send("spl:update",t.toJSON()),$r.comet.on("spl:diff",this.update_spl,this),$r.comet.channel(t.getServerId(),{rid:i,city_id:t.getCityId(),lang_id:t.getLangId(),bc:t.getMaxBets(),rtg:t.getRating(),ftl:t.getFemaleTolerance(),mtl:t.getMaleTolerance(),gdr:t.getGender()}),B.CometFacade.resolveIntention("B.HoN_v3.Spotlight"),this.$t.clear(),this.$t.set()},is_ready:function(){return this.userlist_loaded},get_uses_photo:function(){return $el.select(this.wrap_el,".js-spotlight-user-photo")},show_images:function(){for(var e=this.get_uses_photo(),t=e.length,i=0;t>i;i+=1)this.update_src(e[i])},update_src:function(e){e.src=e.getAttribute("data-src"),e.removeAttribute("data-src"),$el.del(e,"js-spotlight-user-photo")},toggle_loading:function(e){$el.tgl(this.wrap_el,"loading",e)}}),$u.background=new $class(B.Page,{name:"background",reload:!1,constructor:function(){$super(this,arguments),B.on("reload",this.on_reload,this),$u.broadcast.on("reload",this.on_broadcast,this)},init:function(){this.reload&&this.on_reload()},on_reload:function(){$u.broadcast.send("reload",+new Date)},on_broadcast:function(){$u.broadcast.un("reload",this.on_broadcast,this),$u.visibility.hidden?B.on("visibilitychange",this.on_visible,this):window.location.reload(),$r.comet.stop()},on_visible:function(e){e||window.location.reload()}}),$u.blink||($u.blink=new $class({original_favicon:"/favicon.ico",original_title:"",active:!1,interval:0,changed:!1,title:null,favicon:null,timeout:1500,constructor:function(){this.update_=this.update.bind(this);var e=$("favicon");e&&(this.original_favicon=e.href),B.on("app:statechange",this.stop,this)},start:function(e){this.active&&this.stop(!0),this.active=!0,$config(this,e),this.original_title=document.title,this.changed=!0,this.update(),this.interval=setInterval(this.update_,this.timeout)},update:function(e){this.title&&(document.title=this.changed?this.title:this.original_title),!e&&this.favicon&&this.update_favicon(this.changed?this.favicon:this.original_favicon),this.changed=!this.changed},stop:function(e){this.active&&(this.active=!1,clearInterval(this.interval),this.interval=0,this.changed=!1,this.update(e),this.title=null,this.favicon=null)},create_favicon_el:function(e){var t=document.createElement("link");return t.id="favicon",t.rel="icon",t.href=e,$el.head().appendChild(t),t},update_favicon:function(e){if("ff"==$u.ua||"cr"==$u.ua){var t=$("favicon");"ff"==$u.ua?(t&&$el.remove(t),t=this.create_favicon_el(e),$el.remove(t)):"cr"==$u.ua&&(t?t.href=e:this.create_favicon_el(e))}}})),B.Awards||(B.Awards={},function(){B.Awards.Transport=$class($u.Observable,{name:"AwardsTransport",$ct:null,$b:null,constructor:function(){$super(this,arguments),this.$ct=$r.comet.on({"award:you_got_award":this.onCometGotAward,"award:share_finish":this.onCometShareFinish,"award:update":this.onCometAwardUpdate},this),this.$b=$u.broadcast.on({"award:you_got_award":this.onGotAward,"award:share_finish":this.onShareFinish},this)},destroy:function(){$u.broadcast.un(this.$b),$r.comet.un(this.$ct),$super(this,arguments)},onCometGotAward:function(e){$u.broadcast.send("award:you_got_award",e),this.onGotAward(e)},onGotAward:function(e){this.fire("got_award",e)},onCometShareFinish:function(e){$u.broadcast.send("award:share_finish",e.ovl),this.onShareFinish(e.ovl)},onShareFinish:function(e){this.fire("share_finish",e)},onCometAwardUpdate:function(){B.fire("awards:updated")}}),B.Awards.Manager=new $class({name:"Awards",transport:null,constructor:function(){B.on({"app:init":this.init},this)},init:function(){this.transport=new B.Awards.Transport,this.transport.on({got_award:this.onNotification,share_finish:this.onShareFinish},this)},onNotification:function(e){this.__requestGenerateAwardVideo(e.award_id),B.Ovl.open({type:"hon-v3-show-award",awardId:e.award_id})},onShareFinish:function(){B.Ovl.close()},__requestGenerateAwardVideo:function(e){new $r("/ws/awards/share-video-generate.phtml",{params:{award_id:e},json:!1,show_fatal:!1})}})}()),B.FriendJoined=new $class(B.Page,{name:"FriendJoined",init:function(){$r.comet.on({"viralflow:friend_joined":this.friend_joined_ct},this),$u.broadcast.on({"viralflow:friend_joined":this.friend_joined},this)},friend_joined_ct:function(e){"base.OnceOvl"==e.$gpb&&($u.visibility.hidden?$u.broadcast_cache.send("viralflow:friend_joined",e):this.friend_joined(e))},friend_joined:function(e){B.OvlQueue.push(e.ovl,{hash:e.hash})}}),$gpb.exists("badoo.bma.String","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.String=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.String",t.prototype._descriptor={fields:{value:{type:9,number:1,label:1}}}}(),B.HoN_v3.ClientNotification||(B.HoN_v3.ClientNotification={},B.HoN_v3.ClientNotification.BaseHandler=$class({constructor:function(){},processNotification:function(){}}),B.HoN_v3.ClientNotification.Manager=new $class({handlersByType:null,handlersById:null,DEBOUNCE_TIMEOUT:1e4,constructor:function(){this.handlersByType={},this.handlersById={},B.Push.on(B.Push.Type.NOTIFICATION,this.onNotification,this)},registerHandlerByType:function(e,t){this.handlersByType[e]={handlerType:t,lastReceiveTime:0}},registerHandlerById:function(e,t){this.handlersById[e]={handlerType:t,lastReceiveTime:0}},onNotification:function(e){var t=this.handlersByType[e.getType()]||this.handlersById[e.getId()];if(t){var i=+new Date;if(t.lastReceiveTime+this.DEBOUNCE_TIMEOUT<i){var s=new t.handlerType,o=s.processNotification(e);o&&(t.lastReceiveTime=i,this.sendConfirmation(e.getId()))}}},sendConfirmation:function(e){new $gpb.Rpc($p.MessageType.SERVER_NOTIFICATION_CONFIRMATION,(new $p.String).setValue(e)).request()}}),$gpb.exists("badoo.bma.FeaturePrePurchaseInfo","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FeaturePrePurchaseInfo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FeaturePrePurchaseInfo",t.prototype._descriptor={fields:{album:{type:11,type_name:"badoo.bma.Album",number:6,label:1},previous_photo_id:{type:9,number:9,label:1},description:{type:9,number:3,label:1},title:{type:9,number:2,label:1},feature:{type:14,type_name:"badoo.bma.FeatureType",number:1,label:1},application_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:8,label:1},header:{type:9,number:7,label:1},cost:{type:9,number:5,label:1},action:{type:9,number:4,label:1}}}}(),B.HoN_v3.ClientNotification.RiseupAgainHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(e){return B.Ovl.is_visible()?!1:(B.Ovl.open({type:"riseup-again",purchase_info:e.getPurchaseInfo()}),!0)}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_RISE_UP_REMINDER,B.HoN_v3.ClientNotification.RiseupAgainHandler),B.HoN_v3.ClientNotification.ContactImportHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return"contact-import"!==B.App.state&&B.App.app_link("contact-import","/contact-import"),!0}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_PROMO_IMPORT,B.HoN_v3.ClientNotification.ContactImportHandler),B.HoN_v3.ClientNotification.ContactImportCompletedHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return"contact-import"!==B.App.state&&B.App.app_link("contact-import","/contact-import?completed=1"),!0}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_PROMO_IMPORT_COMPLETED,B.HoN_v3.ClientNotification.ContactImportCompletedHandler),B.HoN_v3.ClientNotification.SppHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return B.App.app_link("spp-signup-promo","/promo/spp"),!0}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_SUPER_POWERS_PROMO,B.HoN_v3.ClientNotification.SppHandler),B.HoN_v3.ClientNotification.FacebookPromoHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return B.Ovl.is_visible()?!1:(B.Ovl.open({type:"hon-v3-facebook-promo"}),!0)}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_CONNECT_FACEBOOK_PROMO,B.HoN_v3.ClientNotification.FacebookPromoHandler),B.HoN_v3.ClientNotification.PhotoImportPromoHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(e){switch(e.getImportProviders().getProviders()[0].getId()){case"86":B.App.app_link("promo-facebook","/promo/facebook");break;case"117":B.App.app_link("promo-instagram","/promo/instagram")}return!0}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_PROMO_PHOTOS_IMPORT,B.HoN_v3.ClientNotification.PhotoImportPromoHandler),B.HoN_v3.ClientNotification.AbusePromoHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return"promo-abuse"!==B.App.state&&B.App.app_link("abuse-promo","promo/abuse"),!0}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_ABUSE,B.HoN_v3.ClientNotification.AbusePromoHandler),B.HoN_v3.ClientNotification.VipPromoHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return B.Ovl.is_visible()?!1:(B.fire("vip:open","promo"),!0)}}),B.HoN_v3.ClientNotification.Manager.registerHandlerByType($p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_VIP_PROMO,B.HoN_v3.ClientNotification.VipPromoHandler),B.HoN_v3.ClientNotification.ReactivationAccountHandler=$class(B.HoN_v3.ClientNotification.BaseHandler,{processNotification:function(){return B.Ovl.is_visible()||B.Ovl.open({type:"hon-v3-reactivation-account"}),!0}}),B.HoN_v3.ClientNotification.Manager.registerHandlerById("user_is_frozen",B.HoN_v3.ClientNotification.ReactivationAccountHandler)),B.HoN_v3.UpdateInfoEvent||(B.HoN_v3.UpdateInfoEvent={},B.HoN_v3.UpdateInfoEvent.Controller=new $class({constructor:function(){B.Push.on(B.Push.Type.USER_DATA_INCOMPLETE,this.onNotification,this)},onNotification:function(e){B.Ovl.is_visible()||B.Ovl.open({type:"hon-v3-update-info",data:{dataType:e.getDataType(),userFields:e.getUserFields()}})}})),B.HoN_v3.SystemNotification||(B.HoN_v3.SystemNotification={},$gpb.exists("badoo.bma.SystemNotificationID","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SystemNotificationID=new $gpb.Enum("badoo.bma.SystemNotificationID");t._values=[1,2,3],t.SYSTEM_NOTIFICATION_REGISTRATION_COMPLETE=1,t.SYSTEM_NOTIFICATION_PROFILE_UPDATED=2,t.SYSTEM_NOTIFICATION_UNREGISTERED_FRIENDS_CHANGED=3}(),B.HoN_v3.SystemNotification.BaseHandler=$class({processNotification:function(){}}),B.HoN_v3.SystemNotification.Manager=new $class({handlers:null,constructor:function(){this.handlers={},B.Push.on(B.Push.Type.SYSTEM_NOTIFCATION,this.onNotification,this)},registerHandler:function(e,t){this.handlers[e]={handlerType:t}},onNotification:function(e){var t=this.handlers[e.getId()];if(t){var i=new t.handlerType;i.processNotification(e)}}}),B.HoN_v3.SystemNotification.UnregisteredFriendsChangedHandler=$class(B.HoN_v3.SystemNotification.BaseHandler,{processNotification:function(){B.HoN_v3.Footer.load_footer()}}),B.HoN_v3.SystemNotification.Manager.registerHandler($p.SystemNotificationID.SYSTEM_NOTIFICATION_UNREGISTERED_FRIENDS_CHANGED,B.HoN_v3.SystemNotification.UnregisteredFriendsChangedHandler)),function(){function e(e,i){return e.write('<div class="notification js-wrap js-notification-wrap">\n<i class="icon ico--white ico--cross-sm js-toggle js-notification-close" data-jst-class="hide"></i>\n').section(i.get(["user_photo"],!1),i,{block:t},{}).write("\n").section(i.get(["icon"],!1),i,{block:r},{}).write('<!--\n--><div class="notification-txt">').reference("text",i,["s"]).write("</div>\n").section(i.get(["default"],!1),i,{block:h},{}).write("\n").section(i.get(["ovl"],!1),i,{block:m},{}).write('\n<span class="middle"></span>\n</div>')}function t(e,t){return e.write('\n<div class="brick').exists(t.get(["is_group"],!1),t,{block:i},{}).exists(t.get(["is_single"],!1),t,{block:s},{}).write('">\n').section(t.get(["photo"],!1),t,{block:o},{}).write("\n").section(t.get(["user_badge"],!1),t,{block:n},{}).write("\n</div>\n")}function i(e){return e.write(" brick--group")}function s(e){return e.write(" brick--lg")}function o(e,t){return e.write('<div class="brick-img"><img src="').reference("src",t).write('" alt="').reference("alt",t).write('"></div>')}function n(e,t){return e.write('<mark class="brick brick--xsm brick--red">').exists(t.get(["heart"],!1),t,{block:a},{}).reference("count",t).write("</mark>")}function a(e){return e.write('<i class="ico ico--white ico--heart-sm"></i>')}function r(e,t){return e.write('<div class="brick brick--lg brick--').exists(t.get(["yellow"],!1),t,{block:l},{}).exists(t.get(["red"],!1),t,{block:_},{}).exists(t.get(["blue"],!1),t,{block:p},{}).write('"><i class="ico').exists(t.get(["cup"],!1),t,{block:c},{}).exists(t.get(["flame"],!1),t,{block:u},{}).exists(t.get(["time"],!1),t,{block:d},{}).exists(t.get(["attention"],!1),t,{block:b},{}).write('"></i></div>')}function l(e){return e.write("yellow")}function _(e){return e.write("red")}function p(e){return e.write("blue")}function c(e){return e.write(" ico--white ico--cup-lg")}function u(e){return e.write(" ico--white ico--flame-lg")}function d(e){return e.write(" ico--white ico--time-lg")}function b(e){return e.write(" ico--attention-lg")}function h(e,t){return e.write('<a href="').reference("url",t).write('" class="b-link js-notification-link app" rel="').reference("rel",t).write('"></a>')}function m(e,t){return e.write('<a class="b-link js-notification-ovl js-ovl-open" data-ovl-type="').reference("type",t).write('" data-ovl-url="').reference("url",t).write('"></a>')}return $u.dust.register("hotornot_v2/components/block.notification",e),e.s={user_photo:t,icon:r,"default":h,ovl:m},t.s={is_group:i,is_single:s,photo:o,user_badge:n},n.s={heart:a},r.s={yellow:l,red:_,blue:p,cup:c,flame:u,time:d,attention:b},e}(),$gpb.exists("badoo.bma.ServerAppStats","message")||($gpb.exists("badoo.bma.PermissionAcceptanceStats","message")||($gpb.exists("badoo.bma.PermissionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PermissionType=new $gpb.Enum("badoo.bma.PermissionType");t._values=[1,2,3],t.PERMISSION_TYPE_PUSH_NOTIFICATIONS=1,t.PERMISSION_TYPE_BACKGROUND_LOCATION=2,t.PERMISSION_TYPE_IN_APP_LOCATION=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PermissionAcceptanceStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PermissionAcceptanceStats",t.prototype._descriptor={fields:{type:{type:14,type_name:"badoo.bma.PermissionType",number:1,label:2},can_be_changed:{type:8,number:3,label:1},allowed:{type:8,number:2,label:2}}}}()),$gpb.exists("badoo.bma.SharedFriendsStats","message")||($gpb.exists("badoo.bma.SharedFriendsStatsType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SharedFriendsStatsType=new $gpb.Enum("badoo.bma.SharedFriendsStatsType");t._values=[1,2,3],t.SHARED_FRIENDS_STATS_TYPE_NOTIFICATION_SHOWN=1,t.SHARED_FRIENDS_STATS_TYPE_PERMISSION_REQUESTED=2,t.SHARED_FRIENDS_STATS_TYPE_PERMISSION_GIVEN=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.SharedFriendsStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SharedFriendsStats",t.prototype._descriptor={fields:{type:{type:14,type_name:"badoo.bma.SharedFriendsStatsType",number:1,label:2},provider:{type:14,type_name:"badoo.bma.ExternalProviderType",number:2,label:2}}}}()),$gpb.exists("badoo.bma.OfferwallStats","message")||($gpb.exists("badoo.bma.StatsSourceClientScreen","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.StatsSourceClientScreen=new $gpb.Enum("badoo.bma.StatsSourceClientScreen");t._values=[7,8,9,10,11,12,13,14,15,16,17,18,19],t.SCREEN_MY_PROFILE=7,t.SCREEN_OTHER_PROFILE=8,t.SCREEN_CHAT=9,t.SCREEN_CHAT_QUOTA=10,t.SCREEN_VERY_POPULAR_BANNER=11,t.SCREEN_CHAT_TRUSTED_NETWORK_BLOCKED=12,t.SCREEN_BUILD_NETWORK=13,t.SCREEN_GROW_NETWORK=14,t.SCREEN_TRUSTED_NETWORK_SETTINGS=15,t.SCREEN_PEOPLE_NEARBY=16,t.SCREEN_OAUTH_PROVIDER=17,t.SCREEN_SERVER_NOTIFICATION=18,t.SCREEN_OFFERWALL_VIEW=19}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.OfferwallStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.OfferwallStats",t.prototype._descriptor={fields:{screen:{type:14,type_name:"badoo.bma.StatsSourceClientScreen",number:1,label:1},source_screen:{type:14,type_name:"badoo.bma.ClientSource",number:2,label:1}}}}()),$gpb.exists("badoo.bma.ServerAppStatsStartSource","message")||($gpb.exists("badoo.bma.ServerAppStatsStartSourceType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerAppStatsStartSourceType=new $gpb.Enum("badoo.bma.ServerAppStatsStartSourceType");t._values=[0,1,2,3,4,5],t.APP_START_SOURCE_UNKNOWN=0,t.APP_START_SOURCE_LAUNCHER=1,t.APP_START_SOURCE_WIDGET=2,t.APP_START_SOURCE_EMAIL=3,t.APP_START_SOURCE_PUSH=4,t.APP_START_SOURCE_SMS=5}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerAppStatsStartSource=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerAppStatsStartSource",t.prototype._descriptor={fields:{source_id:{type:9,number:3,label:1},screen:{type:14,type_name:"badoo.bma.StatsSourceClientScreen",number:2,label:1},start_screen:{type:14,type_name:"badoo.bma.ClientSource",number:4,label:1},type:{type:14,type_name:"badoo.bma.ServerAppStatsStartSourceType",number:1,label:1}}}}()),$gpb.exists("badoo.bma.ImageStats","message")||($gpb.exists("badoo.bma.ImageStatsType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ImageStatsType=new $gpb.Enum("badoo.bma.ImageStatsType");t._values=[1,2,3],t.IMAGE_STATS_TYPE_BROKEN_BINARY=1,t.IMAGE_STATS_TYPE_SERVER_ERROR=2,t.IMAGE_STATS_TYPE_INVALID_CONTENT_TYPE=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ImageStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ImageStats",t.prototype._descriptor={fields:{image_url:{type:9,number:1,label:1},error_data:{type:9,number:4,label:1},type:{type:14,type_name:"badoo.bma.ImageStatsType",number:2,label:2},http_response_code:{type:5,number:3,label:1}}}}()),$gpb.exists("badoo.bma.FacebookLikeStats","message")||($gpb.exists("badoo.bma.CommonStatsEventType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CommonStatsEventType=new $gpb.Enum("badoo.bma.CommonStatsEventType");t._values=[1,2,3,4,5,6,7,8,9,10],t.COMMON_EVENT_CLICK=1,t.COMMON_EVENT_SHOW=2,t.COMMON_EVENT_DISCARD=3,t.COMMON_EVENT_DISMISS=4,t.COMMON_EVENT_REPLACE=5,t.COMMON_EVENT_IGNORE=6,t.COMMON_EVENT_INTERRUPT=7,t.COMMON_EVENT_SKIP=8,t.COMMON_EVENT_SECONDARY_ACTION=9,t.COMMON_EVENT_FLOW_COMPLETE=10}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.FacebookLikeStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FacebookLikeStats",t.prototype._descriptor={fields:{screen:{type:14,type_name:"badoo.bma.ClientSource",number:1,label:1},event_type:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:2,label:1}}}}()),$gpb.exists("badoo.bma.StarRatingStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.StarRatingStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.StarRatingStats",t.prototype._descriptor={fields:{shared:{type:8,number:2,label:1},dismissed:{type:8,number:1,label:1}}}}(),$gpb.exists("badoo.bma.InviteStats","message")||($gpb.exists("badoo.bma.InviteStatsActionType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.InviteStatsActionType=new $gpb.Enum("badoo.bma.InviteStatsActionType");t._values=[1,2,3,4,5,6,7],t.INVITE_STATS_ACTION_TYPE_FOOTER_SEEN=1,t.INVITE_STATS_ACTION_TYPE_CONNECT=2,t.INVITE_STATS_ACTION_TYPE_LATER=3,t.INVITE_STATS_ACTION_TYPE_ACCESS_ALLOWED=4,t.INVITE_STATS_ACTION_TYPE_ACCESS_DENIED=5,t.INVITE_STATS_ACTION_TYPE_IGNORE=6,t.INVITE_STATS_ACTION_TYPE_SEEN=7}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.InviteStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.InviteStats",t.prototype._descriptor={fields:{client_source:{type:14,type_name:"badoo.bma.ClientSource",number:1,label:1},action_type:{type:14,type_name:"badoo.bma.InviteStatsActionType",number:2,label:1},provider_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:3,label:1}}}}()),$gpb.exists("badoo.bma.ClientNotificationStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientNotificationStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientNotificationStats",t.prototype._descriptor={fields:{notification_id:{type:9,number:1,label:1},event:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:2,label:1}}}}(),$gpb.exists("badoo.bma.RushHourStats","message")||($gpb.exists("badoo.bma.RushHourStatsType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.RushHourStatsType=new $gpb.Enum("badoo.bma.RushHourStatsType");t._values=[1,2,3],t.GAME_START=1,t.GAME_FAILED=2,t.GAME_SUCCESS=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.RushHourStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.RushHourStats",t.prototype._descriptor={fields:{type:{type:14,type_name:"badoo.bma.RushHourStatsType",number:1,label:2}}}}()),$gpb.exists("badoo.bma.BrowserPushStats","message")||($gpb.exists("badoo.bma.BrowserPushEvent","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.BrowserPushEvent=new $gpb.Enum("badoo.bma.BrowserPushEvent");
t._values=[1,2,3,4,5,6,7,8,9,10],t.BROWSER_PUSH_EVENT_PRE_DIALOG_SHOW=1,t.BROWSER_PUSH_EVENT_PRE_DIALOG_DISMISS=2,t.BROWSER_PUSH_EVENT_PRE_DIALOG_ACCEPT=3,t.BROWSER_PUSH_EVENT_NATIVE_DIALOG_SHOW=4,t.BROWSER_PUSH_EVENT_NATIVE_DIALOG_DISMISS=5,t.BROWSER_PUSH_EVENT_NATIVE_DIALOG_ACCEPT=6,t.BROWSER_PUSH_EVENT_WORKER_ACTIVATE=7,t.BROWSER_PUSH_EVENT_WORKER_INSTALL=8,t.BROWSER_PUSH_EVENT_WORKER_PUSH=9,t.BROWSER_PUSH_EVENT_WORKER_CLICK=10}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.BrowserPushStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.BrowserPushStats",t.prototype._descriptor={fields:{event:{type:14,type_name:"badoo.bma.BrowserPushEvent",number:1,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:2,label:1}}}}()),$gpb.exists("badoo.bma.PromoBannerStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PromoBannerStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PromoBannerStats",t.prototype._descriptor={fields:{context:{type:14,type_name:"badoo.bma.ClientSource",number:3,label:1},promo_block_position:{type:14,type_name:"badoo.bma.PromoBlockPosition",number:5,label:1},banner_id:{type:9,number:2,label:1},promo_block_type:{type:14,type_name:"badoo.bma.PromoBlockType",number:4,label:1},event:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:1,label:1}}}}(),$gpb.exists("badoo.bma.CommonStats","message")||($gpb.exists("badoo.bma.CommonStatsSource","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CommonStatsSource=new $gpb.Enum("badoo.bma.CommonStatsSource");t._values=[1,2,3,4,5,6,7,10001,10002,10003],t.HIDE_PRESENCE_WITHOUT_SPP=1,t.HIDE_PROFILE_VISITOR_WITHOUT_SPP=2,t.HIDE_SPP_WITHOUT_SPP=3,t.OPEN_GRID_MODE_IN_PROFILE=4,t.CONNECT_FACEBOOK_PROMO=5,t.DOWNLOAD_MOBILE_APP=6,t.YOUTUBE_SUBSCRIBE_BUTTON=7,t.EXPERIMENTAL_BURIN40_ENCOUNTERS=10001,t.EXPERIMENTAL_BURIN40_SPP=10002,t.EXPERIMENTAL_BURIN40_SPP_TRIAL=10003}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.CommonStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CommonStats",t.prototype._descriptor={fields:{source:{type:14,type_name:"badoo.bma.CommonStatsSource",number:1,label:1},event:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:2,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:3,label:1}}}}()),$gpb.exists("badoo.bma.RegistrationStats","message")||($gpb.exists("badoo.bma.RegistrationAction","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.RegistrationAction=new $gpb.Enum("badoo.bma.RegistrationAction");t._values=[1,2],t.REGISTRATION_ACTION_STARTED=1,t.REGISTRATION_ACTION_CANCELLED=2}(),$gpb.exists("badoo.bma.RegistrationMethod","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.RegistrationMethod=new $gpb.Enum("badoo.bma.RegistrationMethod");t._values=[1,2],t.REGISTRATION_METHOD_EMAIL=1,t.REGISTRATION_METHOD_FACEBOOK=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.RegistrationStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.RegistrationStats",t.prototype._descriptor={fields:{action:{type:14,type_name:"badoo.bma.RegistrationAction",number:1,label:1},method:{type:14,type_name:"badoo.bma.RegistrationMethod",number:2,label:1}}}}()),$gpb.exists("badoo.bma.SharingStats","message")||($gpb.exists("badoo.bma.SharingStatsType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SharingStatsType=new $gpb.Enum("badoo.bma.SharingStatsType");t._values=[1,2,3,4,5,6,7,8,9,10,11],t.SHARING_STATS_TYPE_SOCIAL_CLICK=1,t.SHARING_STATS_TYPE_SOCIAL_POST=2,t.SHARING_STATS_TYPE_VIEW_MY_AWARD=3,t.SHARING_STATS_TYPE_VIEW_OTHERS_AWARD=4,t.SHARING_STATS_TYPE_VIEW_GET_MORE_AWARDS=5,t.SHARING_STATS_TYPE_VIEW_SHARING_OVERLAY=6,t.SHARING_STATS_TYPE_BUTTON_CLICK=7,t.SHARING_STATS_TYPE_PERMISSION_GIVEN=8,t.SHARING_STATS_TYPE_PERMISSION_DENIED=9,t.SHARING_STATS_TYPE_OTHER_CLICK=10,t.SHARING_STATS_TYPE_PERMISSION_REQUESTED=11}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.SharingStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SharingStats",t.prototype._descriptor={fields:{provider_id:{type:9,number:2,label:1},uid:{type:9,number:5,label:1},sharing_stats_type:{type:14,type_name:"badoo.bma.SharingStatsType",number:3,label:1},award_id:{type:9,number:1,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:4,label:1},promoted_video_id:{type:9,number:6,label:1},provider_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:7,label:1}}}}()),$gpb.exists("badoo.bma.InitialChatScreenStats","message")||($gpb.exists("badoo.bma.ChatBlockId","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ChatBlockId=new $gpb.Enum("badoo.bma.ChatBlockId");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],t.CHAT_BLOCK_ID_UNKNOWN=0,t.CHAT_BLOCK_ID_INITIAL=1,t.CHAT_BLOCK_ID_START_CONVERSATION=2,t.CHAT_BLOCK_ID_MESSAGES=3,t.CHAT_BLOCK_ID_ERROR=4,t.CHAT_BLOCK_ID_PROMO=5,t.CHAT_BLOCK_ID_ADD_PHOTO=6,t.CHAT_BLOCK_ID_ROULETTE=7,t.CHAT_BLOCK_ID_INCOMING_MESSAGE=8,t.CHAT_BLOCK_ID_TEEN_BLOCKED=9,t.CHAT_BLOCK_ID_FRIEND_CONNECTION=10,t.CHAT_BLOCK_ID_LIMIT_REACHED=11,t.CHAT_BLOCK_ID_PAIDMESSAGES=12,t.CHAT_BLOCK_ID_SEARCH_CONDITIONS=13,t.CHAT_BLOCK_ID_VERIFY_FOR_MAN=14,t.CHAT_BLOCK_ID_VERY_POPULAR=15,t.CHAT_BLOCK_ID_NEWBIE=16,t.CHAT_BLOCK_ID_LIMIT_CLOSE=17,t.CHAT_BLOCK_ID_SEND_SMILE=18,t.CHAT_BLOCK_ID_CONTACTS_FOR_CREDITS=19,t.CHAT_BLOCK_ID_CONVERSATION_GIFTS_BLOCKER=20,t.CHAT_BLOCK_ID_VERIFY_FOR_WOMAN=21,t.CHAT_BLOCK_ID_MATCH_WITH_STICKERS=22,t.CHAT_BLOCK_ID_MATCH_WITH_GIFTS=23,t.CHAT_BLOCK_ID_PLACES_IN_COMMON=24}(),$gpb.exists("badoo.bma.InitialChatScreenContext","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.InitialChatScreenContext=new $gpb.Enum("badoo.bma.InitialChatScreenContext");t._values=[1],t.INITIAL_CHAT_SCREEN_CONTEXT_CTA=1}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.InitialChatScreenStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.InitialChatScreenStats",t.prototype._descriptor={fields:{screen_type:{type:14,type_name:"badoo.bma.ChatBlockId",number:1,label:1},screen_context:{type:14,type_name:"badoo.bma.InitialChatScreenContext",number:2,label:1},promo_block_type:{type:14,type_name:"badoo.bma.PromoBlockType",number:3,label:1},event_type:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:4,label:1}}}}()),$gpb.exists("badoo.bma.InAppNotificationStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.InAppNotificationStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.InAppNotificationStats",t.prototype._descriptor={fields:{notification_id:{type:9,number:1,label:1},screen:{type:14,type_name:"badoo.bma.ClientSource",number:3,label:1},event_type:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:2,label:1}}}}(),$gpb.exists("badoo.bma.SpotlightStats","message")||($gpb.exists("badoo.bma.SpotlightStatsType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.SpotlightStatsType=new $gpb.Enum("badoo.bma.SpotlightStatsType");t._values=[1,2],t.SPOTLIGHT_STATS_TYPE_ADD_BUTTON_VIEWED=1,t.SPOTLIGHT_STATS_TYPE_ADD_BUTTON_PRESSED=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.SpotlightStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.SpotlightStats",t.prototype._descriptor={fields:{type:{type:14,type_name:"badoo.bma.SpotlightStatsType",number:1,label:1}}}}()),$gpb.exists("badoo.bma.FacebookAppRequestStats","message")||($gpb.exists("badoo.bma.FacebookAppRequestStatsType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FacebookAppRequestStatsType=new $gpb.Enum("badoo.bma.FacebookAppRequestStatsType");t._values=[1,2,3,4,5,6],t.FACEBOOK_APP_REQUEST_STATS_TYPE_NOTIFICATION_SHOWN=1,t.FACEBOOK_APP_REQUEST_STATS_TYPE_NOTIFICATION_CONFIRM=2,t.FACEBOOK_APP_REQUEST_STATS_TYPE_NOTIFICATION_DENY=3,t.FACEBOOK_APP_REQUEST_STATS_TYPE_FB_DIALOG_OPEN=4,t.FACEBOOK_APP_REQUEST_STATS_TYPE_FB_DIALOG_INVITES_SENT=5,t.FACEBOOK_APP_REQUEST_STATS_TYPE_FB_DIALOG_INVITES_CANCEL=6}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.FacebookAppRequestStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FacebookAppRequestStats",t.prototype._descriptor={fields:{type:{type:14,type_name:"badoo.bma.FacebookAppRequestStatsType",number:1,label:2},context:{type:14,type_name:"badoo.bma.ClientSource",number:2,label:2}}}}()),$gpb.exists("badoo.bma.VerificationStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VerificationStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.VerificationStats",t.prototype._descriptor={fields:{type:{type:14,type_name:"badoo.bma.UserVerificationMethodType",number:1,label:1},event:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:3,label:1},provider_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:2,label:1}}}}(),$gpb.exists("badoo.bma.TrustedNetworkStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.TrustedNetworkStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.TrustedNetworkStats",t.prototype._descriptor={fields:{person_id:{type:9,number:3,label:1},screen:{type:14,type_name:"badoo.bma.StatsSourceClientScreen",number:1,label:1},source_screen:{type:14,type_name:"badoo.bma.ClientSource",number:4,label:1},provider_id:{type:9,number:2,label:1}}}}(),$gpb.exists("badoo.bma.FriendOrCelebritySharingStats","message")||($gpb.exists("badoo.bma.CelebrityFriendSharing","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CelebrityFriendSharing=new $gpb.Enum("badoo.bma.CelebrityFriendSharing");t._values=[1,2,3],t.CELEBRITY_FRIEND_SHARING_CLICK=1,t.CELEBRITY_FRIEND_SHARING_POST=2,t.CELEBRITY_FRIEND_SHARING_FB_GRAPH=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.FriendOrCelebritySharingStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FriendOrCelebritySharingStats",t.prototype._descriptor={fields:{provider_id:{type_name:"badoo.bma.ExternalProviderType",number:4,label:1,type:14,options:{"default":"UNKNOWN_EXTERNAL_PROVIDER_TYPE"}},is_celebrity:{type:8,number:2,label:1},person_id:{type:9,number:1,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:6,label:1},action:{type:14,type_name:"badoo.bma.CelebrityFriendSharing",number:5,label:1},is_hidden:{type:8,number:3,label:1}}}}()),$gpb.exists("badoo.bma.ServerResponseInvalidStats","message")||($gpb.exists("badoo.bma.ServerMessageInvalidType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerMessageInvalidType=new $gpb.Enum("badoo.bma.ServerMessageInvalidType");t._values=[1,2,3,4],t.SERVER_MESSAGE_INVALID_UNKNOWN=1,t.SERVER_MESSAGE_INVALID_MISSING_FIELD=2,t.SERVER_MESSAGE_INVALID_INCORRECT_BODY=3,t.SERVER_MESSAGE_INVALID_CANT_DECODE=4}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerResponseInvalidStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerResponseInvalidStats",t.prototype._descriptor={fields:{message_bytes:{type:12,number:1,label:1},type:{type_name:"badoo.bma.ServerMessageInvalidType",number:2,label:1,type:14,options:{"default":"SERVER_MESSAGE_INVALID_UNKNOWN"}},additional_data:{type:9,number:6,label:3}}}}()),$gpb.exists("badoo.bma.PromotedVideoStats","message")||($gpb.exists("badoo.bma.VideoStatsAction","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VideoStatsAction=new $gpb.Enum("badoo.bma.VideoStatsAction");t._values=[1,2,3],t.VIDEO_STATS_ACTION_PLAY_CLICKED=1,t.VIDEO_STATS_ACTION_SCROLL_TO_VIDEO=2,t.VIDEO_STATS_ACTION_WATCHED=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PromotedVideoStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PromotedVideoStats",t.prototype._descriptor={fields:{action:{type:14,type_name:"badoo.bma.VideoStatsAction",number:2,label:1},id:{type:9,number:1,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:3,label:1}}}}()),$gpb.exists("badoo.bma.DwarfsStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.DwarfsStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.DwarfsStats",t.prototype._descriptor={fields:{dwarf_codes:{type:5,number:1,label:3}}}}(),$gpb.exists("badoo.bma.VipStats","message")||($gpb.exists("badoo.bma.VipStatsEvent","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VipStatsEvent=new $gpb.Enum("badoo.bma.VipStatsEvent");t._values=[1,2,3,4,5],t.VIP_STATS_EVENT_WHATS_NEW_SHOWN=1,t.VIP_STATS_EVENT_WHATS_NEW_PURCHASE_CLICK=2,t.VIP_STATS_EVENT_PROMO_DISABLED_SHOWN=3,t.VIP_STATS_EVENT_PROMO_DISABLED_PURCHASE_CLICK=4,t.VIP_STATS_EVENT_PROMO_ENABLED_SHOWN=5}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.VipStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.VipStats",t.prototype._descriptor={fields:{event:{type:14,type_name:"badoo.bma.VipStatsEvent",number:1,label:1}}}}()),$gpb.exists("badoo.bma.VideoStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.VideoStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.VideoStats",t.prototype._descriptor={fields:{action:{type:14,type_name:"badoo.bma.VideoStatsAction",number:2,label:1},client_source:{type:14,type_name:"badoo.bma.ClientSource",number:1,label:1}}}}(),$gpb.exists("badoo.bma.PNBPromoBannerStats","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PNBPromoBannerStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PNBPromoBannerStats",t.prototype._descriptor={fields:{banner_id:{type:9,number:2,label:1},event:{type:14,type_name:"badoo.bma.CommonStatsEventType",number:1,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerAppStats=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerAppStats",t.prototype._descriptor={fields:{permission_acceptance_stats:{type:11,type_name:"badoo.bma.PermissionAcceptanceStats",number:12,label:1},registration_stats:{type:11,type_name:"badoo.bma.RegistrationStats",number:5,label:1},offerwall_source:{type:11,type_name:"badoo.bma.OfferwallStats",number:3,label:1},start_source:{type:11,type_name:"badoo.bma.ServerAppStatsStartSource",number:1,label:1},image_stats:{type:11,type_name:"badoo.bma.ImageStats",number:15,label:3},facebook_like_stats:{type:11,type_name:"badoo.bma.FacebookLikeStats",number:23,label:1},sharing_stats:{type:11,type_name:"badoo.bma.SharingStats",number:4,label:1},invite_stats:{type:11,type_name:"badoo.bma.InviteStats",number:10,label:1},client_notification_stats:{type:11,type_name:"badoo.bma.ClientNotificationStats",number:21,label:1},rush_hour_stats:{type:11,type_name:"badoo.bma.RushHourStats",number:14,label:1},browser_push_stats:{type:11,type_name:"badoo.bma.BrowserPushStats",number:27,label:1},promo_banner_stats:{type:11,type_name:"badoo.bma.PromoBannerStats",number:20,label:1},server_response_invalid_stats:{type:11,type_name:"badoo.bma.ServerResponseInvalidStats",number:16,label:1},common_stats:{type:11,type_name:"badoo.bma.CommonStats",number:24,label:1},shared_friends_stats:{type:11,type_name:"badoo.bma.SharedFriendsStats",number:11,label:1},star_rating_stats:{type:11,type_name:"badoo.bma.StarRatingStats",number:7,label:1},initial_chat_screen_stats:{type:11,type_name:"badoo.bma.InitialChatScreenStats",number:26,label:1},spotlight_stats:{type:11,type_name:"badoo.bma.SpotlightStats",number:8,label:1},verification_stats:{type:11,type_name:"badoo.bma.VerificationStats",number:13,label:1},tn_source:{type:11,type_name:"badoo.bma.TrustedNetworkStats",number:2,label:1},friend_or_celebrity_sharing:{type:11,type_name:"badoo.bma.FriendOrCelebritySharingStats",number:6,label:1},in_app_notification_stats:{type:11,type_name:"badoo.bma.InAppNotificationStats",number:19,label:1},promoted_video_stats:{type:11,type_name:"badoo.bma.PromotedVideoStats",number:25,label:1},dwarfs_stats:{type:11,type_name:"badoo.bma.DwarfsStats",number:28,label:1},vip_stats:{type:11,type_name:"badoo.bma.VipStats",number:22,label:1},facebook_app_request_stats:{type:11,type_name:"badoo.bma.FacebookAppRequestStats",number:9,label:1},video_stats:{type:11,type_name:"badoo.bma.VideoStats",number:18,label:1},pnb_promo_banner_stats:{type:11,type_name:"badoo.bma.PNBPromoBannerStats",number:17,label:1}}}}()),B.HoN_v3.Notification=new $class({blocked_types:{},notification_tpl:"hotornot_v2/components/block.notification",notifications_el:null,connections_el:null,empty_el:null,slots:null,opened_items:null,_is_any_connection:!1,_dom_timeout:50,_animation_time:250,_unicity:0,_timers:[],_slot_tpl:null,throttle_types:null,throttle_delay:3e4,queue:[],constructor:function(){B.on({"app:init":this.init,"app:statechange":this.reinit},this)},reinit:function(){this.destroy(),this.init()},init:function(){if(this.throttle_types={},this.$ct=$r.comet.on({notification:this.notification_ct,"connections-block":this.message_ct},this),this.$e=$e.on({".js-notification-close":this.close,".js-notification-link":this.link_open,".js-notification-ovl":this.ovl_open,".js-notification-open-chat":this.chat_open},this),this.$b=$u.broadcast.on({"ntf:notification":this.preshow_notification,"ntf:message":this.preshow_message},this),this.slots={},this.opened_items={ovls:{},msgs:{}},this.connections_el=$el.down(document,".js-im-notifications"),this.notifications_el=$("notifications"),this.connections_el){for(var e=$el.select(this.connections_el,".js-notification-wrap"),t=0;t<e.length;t++){var i=e[t].getAttribute("data-type");i&&($el.has(e[t],"notify-placeholder")?this.slots[i]=e[t]:(this._is_any_connection=!0,i&&(this.slots[i]=e[t].parentNode,this.register_opened(e[t],"msgs",i))))}this.empty_el=$("js-notification-empty")}this.queue.length&&this.move_queue(),this.$e_hon=B.HoN_v3.on({"im:closed":this._enabled_im,"im:opened":this._disabled_im},this),this.__active=1},_disabled_im:function(){this.blocked_types["hon-msg"]=!0},_enabled_im:function(){this.blocked_types["hon-msg"]&&delete this.blocked_types["hon-msg"]},destroy:function(){B.HoN_v3.un(this.$e_hon),this._cleanup_timers(),this.connections_el=this.notifications_el=null,$r.comet.un(this.$ct),$e.un(this.$e),$u.broadcast.un(this.$b);for(var e in this.slots)this.slots[e]=null;this.opened_items={ovls:{},msgs:{}},this._slot_tpl=this.slots=this.opened_items=null,this.queue=[],this.blocked_types={};for(var t in this.throttle_types)this.throttle_types[t].timer&&this.throttle_types[t].timer.clear();this.throttle_types=null,this.__active=0},notification_ct:function(e,t){$u.visibility.hidden?$u.broadcast.send("ntf:notification",{html:e,type:t,ts:+new Date}):this.show_notification(e,t)},preshow_notification:function(e){e&&!$u.visibility.hidden&&this.show_notification(e.html,e.type)},message_ct:function(e,t){$u.broadcast.send("ntf:message",{html:e,type:t}),this.show_message(e,t)},preshow_message:function(e){this.show_message(e.html,e.type)},move_queue:function(){var e,t,i=this.queue.length;for(e=0;i>e;e++)t=this.queue[e],this.show_notification(t.html,t.type,!0);this.queue=[]},throttle:function(e,t,i){var s=+new Date;return!this.throttle_types[e]||s-this.throttle_types[e].date>=this.throttle_delay?(this.throttle_types[e]={date:s,timer:new $t(this.throttleTrailing.bind(this,e),this,this.throttle_delay)},this.throttle_types[e].timer.set(),!0):(this.throttle_types[e].obj={html:t,name:i},!1)},throttleTrailing:function(e){var t=this.throttle_types[e];t&&t.obj&&(this[t.obj.name].call(this,t.obj.html,e),t.obj=null)},show_notification:function(e,t,i){if(!this.__active&&!i)return this.queue.push({html:e,type:t}),void 0;if(!this.throttle(t,e,"show_notification"))return!1;if(!this.blocked_types[t]){var s=$u.tpl2el(e),o=new $t(this.add_appear_class);this.notifications_el.insertBefore(s,this.notifications_el.firstChild),this.send_notification_stat(t,$p.CommonStatsEventType.COMMON_EVENT_SHOW),$e.add(s,"click",this.on_notification_click.bind(this,t)),o.set(this._dom_timeout,s),this._timers.push(o),t+=this._unicity++,this.remove_el("ovls",t),this.register_opened(s,"ovls",t),B.fire("sound:play","notify")}},on_notification_click:function(e){var t;return t=$el.has($e.element($e.e),"js-notification-close")?$p.CommonStatsEventType.COMMON_EVENT_DISMISS:$p.CommonStatsEventType.COMMON_EVENT_CLICK,this.send_notification_stat(e,t),!0},send_notification_stat:function(e,t){var i=(new $p.ServerAppStats).setInAppNotificationStats((new $p.InAppNotificationStats).setEventType(t).setNotificationId(e).setScreen(B.ClientSourceHelper.getSourceForState()));new $gpb.Rpc($p.MessageType.SERVER_APP_STATS,i).request()},show_notification_dust:function(e,t,i){this.show_notification($u.dust.render(this.notification_tpl,e),t,i)},add_appear_class:function(e){$el.add(e,"show")},show_message:function(e,t){if(!this.throttle(t,e,"show_message"))return!1;if(this.connections_el){if(!e)return this.remove_el("msgs",t);if(!this._is_any_connection){var i=this.empty_el.parentNode.cloneNode(!1),s=this.empty_el.cloneNode(!1);this._slot_tpl=i.cloneNode(!1),$el.dom.replace(this.slots[t],i),this.slots[t]=i,this.opened_items.msgs[t]={el:s},$el.add(s,"js-notification-wrap"),$el.add(this.empty_el.parentNode,"hidden"),this._is_any_connection=!0}var o=$u.tpl2el(e),n=$el.down(o,".js-notification-wrap");this.replace_msg(t,n),B.fire("sound:play","notify")}},find_opened:function(e){for(var t in this.opened_items)for(var i in this.opened_items[t])if(this.opened_items[t][i]&&this.opened_items[t][i].el==e)return this.opened_items[t][i]},replace_msg:function(e,t){var i=this.opened_items.msgs[e],s=this.slots[e];if($el.has(s,"notify-placeholder")){var o=this._slot_tpl?this._slot_tpl.cloneNode(!1):this.empty_el.parentNode.cloneNode(!1);$el.dom.replace(s,o),s=this.slots[e]=o}if($el.del(s,"hidden"),i){var n=i.el;$el.add(n,"hide"),new $t(this.change_elements.bind(this,n,t,e)).set(this._animation_time),i.timer&&this.opened_items.msgs[e].timer.clear(),this.opened_items.msgs[e]=null}else $el.dom.append(s,t),$el.add(t,"show");this.register_opened(t,"msgs",e)},change_elements:function(e,t,i){var s=this.slots[i];$el.add(t,"hide"),$el.remove(e),$el.dom.append(s,t),$el.del(t,"hide"),$el.del(s,"hidden")},remove_el:function(e,t){var i=this.opened_items[e][t];if(i&&(this.close(i.el),i.timer&&this.opened_items[e][t].timer.clear(),this.opened_items[e][t]=null,"msgs"==e)){this._is_any_connection=!1;for(var s in this.opened_items.msgs)this.opened_items.msgs[s]&&(this._is_any_connection=!0)}},register_opened:function(e,t,i){if(this.opened_items[t][i]={el:e},"ovls"==t){var s=$el.down(e,".js-notification-close");this.opened_items[t][i].timer=new $t(this.close.bind(this,s)).set(1e4)}},finish_remove:function(e){var t=$el.up(e,".js-notification-slot");t&&($el.add(t,"hidden"),this._is_any_connection||$el.del(this.empty_el.parentNode,"hidden")),$el.remove(e)},close:function(e){var t=$el.has(e,"js-notification-wrap")?e:$el.up(e,".js-notification-wrap"),i=this.find_opened(t),s=new $t(this.finish_remove,this);i&&i.timer&&(i.timer.clear(),i=null),$el.has(e,"js-notification-close")||$el.add(e,"hide"),s.set(this._animation_time,t),this._timers.push(s)},quick_close:function(e){this.finish_remove($el.up(e,".js-notification-wrap"))},link_open:function(e){this.quick_close(e);var t=e.getAttribute("data-user-id"),i=e.getAttribute("data-notification-type");("visitors"!=i||t!=B.IM.Link.getChatUserId())&&B.App.app_link(e.rel,e.getAttribute("href"))},ovl_open:function(e){this.close(e),B.Ovl.open_el(e)},chat_open:function(e){var t=e.getAttribute("data-user-id");B.fire("chat:start",t),this.quick_close(e)},_cleanup_timers:function(){for(var e;e=this._timers.pop();)e.clear()}}),B.InterestsCommon||(B.InterestsCommon=new $class({add_url:null,remove_url:null,refresh_url:null,add_request:null,remove_request:null,INTEREST_COUNT:10,constructor:function(){B.on({"app:init":this.init,"app:statechange":this.reinit},this)},reinit:function(){this.destroy(),this.init()},init:function(){this.$e=$e.on({".js-interests-remove,* .js-interests-remove":this.remove_interest_click},this),this.$B=B.on({"app:vars-changed":this.configure,"interests-add":this.add_interest,"interests-refresh":this.refresh_interests},this)},destroy:function(){$e.un(this.$e),B.un(this.$B),this.add_url=this.remove_url=this.refresh_url=null},configure:function(){$config(this,$clone($vars[this.name]))},get_blocks:function(){for(var e,t,i=[],s=$el.select(".js-interests-board"),o=0;o<s.length;o++)e=s[o],t={type:e.getAttribute("data-interests-type")},e.hasAttribute("data-interests-user-id")&&(t.user_id=e.getAttribute("data-interests-user-id")),i.push(t);return i},update_blocks:function(e){for(var t,i,s=$el.select(".js-interests-board"),o=0;o<s.length;o++){t=s[o],i=t.getAttribute("data-interests-type");for(var n=0;n<e.length;n++)if(e[n].type==i){$el.dom.html(t,e[n].html);break}}},_on_interest_change:function(e){"Interests.UpdateInterests"==e.$gpb&&(e.interests_cnt==this.INTEREST_COUNT&&B.fire("update_msgs"),this.update_blocks(e.blocks))},remove_interest_click:function(e){this.remove_interest(e.getAttribute("data-interests-id"))},remove_interest:function(e){var t=this.remove_url||"/profile/0"+B.Session.getUserId()+"/ws/interests/rm";this.remove_request=new $r(t,{method:"post",params:{json_data:JSON.stringify({id:e,blocks:this.get_blocks()})},ready:this._on_interest_change},this)},add_interest:function(e){var t=this.add_url||"/profile/0"+B.Session.getUserId()+"/ws/interests/add";this.add_request=new $r(t,{method:"post",params:{json_data:JSON.stringify({id:e,blocks:this.get_blocks()})},ready:this._on_interest_change},this)},refresh_interests:function(){var e=this.refresh_url||"/profile/0"+B.Session.getUserId()+"/ws/interests/more";this.refresh_request=new $r(e,{method:"post",params:{json_data:JSON.stringify({blocks:this.get_blocks()})},ready:this._on_interest_change},this)}})),B.OvlQueue||(B.OvlQueue=new $class({name:"OvlQueue",popups:null,hashes:null,popups_visible:!1,is_ovl_loading:!1,constructor:function(){this.popups=[],this.hashes={},this.is_ovl_loading=!1,this.$b=B.on({"ovl:open":this.unlock,"ovl:preclose":this.unlock,"ovl_queue:push":this.push,"ovl:close":this.next},this)},destroy:function(){this.popups=null,B.un(this.$b)},push:function(e,t){void 0===t&&(t={});var i=t.hash;i&&this.hashes[i]||(this.hashes[i]=!0,this.popups.push(e),this.next(t.im_as_popup))},next:function(e){if(this.popups_visible=!!this.popups.length,!(B.Ovl.is_visible()||this.is_ovl_loading||e&&B.IM.Link.opened)&&this.popups_visible){var t=this.popups.shift();this.is_ovl_loading=!0,setTimeout(B.Ovl.open.bind(B.Ovl,t),0)}},unlock:function(){this.is_ovl_loading=!1}})),B.PromoNotify=new $class({constructor:function(){B.on({"app:init":this.init,"app:statechange":this.init},this)},init:function(){var e=$vars.PromoNotify;e&&B.HoN_v3.Notification.show_notification(e.html,"promo")}}),B.HoN_v3.ModeratedPhotoManager||(B.HoN_v3.ModeratedPhotoManager=new $class({name:"ModeratedPhotoManager",_app_state:{state:"moderated",url:"/{uid}/photos/moderated"},constructor:function(){B.Push.on(B.Push.Type.NOTIFICATION,this._on_notification,this)},mark_as_seen:function(){B.HoN_v3.App.Manager.cleanStash()},get_continue_state:function(){return B.HoN_v3.App.Manager.getContinueState()},_on_notification:function(e){var t=$gpb.namespace("badoo.bma");if(e&&e.getType()===t.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_PHOTOS_MODERATED&&B.App.state!==this._app_state.state){var i=$u.tpl(this._app_state.url,{uid:B.Session.getLogin()});B.HoN_v3.App.Manager.stashState(this._app_state.state,i)}}})),B.HoN_v3.MailteamPromosManager||(B.HoN_v3.MailteamPromosManager=new $class({name:"MailteamPromosManage",_app_state:{trouble:{state:"promo-email-trouble",url:"/promo/email-trouble"},problem:{state:"promo-email-problem",url:"/promo/email-problem"},spamNotify:{state:"promo-email-spam-notify",url:"/promo/email-spam-notify"}},notification:{},constructor:function(){B.Push.on(B.Push.Type.NOTIFICATION,this._on_notification,this)},mark_as_seen:function(e){B.HoN_v3.App.Manager.cleanStash(),B.HoN_v3.ClientNotification.Manager.sendConfirmation(e)},get_continue_state:function(){return B.HoN_v3.App.Manager.getContinueState()},getNotification:function(e){return this.notification[e]},_on_notification:function(e){e&&e.getType()===$p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_EMAIL_TROUBLE&&B.App.state!==this._app_state.trouble.state?(this.notification.emailTrouble=e,B.HoN_v3.App.Manager.stashState(this._app_state.trouble.state,this._app_state.trouble.url)):e&&e.getType()===$p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_EMAIL_IN_SPAM&&B.App.state!==this._app_state.spamNotify.state?(this.notification.spamNotify=e,B.HoN_v3.App.Manager.stashState(this._app_state.spamNotify.state,this._app_state.spamNotify.url)):e&&e.getType()===$p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_EMAIL_PROBLEM&&B.App.state!==this._app_state.problem.state&&(this.notification.emailProblem=e,B.HoN_v3.App.Manager.stashState(this._app_state.problem.state,this._app_state.problem.url))}})),B.HoN_v3.EmptyPhotosManager||(B.HoN_v3.EmptyPhotosManager=new $class({name:"EmptyPhotosManager",storage_name:"empty-photos-page",constructor:function(){B.on("user:photo_count",this.onGetPhotoCount,this)},onGetPhotoCount:function(e){0!==e||$u.sessionStorage.getItem(this.storage_name)||($u.sessionStorage.setItem(this.storage_name,1),B.App.app_link("promo-empty-photo","/empty-photos"))}})),B.HoN_v3.Clipboard||(B.HoN_v3.Clipboard=new $class({isEnabled:!1,ALLOWED_UAS:["cr","ie10","ie11","edge"],constructor:function(){-1!==this.ALLOWED_UAS.indexOf($u.ua)&&(this.isEnabled=!0)},copy:function(e){if(this.isEnabled){var t=document.createRange(),i=window.getSelection();t.selectNodeContents(e),i.removeAllRanges(),i.addRange(t),document.execCommand("copy"),i.removeAllRanges()}}})),B.HoN_v3.CurrentUser=new $class($u.Observable,{name:"CurrentUser",constructor:function(){$super(this,arguments)},remove_photo:function(e){var t=(new $p.String).setValue(e);new $gpb.Rpc($p.MessageType.SERVER_DELETE_PHOTO,t).on($p.MessageType.CLIENT_ALBUM,this._remove_photo_ready.bind(this,e),this).request()},_remove_photo_ready:function(e,t){t?this.fire("photo_removing_error",t,e):this.fire("photo_removed",e)}}),B.ClientSourceHelper=new $class({getSourceForState:function(){var e={index:null,mm:$p.ClientSource.CLIENT_SOURCE_ENCOUNTERS,visitors:$p.ClientSource.CLIENT_SOURCE_VISITORS,fans:$p.ClientSource.CLIENT_SOURCE_FANS,credits:$p.ClientSource.CLIENT_SOURCE_CREDITS,"profile-view":$p.ClientSource.CLIENT_SOURCE_OTHER_PROFILE,moderated:null,popularity:$p.ClientSource.CLIENT_SOURCE_POPULARITY,"profile-edit":$p.ClientSource.CLIENT_SOURCE_MY_PROFILE,settings:$p.ClientSource.CLIENT_SOURCE_SETTINGS,"fb-photo-import-on-signup":null,not_found:null,error:null,hot_help:null,search:$p.ClientSource.CLIENT_SOURCE_PEOPLE_NEARBY,"spp-promo":$p.ClientSource.CLIENT_SOURCE_SPP_PROMO,update:null},t=B.HoN_v3.App.Manager.stateController.rootController;switch(B.App.state){case"big-photo-view":return B.HoN_v3.BigPhoto.View.controller._is_own()?$p.ClientSource.CLIENT_SOURCE_MY_PHOTOS:$p.ClientSource.CLIENT_SOURCE_OTHER_PROFILE_PHOTOS;case"hotlist":switch(t.folderId){case $p.FolderTypes.FRIENDS_HOT_LIST:return $p.ClientSource.CLIENT_SOURCE_FRIENDS_HOT_LIST;case $p.FolderTypes.UNIVERSITY_HOT_LIST:return $p.ClientSource.CLIENT_SOURCE_UNIVERSITY_HOT_LIST;case $p.FolderTypes.LOCAL_HOT:return $p.ClientSource.CLIENT_SOURCE_LOCAL_HOT;default:return $p.ClientSource.CLIENT_SOURCE_UNSPECIFIED}case"favorites":switch(t.currentSectionId){case t.FAVORITED_YOU_SECTION_ID:return $p.ClientSource.CLIENT_SOURCE_FAVOURITED_YOU;
case t.YOUR_FAVORITES_SECTION_ID:return $p.ClientSource.CLIENT_SOURCE_FAVOURITES;default:return $p.ClientSource.CLIENT_SOURCE_UNSPECIFIED}default:return e[B.App.state]||$p.ClientSource.CLIENT_SOURCE_UNSPECIFIED}}}),function(){function e(e,s){return e.write('<div class="ovl-vip"> ').section(s.get(["_ALREADY_VIP_USER"],!1),s,{block:t},{}).write(' <div class="ovl-vip__title"> ').reference("title",s,["s"]).write(" </div> ").section(s.get(["FEATURES"],!1),s,{block:i},{}).write(" ").section(s.get(["NOT_VIP_BTN"],!1),s,{block:_},{}).write(" ").section(s.get(["SPP_FEATURES"],!1),s,{block:p},{}).write(' <div class="ovl-close"><i class="icon ico--grey ico--cross js-ovl-close"></i></div> </div>')}function t(e,t){return e.write(' <div class="ovl-vip__user"> <div class="brick brick--xlg disabled"> <div class="brick-img"><img src="').reference("user_photo",t).write('"></div> <mark class="brick brick--sm brick--stroke"> <div class="ico-feature ico-feature--vip"></div> </mark> </div> </div> ')}function i(e,t){return e.write(' <div class="vip-features').section(t.get(["_FEMALE"],!1),t,{block:s},{}).section(t.get(["_MALE"],!1),t,{block:o},{}).section(t.get(["_ANY"],!1),t,{block:n},{}).write('"> ').section(t.get(["VIP_FEATURE"],!1),t,{block:a},{}).write("<!-- -->").section(t.get(["VIP_FEATURE_EVERY"],!1),t,{block:r},{}).write("<!-- -->").section(t.get(["VIP_FEATURE_TOP"],!1),t,{block:l},{}).write(" </div> ")}function s(e){return e.write(" vip-features--female")}function o(e){return e.write(" vip-features--male")}function n(e){return e.write(" vip-features--any")}function a(e,t){return e.write('<!-- --><div class="vip-feature"> <div class="vip-feature__figure vip-feature__figure--beautiful"></div> <div class="xx-large vip-feature__title">').reference("TEXTBLOCK_header",t,["s"]).write('</div> <span class="grey">').reference("TEXTBLOCK_description",t).write("</span> </div><!-- -->")}function r(e,t){return e.write('<!-- --><div class="vip-feature"> <div class="vip-feature__figure vip-feature__figure--every"> <div class="brick brick--xxlg"> <div class="brick-img"><img src="').reference("user_photo",t).write('"></div> </div> </div> <div class="xx-large vip-feature__title">').reference("TEXTBLOCK_header",t,["s"]).write('</div> <span class="grey">').reference("TEXTBLOCK_description",t).write("</span> </div><!-- -->")}function l(e,t){return e.write('<!-- --><div class="vip-feature"> <div class="vip-feature__figure vip-feature__figure--top"> <div class="brick brick--xxlg"> <div class="brick-img"><img src="').reference("user_photo",t).write('"></div> </div> </div> <div class="xx-large vip-feature__title">').reference("TEXTBLOCK_header",t,["s"]).write('</div> <span class="grey">').reference("TEXTBLOCK_description",t).write("</span> </div> ")}function _(e,t){return e.write(' <div class="ovl-vip__btn"> <div class="btn btn--lg btn--black"> <i class="ico ico--lg ico--color ico--vip"></i> <span class="btn-txt">Become a VIP member now!</span> <span class="b-link js-vip-purchase" data-reg="').reference("stat_event",t).write('" data-ovl-type="payment" data-ovl-url="').reference("payment_url",t).write('"></span> </div> </div> ')}function p(e){return e.write(' <div class="large"> <i class="inline ico-feature ico-feature--spp"></i> <b class="inline vip-feature__spp-info">All Super Power features are included</b> </div> ')}return $u.dust.register("vip/popup.vip-promo",e),e.s={_ALREADY_VIP_USER:t,FEATURES:i,NOT_VIP_BTN:_,SPP_FEATURES:p},i.s={_FEMALE:s,_MALE:o,_ANY:n,VIP_FEATURE:a,VIP_FEATURE_EVERY:r,VIP_FEATURE_TOP:l},e}(),B.HoN_v3.VipOvlView=$class(B.DustView,{template:"vip/popup.vip-promo",setTitle:function(e){return this.set({title:e})},setVip:function(e,t){return this.set({_ALREADY_VIP_USER:e&&{user_photo:t}})},setNotVip:function(e,t){return this.set({NOT_VIP_BTN:!e&&{stat_event:t,payment_url:""}})},setGender:function(e){return this.set({_FEMALE:e===$p.SexType.FEMALE,_MALE:e===$p.SexType.MALE,_ANY:e.length>1})},setFeature:function(e,t){return this.set({FEATURES:{VIP_FEATURE:this.getFeature(e[0]),VIP_FEATURE_EVERY:this.getFeature(e[1]),VIP_FEATURE_TOP:this.getFeature(e[2])},SPP_FEATURES:t})},getFeature:function(e){var t=e.getPictures();return{TEXTBLOCK_header:e.getHeader(),TEXTBLOCK_description:e.getMssg(),user_photo:t?t[0].getDisplayImages():null}}}),B.Ovl.Vip=new $class(B.Ovl.View,{name:"Ovl.Vip",type:"vip"}),$gpb.exists("badoo.bma.ClientPaidVipPromo","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientPaidVipPromo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientPaidVipPromo",t.prototype._descriptor={fields:{promos:{type:11,type_name:"badoo.bma.PromoBlock",number:2,label:3},search_settings:{type:11,type_name:"badoo.bma.SearchSettings",number:3,label:1},paid_vip_feature:{type:11,type_name:"badoo.bma.ApplicationFeature",number:1,label:1}}}}(),B.HoN_v3.Vip=new $class({data:null,type:null,from_button:null,constructor:function(){this.data={},$e.on({".js-vip-button":this.onButton,".js-vip-purchase":this.onPurchase},this),B.on({"vip:open":this.onEvent},this),$r.comet.on({"vip:change_status":this.vipUpdate_ct},this),$u.broadcast.on({"vip:change_status":this.vipUpdate},this)},vipUpdate_ct:function(e){$u.broadcast.send("vip:change_status",e),this.vipUpdate(e)},vipUpdate:function(e){B.fire("vip:change_status",e)},sendStats:function(e){var t=(new $p.ServerAppStats).setVipStats((new $p.VipStats).setEvent($p.VipStatsEvent[e]));new $gpb.Rpc($p.MessageType.SERVER_APP_STATS,t).request()},onButton:function(){this.from_button=!0,this.open()},onEvent:function(e){"promo"===e&&this.sendStats("VIP_STATS_EVENT_WHATS_NEW_SHOWN"),this.type=e,this.open()},onPurchase:function(e){this.sendStats(e.getAttribute("data-reg")),B.Ovl.open({type:"payment",url:"/billing/vip-ws.phtml?activation_place=160"})},open:function(){var e=(new $p.ServerGetUser).setUserId(B.Session.getUserId()).setUserFieldFilter((new $p.UserFieldFilter).setProjection([$p.UserField.USER_FIELD_PROFILE_PHOTO])).setClientSource($p.ClientSource.CLIENT_SOURCE_UNSPECIFIED);new $gpb.Rpc($p.MessageType.SERVER_GET_USER,e).on($p.MessageType.CLIENT_USER,this.onClientUser,this).request(),new $gpb.Rpc($p.MessageType.SERVER_GET_PAID_VIP_PROMO,null).on($p.MessageType.CLIENT_PAID_VIP_PROMO,this.onClientPaidVipPromo,this).request(),B.HoN_v3.Models.Cache.EncounterSettingsCache.fetch(this.onClientEncounterSettings,this)},onClientPaidVipPromo:function(e,t){return e?!1:(this.data.promo=t,this.openOvl(),void 0)},onClientEncounterSettings:function(e){this.data.settings=e.getSettings(),this.openOvl()},onClientUser:function(e,t){return e?!1:(this.data.user=t,this.openOvl(),void 0)},openOvl:function(){if(!this.data.promo||!this.data.user||!this.data.settings)return!1;var e=B.Features.getFeature("ALLOW_SUPER_POWERS"),t=this.data.user.getProfilePhoto(),i=this.data.promo,s=this.data.settings.getGender(),o=i.getPromos(),n=i.getPaidVipFeature(),a="promo"===this.type?"VIP_STATS_EVENT_WHATS_NEW_PURCHASE_CLICK":"VIP_STATS_EVENT_PROMO_DISABLED_PURCHASE_CLICK",r=n.getEnabled();this.vip_ovl_view||(this.vip_ovl_view=new B.HoN_v3.VipOvlView),this.from_button&&this.sendStats(r?"VIP_STATS_EVENT_PROMO_ENABLED_SHOWN":"VIP_STATS_EVENT_PROMO_DISABLED_SHOWN"),s=s.length>1?s:s[0];var l=!e.getEnabled()&&!r;this.vip_ovl_view.setTitle(n.getDisplayTitle()).setGender(s).setFeature(o,l).setVip(r,t.getPreviewUrl()).setNotVip(r,a),B.Ovl.open({html:this.vip_ovl_view,type:"vip"}),this.data={},this.type=null,this.from_button=null}}),$l.register({section:"hon/gifts",lang:"en-us",translations:{GIFT_SECTION:["Regular gifts","Premium gifts","Luxury gifts"],GIFT_NAMES:{0:" ",1:"Rainbow",2:"Smiley",3:"Coffee",4:"Bee",5:"Ladybug",6:"Rose",7:"Bouquet",8:"Football",9:"Trophy",10:"Chocolate",11:"Balloons",12:"Ice cream",13:"Beer",14:"Love letter",15:"Bikini",16:"Wine",17:"Champagne",18:"Kiss",19:"Teddy bear",20:"Candy heart",21:"Burning heart",22:"Car",23:"Ring",24:"Crown",25:"Ruby heart",26:"Heart glasses",36:"Pumpkin",27:"Dumbbell",28:"Lollipop",29:"Fan",30:"Cherry",31:"Banana",32:"Cake",33:"Carrots",35:"1st prize",1000:"+20",37:"Santa",38:"Rudolph",39:"Stocking",40:"Gingerbread man",41:"Snowman",42:"Christmas tree",43:"Candy cane",44:"Ornament",45:"Wreath",46:"Christmas candle",47:"Tasty chocolate bunny",48:"Colourful Easter egg",49:"Cute Easter chick",50:"Sweet Easter candies",51:"Luxury Easter egg",52:"Bright Easter basket",309:"Watch",310:"Credit card",311:"Phone",312:"Bouquet",313:"Expensive purse",314:"Perfume",315:"Puppy"}}}),B.HoN_v3.GiftsHelper||(B.HoN_v3.GiftsHelper=new $class({TITLES:$l.get("hon/gifts","GIFT_NAMES"),SECTIONS:$l.get("hon/gifts","GIFT_SECTION"),SECTIONS_MAP:{1:"popular",2:"romantic",3:"friendship",4:"framed"},MESSAGE_MAX_CHARS:40,getSectionNameById:function(e){switch(e){case 8:return this.SECTIONS["2"];case 9:return this.SECTIONS["1"];case 10:return this.SECTIONS["0"]}},getExperimentalGiftName:function(e){var t=e.split("/"),i=t[t.length-1].split(".")[0];return i},getGiftTitle:function(e){return this.TITLES[e]||""},getSections:function(e){for(var t=e.getSectionIds(),i=[],s=0;s<t.length;s++)i.push(this.SECTIONS_MAP[t[s]]);return i.join(" ")}})),!B.Controls.Select){switch(B.Controls.Select=$class(B.Controls.BaseControl,{name:"Controls.Select",label_el:null,value_el:null,reset_el:null,drop_direction:null,expanded:!1,disabled:!1,options:null,value:"",placeholder:"",click_in_progress:!1,init:function(){$super(this,arguments),this.label_el=this.get_element(this.wrap_el,"label"),this.value_el=this.get_element(this.wrap_el,"value"),this.options_el=this.get_element(this.wrap_el,"options"),this.reset_el=this.get_element(this.wrap_el,"reset"),this.drop_direction=this.wrap_el.getAttribute("data-drop-direction"),this.value_el&&(this.value=this.value_el.value,this.toggle_value()),this.label_el&&(this.placeholder=this.label_el.hasAttribute("data-placeholder")?this.label_el.getAttribute("data-placeholder"):this.label_el.innerHTML),$el.has(this.wrap_el,"autowidth")&&this.autowidth(),$e.add(this.focus_el,"click",this.on_click,this),$e.add(this.focus_el,"keydown",this.on_keydown,this),$e.add(this.focus_el,"keypress",this.on_keypress,this),this.reset_el&&$e.add(this.reset_el,"click",this.reset,this),this.init_options(),this.is_disabled()&&this.disable(),this.is_active()&&this.expand()},destroy:function(){this.destroy_options(),$e.del(this.focus_el,"click",this.on_click,this),$e.del(this.focus_el,"keydown",this.on_keydown,this),$e.del(this.focus_el,"keypress",this.on_keypress,this),this.reset_el&&$e.del(this.reset_el,"click",this.reset,this),this.label_el=this.value_el=this.options_el=reset_el=this.drop_direction=null,$super(this,arguments)},get_element:function(e,t){switch(t){case"focus":case"label":return $el.down(e,".select-label");case"options":return $el.down(e,".select-options");case"value":return $el.down(e,".select-value");case"reset":return $el.down(e,".js-control-reset")}},create_options:function(e){return new B.Controls.SelectOptions({wrap_el:e})},init_options:function(){this.options=this.create_options(this.options_el),this.options.on({change:this.change,click:this.options_click,mousedown:this.options_mousedown,mouseup:this.options_mouseup,updated:this.correct_options_position,"raw-search":this.options_raw_search},this)},destroy_options:function(){this.options&&(this.options.destroy(),this.options=null)},enable:function(){this.disabled&&(this.disabled=!1,this.toggle_disabled(!1))},disable:function(){this.disabled||(this.expanded&&this.collapse(),this.disabled=!0,this.toggle_disabled(!0),this.toggle_focus(!1))},is_disabled:function(){return $el.has(this.wrap_el,"disabled")},is_active:function(){return $el.has(this.wrap_el,"active")},focus:function(){this.disabled||this.click_in_progress||(this.focus_el&&this.focus_el.focus(),$super(this,arguments))},blur:function(){this.click_in_progress||($super(this,arguments),this.expanded&&this.collapse(),this.fire("blur"))},expand:function(){this.expanded||this.disabled||(this.correct_options_position(),this.toggle_active(!0),this.options.expand(this.value),this.expanded=!0)},collapse:function(){this.expanded&&(this.options.collapse(),this.toggle_active(!1),this.expanded=!1)},set_selected_by_index:function(e){var t=this.options.options[e];this.set_label(t.label||t.text),this.set_value(t.value)},change:function(e){this.value!==e.value&&(this.set_label(e.label),this.set_value(e.value),this.fire("change",e.value,this.options.index_by_option(e)))},set_value:function(e){this.value!=e&&(this.value=e,this.value_el&&(this.value_el.value=e,$e.fire(this.value_el,"change")),this.toggle_value())},make_label:function(e){return null===e||void 0===e?this.placeholder:e},set_label:function(e){this.label_el.innerHTML=this.make_label(e),$el.tgl(this.label_el,"placeholder",!e)},reset:function(){this.disabled||(this.set_value(""),this.set_label(),this.options.reset(),this.fire("reset"))},search:function(e){this.options.search(e)},autowidth:function(){this.toggle_active(!0);var e,t=this.wrap_el.cloneNode(!0),i=$el.create("div",{className:"hidden_container"});document.body.appendChild(i),i.appendChild(t),e=$el.down(t,".select-options").offsetWidth,document.body.removeChild(i),this.wrap_el.style.width=e+"px",this.toggle_active(!1)},correct_options_position:function(){switch(this.drop_direction){case"down":return this.toggle_drop_up(!1);case"up":return this.toggle_drop_up(!0)}this.toggle_drop_up(!1);var e=$el.viewport_height(),t=e+$el.scroll_top(),i=this.options_el.getBoundingClientRect().top+$el.scroll_top()+this.options_el.offsetHeight,s=t-i;this.toggle_drop_up(0>s)},get_top_el:function(){return this.label_el.getBoundingClientRect().top<=this.options_el.getBoundingClientRect().top?this.label_el:this.options_el},toggle_active:function(e){$el.tgl(this.wrap_el,"active",e)},toggle_drop_up:function(e){$el.tgl(this.options_el,"bc",!e),$el.tgl(this.options_el,"tc",e)},toggle_disabled:function(e){$el.tgl(this.wrap_el,"disabled",e)},toggle_value:function(){$el.tgl(this.wrap_el,"value",!!this.value)},options_click:function(){this.collapse()},options_mousedown:function(){this.click_in_progress=!0},options_mouseup:function(){this.click_in_progress=!1,this.focus()},options_raw_search:function(){this.fire("raw-search")},on_keydown:function(){var e=$e.key($e.e);switch(e){case 13:if(this.expanded)return this.options.enter(),this.collapse(),!1;break;case 27:if(this.expanded)return this.collapse(),!1;break;case 32:return this.expanded||this.expand(),!0;case 38:return this.options.up(this.value,this.expanded),!1;case 40:return this.options.down(this.value,this.expanded),!1}return!0},on_keypress:function(){var e=$e.key($e.e),t=0===$e.e.charCode,i=32==e;return!t||i?(this.search(String.fromCharCode(e)),!1):!0},on_click:function(){this.disabled||(this.expanded?this.collapse():this.expand())}}),B.Controls.SelectOptions_Base=$class($u.Observable,{name:"Controls.SelectOptions_Base",wrap_el:null,scroll_el:null,options_el:null,options:null,hovered_option:null,selected_option:null,selected_index:-1,letter_mode:null,expanded:!1,search_reset_t:null,search_str:"",scrollbar:null,constructor:function(e){$super(this,arguments),$config(this,e),this.init()},init:function(){this.options_el=$el.down(this.wrap_el,".options"),$el.down(this.wrap_el,".scroll")||B.Controls.Scrollbar.wrap_block(this.options_el),this.scroll_el=$el.down(this.wrap_el,".scroll"),this.options=this.get_options(),this.search_reset_t=new $t(this.search_reset,this,1200)},destroy:function(){this.search_reset_t.clear(),this.wrap_el=this.scroll_el=this.options=this.search_reset_t=null,this.options_el=null},get_option_text:function(e){return e.innerHTML},get_options:function(){for(var e,t,i,s=[],o=$el.select(this.options_el,".option"),n=0;n<o.length;n++)e=o[n],i=this.get_option_text(e),t={el:e,value:e.getAttribute("data-value"),text:i,text_lower:i.toLowerCase(),label:e.getAttribute("data-label")||i,disabled:$el.has(e,"disabled")},s.push(t);return s},set_options:function(e){this.options_el.innerHTML=e,this.options=this.get_options()},expand:function(e){this.collapse_transition&&(this.collapse_transition.clear(),this.collapse_cleanup()),this.expanded=!0,this.scrollbar=new B.Controls.Scrollbar(this.scroll_el),$e.add(this.wrap_el,"mouseover",this.on_mousemove,this),$e.add(this.wrap_el,"mousedown",this.on_mousedown,this);var t;t=e?this.option_by_value(e):this.option_by_class("hover"),t&&(this.hover(t),this.select(t),this.scroll_to(t)),this.render()},collapse:function(){this.hovered_option=this.selected_option=null,this.render(),$e.del(this.wrap_el,"mouseover",this.on_mousemove,this),$e.del(this.wrap_el,"mousedown",this.on_mousedown,this),this.collapse_transition=$u.transition.wait(this.wrap_el,this.collapse_cleanup,this),this.expanded=!1},collapse_cleanup:function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=this.collapse_transition=null)},reset:function(){this.hovered_option=this.selected_option=null,this.render()},search:function(e){var t=e.toLowerCase();this.search_str+=t,this.letter_mode=null==this.letter_mode||this.letter_mode&&this.search_str[0]==t?!0:!1;var i,s,o=this.options,n=o.length;this.letter_mode?(i=this.selected_index+1,i=n>i?i:0,s=function(e,t){return e[0]==t[0]}):(i=this.selected_index,s=function(e,t){return 0===t.indexOf(e)}),i&&(o=o.slice(i).concat(o.slice(0,i)));for(var a=0;n>a;a++)if(s(this.search_str,o[a].text_lower)){this.search_done((i+a)%n);break}this.search_reset_t.set()},search_done:function(e){var t=this.options[e];this.selected_index=e,this.hover(t),this.select(t),this.render(),this.scroll_to(t),this.change(t)},search_reset:function(){this.letter_mode=null,this.search_str=""},enter:function(){this.hovered_option?this.change(this.hovered_option):this.fire("raw-search")},up:function(e,t){this[t?"move":"move_and_change"](e,-1)},down:function(e,t){this[t?"move":"move_and_change"](e,1)},shift_index:function(e,t){return e+=t,0>e&&(e=0),e>=this.options.length&&(e=this.options.length-1),e},find_next_option:function(e,t){var i;if(1==this.options.length)return i=this.options[0],i.disabled?null:i;e=this.shift_index(e,t);for(var s=t>0?this.options.length-1:0;;){if(i=this.options[e],!i.disabled)return i;if(e=this.shift_index(e,t),t>0){if(e>s)break}else if(s>e)break}},move:function(e,t){if(this.options.length){var i;i=this.hovered_option?this.index_by_option(this.hovered_option):e?this.index_by_option(this.option_by_value(e)):-1;var s=this.find_next_option(i,t);return s&&(this.hover(s),this.select(s),this.render(),this.scroll_to(s)),s}},move_and_change:function(e,t){var i=this.move(e,t);i&&this.change(i)},scroll_to:function(e){var t=$el.down(this.wrap_el,".scroll_"),i=t.scrollTop,s=i+t.offsetHeight,o=e.el.offsetTop,n=o+e.el.offsetHeight;i>o?t.scrollTop=o:n>s&&(t.scrollTop+=n-s)},option_by_value:function(e){for(var t,i=0;i<this.options.length;i++)if(t=this.options[i],t.value==e)return t},option_by_el:function(e){$el.has(e,"option")||(e=$el.up(e,".option"));for(var t,i=0;i<this.options.length;i++)if(t=this.options[i],t.el==e)return t},option_by_class:function(e){for(var t,i=0;i<this.options.length;i++)if(t=this.options[i],$el.has(t.el,e))return t},index_by_option:function(e){for(var t=0;t<this.options.length;t++)if(this.options[t]==e)return t;return-1},hover:function(e){e&&!e.disabled&&(this.hovered_option=e)},select:function(e){this.selected_option=e},click:function(e){this.fire("click",e)},change:function(e){this.fire("change",e)},render:function(){for(var e,t=0;t<this.options.length;t++)e=this.options[t],$el.tgl(e.el,"hover",e==this.hovered_option),$el.tgl(e.el,"selected",e==this.selected_option),$el.tgl(e.el,"disabled",e.disabled)},on_mousedown:function(){return $e.add(document.body,"mouseup",this.on_mouseup,this),this.fire("mousedown"),!0},on_mouseup:function(e){$e.del(document.body,"mouseup",this.on_mouseup,this),this.fire("mouseup");var t=this.option_by_el(e);return t&&(t.disabled||(this.change(t),this.click())),!0},on_mousemove:function(e){this.hover(this.option_by_el(e)),this.render()}}),B.Controls.SelectOptions_IE=$class(B.Controls.SelectOptions_Base,{name:"Controls.SelectItems_IE",expand:function(){$super(this,arguments),$e.add(this.wrap_el,"selectstart",this.on_selectstart,this)},collapse:function(){$e.del(this.wrap_el,"selectstart",this.on_selectstart,this),$super(this,arguments)},on_selectstart:function(){return!1}}),$u.ua){case"ie10":case"ie11":B.Controls.SelectOptions=B.Controls.SelectOptions_IE;break;default:B.Controls.SelectOptions=B.Controls.SelectOptions_Base}$c.register("select",B.Controls.Select)}if(!B.Controls.DataList){switch(B.Controls.DataListOptions=$class(B.Controls.SelectOptions,{name:"Controls.DataListOptions",url:"",transport:null,request_timer:null,cache:null,constructor:function(){$super(this,arguments),this.request_timer=new $t(this.try_request,this,250),this.cache={"":{q:"",locations:this.options_el.innerHTML,default_item:!0}}},destroy:function(){this.destroy_transport(),this.request_timer.clear(),this.request_timer=this.cache=null,$super(this,arguments)},destroy_transport:function(){this.transport&&(this.transport.abort(),this.transport=null)},collapse:function(){this.request_timer.clear(),$super(this,arguments)},get_option_text:function(e){return e.innerText||e.textContent},reset:function(){this.ready(this.cache[""],!0)},set_options:function(e){this.cache[""].locations=e,$super(this,arguments),this.reset()},select:function(){},search:function(e){var t=e.length<2;return t?(this.ready(this.cache[""]),void 0):(this.search_str=e,this.request_timer.set(),void 0)},move_and_change:function(e,t){this.move(e,t)},try_request:function(){var e=this.cache[this.search_str];e?this.ready(e):(this.destroy_transport(),this.request(this.search_str))},request:function(e){this.transport=new $r(this.url,{auto:!1,ready:this.ready,error:this.error},this),this.transport.request({q:e})},ready:function(e,t){this.cache[e.q]=e;var i=!1;this.expanded&&(this.collapse(),i=!0),this.options_el.innerHTML=e.locations,this.options=this.get_options(),i&&this.expand(),t||this.fire("updated",this.options.length,e.default_item)},error:function(){}}),B.Controls.DataList=$class(B.Controls.Select,{name:"Controls.DataList",input_el:null,expand_if_empty:!0,init:function(){this.input_el=this.get_element(this.wrap_el,"input"),$super(this,arguments),this.options.on({updated:this.options_updated},this),this.toggle_default(!this.value),$e.add(this.input_el,"input",this.input_change,this)},destroy:function(){$e.del(this.input_el,"input",this.input_change,this),this.input_el=null,$super(this,arguments)},reset:function(){$super(this,arguments),this.toggle_empty(!1),this.toggle_default(!0),this.toggle_can_reset(!1)},toggle_disabled:function(e){$super(this,arguments),this.input_el.disabled=e},get_element:function(e,t){switch(t){case"input":case"focus":case"label":return $el.down(e,".input");case"options":return $el.down(e,".datalist");case"value":for(var i=$el.select(e,"input"),s=0;s<i.length;s++)if("hidden"==i[s].type)return i[s];break;case"hint":return $el.down(e,".datalist-hint")}return $super(this,arguments)},create_options:function(e){return new B.Controls.DataListOptions({wrap_el:e,url:this.wrap_el.getAttribute("data-url")})},set_label:function(e){this.input_el.value=this.make_label(e)},autowidth:function(){},on_keydown:function(){var e=$e.key($e.e);switch(e){case 32:return!0;case 38:return this.expanded?$super(this,arguments):(this.expand(),!1);case 40:return this.expanded?$super(this,arguments):(this.expand(),!1)}return $super(this,arguments)},on_keypress:function(){return!0},search:function(){$super(this,arguments),this.toggle_can_reset(!!this.input_el.value)},input_change:function(e){this.search(e.value),this.value&&(this.set_value(""),this.fire("change",null,-1))},options_updated:function(e,t){this.after_search(!!e),this.toggle_empty(!e),this.toggle_default(t),this.fire("options_updated",e)},after_search:function(e){this.expand_if_empty?this.expanded||this.expand():this.expanded?e||this.collapse():e&&this.expand()},toggle_empty:function(e){$el.tgl(this.wrap_el,"empty",e)},toggle_default:function(e){$el.tgl(this.wrap_el,"default",e)},toggle_can_reset:function(e){$el.tgl(this.wrap_el,"reset",e)}}),$u.ua){case"ie10":case"ie11":B.Controls.DataList=$class(B.Controls.DataList,{name:"Controls.DataList_IE10_IE11",_skip_input_change:!1,_blur_t:0,init:function(){this._skip_input_change=!0,$super(this,arguments),setTimeout(this._input_event_hack.bind(this),250)},destroy:function(){this._reset_blur_t(),$super(this,arguments)},focus:function(){$super(this,arguments),this.input_el.placeholder&&(this._skip_input_change=!0)},blur:function(){$super(this,arguments),this._reset_blur_t()},input_change:function(){return this._skip_input_change?(this._skip_input_change=!1,void 0):(this._reset_blur_t(),this._blur_t=setTimeout(function(e,t){e(this,t),this._reset_blur_t()}.bind(this,$super,arguments),50),void 0)},_reset_blur_t:function(){this._blur_t&&clearTimeout(this._blur_t),this._blur_t=0},_input_event_hack:function(){this._skip_input_change=!1}})}$c.register("data-list",B.Controls.DataList)}B.Controls.LocationList||(B.Controls.LocationList=$class(B.Controls.DataList,{name:"Controls.LocationList",global_collapse_time:0,local_collpase_time:0,hint_el:null,supress_expand:!1,init:function(){this.hint_el=this.get_element(this.wrap_el,"hint"),$super(this,arguments),B.on("hack:loc-ovl:done",this.on_ovl_done,this),B.on("hack:loc-ovl:closed",this.on_ovl_closed,this),this.hint_el&&this.hint_el.getAttribute("data-value")&&$e.add(this.hint_el,"click",this.hint_click,this)},destroy:function(){this.hint_el&&(this.hint_el.getAttribute("data-value")&&$e.del(this.hint_el,"click",this.hint_click,this),this.hint_el=null),B.un("hack:loc-ovl:done",this.on_ovl_done,this),B.un("hack:loc-ovl:closed",this.on_ovl_closed,this),$super(this,arguments)},set_options:function(e){this.options.set_options(e)},set_hint:function(e){this.hint_el.innerHTML=e},get_element:function(e,t){switch(t){case"hint":var i=$el.down(e,".js-location-list-hint");if(i)return i}return $super(this,arguments)},focus:function(){$super(this,arguments),$el.select_all(this.input_el)},collapse:function(){var e=+new Date;B.Controls.LocationList.global_collapse_time=e,this.local_collpase_time=e,this.supress_expand=!1,$super(this,arguments)},on_ovl_done:function(e,t){this.local_collpase_time==B.Controls.LocationList.global_collapse_time&&(this.input_el.focus(),this.change({value:e,text:t,label:t}),this.search(t),this.supress_expand=!0)},on_ovl_closed:function(){this.local_collpase_time==B.Controls.LocationList.global_collapse_time&&this.input_el.focus()},after_search:function(){return this.supress_expand?(this.supress_expand=!1,void 0):($super(this,arguments),void 0)},hint_click:function(e){this.change({value:e.getAttribute("data-value"),label:e.getAttribute("data-label")})}}),$c.register("location-list",B.Controls.LocationList)),B.Controls.SearchPeople||(B.Controls.SearchPeople=$class(B.Controls.BaseControl,{name:"Controls.SearchPeople",min_symbols:2,init:function(){$super(this,arguments),this.input_el=$el.down(this.wrap_el,".js-search-people-input"),$e.add(this.input_el,"input",this.input,this)},destroy:function(){$e.del(this.input_el,"input",this.input,this),this.input_el=this.val=this.changed=null,$super(this,arguments)},clear:function(){this.input_el.value="",this.val="",this.toggle_loading(!1),this.toggle_empty(!1)},toggle_loading:function(e){$el.tgl(this.wrap_el,"loading",e)},toggle_empty:function(e){$el.tgl(this.wrap_el,"reset",e)},input:function(e){if(0===e.value.length&&this.fire("cancel"),e.value.length<this.min_symbols)return!1;var t=$e.key($e.e);switch(t){case 27:this.fire("cancel");break;case 32:return!1}return this.toggle_empty(!0),this.val===e.value?!1:(this.val=e.value,this.toggle_loading(!0),this.fire("search",this.val),void 0)}}),$c.register("search-people",B.Controls.SearchPeople)),B.Controls.InterestsList||(B.Controls.InterestsList=$class(B.Controls.DataList,{name:"Controls.InterestsList",link_el:null,data_block_el:null,suggest_url:"",search_mode:!1,init:function(){this.link_el=this.get_element(this.wrap_el,"link"),this.data_block_el=this.get_element(this.wrap_el,"hint"),this.suggest_url=this.wrap_el.getAttribute("data-suggest-url"),this.search_mode=this.wrap_el.hasAttribute("data-search-mode"),$super(this,arguments),this.options.on({"ovl-url-updated":this.ovl_url_updated,addable:this.show_add_block,"not-addable":this.hide_add_block},this),this.$b=B.on({"interests-refresh":this.reset},this)},destroy:function(){this.link_el=this.data_block_el=null,B.un(this.$b),$super(this,arguments)},set_value:function(e){$super(this,arguments),""===e&&this.collapse(),e&&(this.search_mode?B.fire("search:interest-add",e):B.fire("interests-add",e),this.reset(),this.focus())},get_element:function(e,t){switch(t){case"link":return $el.down(e,".js-interests-list-ovl-link")}return $super(this,arguments)},create_options:function(e){return new B.Controls.InterestsListOptions({wrap_el:e,url:this.suggest_url})},ovl_url_updated:function(e,t){this.link_el.setAttribute("data-ovl-url",e),this.link_el.innerHTML=t,this.show_add_block()},hide_add_block:function(){$el.add(this.data_block_el,"hidden")},show_add_block:function(){$el.del(this.data_block_el,"hidden")}}),B.Controls.InterestsListOptions=$class(B.Controls.DataListOptions,{name:"Controls.InterestsListOptions",ready:function(e){"add_interest_ovl_url"in e?this.fire("ovl-url-updated",e.add_interest_ovl_url,e.text):"default_item"in e?this.fire("addable"):this.fire("not-addable"),$super(this,arguments),e.q&&delete this.cache[e.q]}}),$c.register("interests-list",B.Controls.InterestsList)),B.Controls.Score||(B.Controls.Meter||($u.ScaleDisplay=$class({gradientPattern_:null,gradientImage_:null,pixelRatio_:1,animStartTime_:null,animLabelBar_:null,animLabelDisplay_:null,canvas_:null,context_:null,labelContainer_:null,currentFrameCount_:null,idleTime_:0,GAP_ANGLE_:.4,canvasSupported_:$u.is_canvas_supported(),options:{size:100,reverse:!1,counterclockwise:!1,gradientImage:"",lineWidth:14,elementClassName:"",label:0,showLabel:!0,animationLength:0,percentComplete:0,barAnimation:!1,labelIncrement:!1,labelIncrementFrameSkip:3,labelEffectClass:null,labelEffectDelay:1,parentElement:null,style:null},constructor:function(e){this.options=$config({},$u.ScaleDisplay.prototype.options),this.update(e)},init:function(){this.checkOptions_(),this._paused=null,this.currentFrameCount_=0,this.pixelRatio_=window.devicePixelRatio?window.devicePixelRatio:1,this.canvasSupported_&&("#"==this.options.gradientImage[0]?(this.gradientPattern_=this.options.gradientImage,this.render(),this.options.autorun&&this.beginAnimation()):(this.onReady=function(){this.options.autorun&&(this.render(),this.beginAnimation())},this.gradientImage_=new Image,$e.add(this.gradientImage_,"load",this.onGradientLoaded_,this),this.gradientImage_.src=this.options.gradientImage))},destroy:function(){this.gradientImage_&&$e.del(this.gradientImage_,"load",this.onGradientLoaded_,this),this.gradientPattern_=this.gradientImage_=this.animStartTime_=this.canvas_=this.context_=this.labelContainer_=this.options=null},_setDefaults:function(){this.gradientPattern_=null,this.gradientImage_=null,this.pixelRatio_=1,this.animStartTime_=null,this.animLabelBar_=0,this.animLabelDisplay_=0,this.canvas_=null,this.context_=null,this.labelContainer_=null,this.currentFrameCount_=0},checkOptions_:function(){"string"==typeof this.options.parentElement&&(this.options.parentElement=$el.down(document,this.options.parentElement)),null===this.options.style&&(this.options.style=$u.ScaleDisplay.STYLES.LIGHT)},render:function(){if(!this.options.parentElement)throw"Attempt to render when no parent defined";this.canvas_=$el.create("canvas",{width:this.options.size*this.pixelRatio_,height:this.options.size*this.pixelRatio_,className:"scale-display "+this.options.elementClassName,style:"width: "+this.options.size+"px; height: "+this.options.size+"px;"}),this.options.parentElement.appendChild(this.canvas_),this.labelContainer_=$el.create("b",{className:"scale-value"}),this.options.parentElement.appendChild(this.labelContainer_),this.context_=this.canvas_.getContext("2d"),0===this.options.animationLength&&this.setUpStatic_()
},update:function(e){this.options=$config(this.options,e),e&&this.checkOptions_()},setAnimationTimeLeft:function(e){var t=parseInt(this.options.animationLength,10),i=this.animationTimeLeft_+this.animStartTime_;this.options.animationLength=Math.round(t+e-i-this.idleTime_),this._paused||window.requestAnimationFrame(this.setUpNextFrame_.bind(this))},beginAnimation:function(){this.animLabelBar_=this.animLabelDisplay_=0,this.animStartTime_=null,this.draw_(0),window.requestAnimationFrame(this.setUpNextFrame_.bind(this))},start:function(){this._paused!==!0&&(this.idleTime_+=+new Date-this.animStopTime_,this._paused=!1,window.requestAnimationFrame(this.setUpNextFrame_.bind(this)))},stop:function(){this._paused||(this.animStopTime_=+new Date,this._paused=!0)},getStep_:function(e,t,i,s){return this.options.barAnimation(e,t,i,s)},getLabelStep_:function(e){return this.options.labelAnimation(e)},getGradient_:function(){if(!this.gradientPattern_){var e=this.gradientImage_,t=$el.create("canvas",{width:this.options.size*this.pixelRatio_,height:this.options.size*this.pixelRatio_}),i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height,0,0,this.options.size*this.pixelRatio_,this.options.size*this.pixelRatio_),this.gradientPattern_=this.context_.createPattern(t,"no-repeat")}return this.gradientPattern_},setUpStatic_:function(){this.animLabelBar_=this.animLabelDisplay_=0;var e=this.options.staticValue||this.options.label.toFixed(2),t=this.options.label.toFixed(2);e!==t?$el.add(this.labelContainer_,"no-dps"):$el.del(this.labelContainer_,"no-dps"),this.labelContainer_.innerHTML=$u.escapeHTML(this.options.showLabel?e:""),this.draw_(this.options.label)},draw_:function(e){var t=this.options,i=this.context_,s=t.size*this.pixelRatio_,o=t.size/2*this.pixelRatio_,n=o,a=t.noGap?0:this.GAP_ANGLE_,r=(t.size/2-t.lineWidth/2)*this.pixelRatio_,l=Math.PI+Math.PI/2-a,_=-Math.PI/2+a,p=(l-_)*(e/100),c=t.counterclockwise?l-p:_+p;i.clearRect(0,0,s,s),i.beginPath(),i.arc(o,n,r,_,l,!1),i.strokeStyle=this.options.style,i.lineWidth=t.lineWidth*this.pixelRatio_,i.lineCap="round",i.stroke(),i.beginPath(),t.counterclockwise?i.arc(o,n,r,c,l,!1):i.arc(o,n,r,_,c,!1),i.strokeStyle=this.getGradient_(),i.stroke()},setUpNextFrame_:function(e){var t=this.options;if(t){null==this.animStartTime_&&(this.animStartTime_=e);var i=e-this.animStartTime_-this.idleTime_,s=this.getStep_(i,t.percentComplete,t.label,t.animationLength),o=this.getLabelStep_(s);this.options.reverse&&(s=100-s),this.animationTimeLeft_=t.animationLength-e,i<t.animationLength&&(!t.percentComplete||i/t.animationLength<1-t.percentComplete/100)?(t.showLabel&&1===this.currentFrameCount_&&(this.labelContainer_.innerHTML=$u.escapeHTML(o)),this.currentFrameCount_=this.currentFrameCount_>=t.labelIncrementFrameSkip?1:++this.currentFrameCount_,this.draw_(s),this._paused||window.requestAnimationFrame(this.setUpNextFrame_.bind(this))):(this.setUpStatic_(),t.onAnimationReady&&t.onAnimationReady(this)),i>t.animationLength*t.labelEffectDelay&&"string"==typeof t.labelEffectClass&&$el.add(this.labelContainer_,t.labelEffectClass)}},onGradientLoaded_:function(){this.gradientPattern_=null,this.onReady&&this.onReady()},defaultTiming:function(e,t,i,s){return(e/=s)<1/2.75?7.5625*i*e*e+t:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},defaultLabelTiming:function(e,t,i,s){return i*Math.sqrt(1-(e=e/s-1)*e)+t},linearTiming:function(e,t,i,s){return t+i*(e/s)}}),$u.ScaleDisplay.STYLES={LIGHT:"#ccc",DARK:"#171A1F",TRANSPARENT:"transparent"},$u.ScaleDisplay.ANIMATION_TIMINGS={NONE:!1,LINEAR:$u.ScaleDisplay.prototype.linearTiming,BOUNCE:$u.ScaleDisplay.prototype.defaultTiming,EXPONENTIAL:$u.ScaleDisplay.prototype.defaultLabelTiming},B.Controls.Meter=$class(B.Controls.BaseControl,{name:"Controls.Meter",_display:null,_cfg:null,init:function(){$super(this,arguments),this._create_config(),this.restart()},destroy:function(){this._display&&this._display.destroy(),this.wrap_el=this._display=this._cfg=null,$super(this,arguments)},_create_config:function(){var e=this.config,t=function(){return""};return this._cfg={autorun:!0,size:e.size||100,lineWidth:e.line_width||10,label:parseInt(e.value||0,10),gradientImage:e.background,staticValue:" ",barAnimation:$u.ScaleDisplay.ANIMATION_TIMINGS.EXPONENTIAL,labelAnimation:t,animationLength:e.timing||2e3,style:$u.ScaleDisplay.STYLES[(e.style||"LIGHT").toUpperCase()],counterclockwise:e.counterclockwise,parentElement:this.wrap_el}},restart:function(e){return $u.is_canvas_supported()?($el.remove($el.down(this.wrap_el,".scale-value")),$el.remove($el.down(this.wrap_el,"canvas")),e&&(this._cfg=$config(this._cfg,e)),this._display?this._display.update(this._cfg):this._display=new $u.ScaleDisplay(this._cfg),this._display.init(),this._display):void 0}}),$c.register("meter",B.Controls.Meter,!0)),B.Controls.Score=$class(B.Controls.Meter,{name:"Controls.Score",_create_config:function(){var e=this.config,t=parseFloat(e.score),i=(e.format,parseInt(e.digits_count,10)),s=e.delimiter;return this._cfg={autorun:!0,size:e.size||100,lineWidth:e.line_width||10,label:10*t,gradientImage:e.background,staticValue:$u.format.float(t,s,i),barAnimation:$u.ScaleDisplay.ANIMATION_TIMINGS.EXPONENTIAL,labelAnimation:function(e){return $u.format.float(e/10,s,i)}.bind(this),counterclockwise:e.counterclockwise,animationLength:e.timing||2e3,style:$u.ScaleDisplay.STYLES[(e.style||"LIGHT").toUpperCase()],parentElement:this.wrap_el}},restart:function(e){return $u.is_canvas_supported()?(this.wrap_el.innerHTML="",e&&(this._cfg=$config(this._cfg,e)),this._display?this._display.update(this._cfg):this._display=new $u.ScaleDisplay(this._cfg),this._display.init(),this._display):void 0},setTimerLeft:function(e){this._display&&this._display.setAnimationTimeLeft(e)}}),$c.register("score",B.Controls.Score,!0)),B.Controls.DatePicker||(B.Controls.DatePicker=$class(B.Controls.BaseControl,{name:"Controls.DatePicker",disabled:!1,expanded:!1,day:null,month:null,year:null,collapse_timer_delay:10,date_format:"d.m.y",formater:{mask:/([A-z]+)/g,get:function(e,t){return e.replace(this.mask,function(e,i){return i in t?t[i]:i})}},init:function(){$super(this,arguments),this.calendar=this.get_element("calendar"),this.day_el=$el.down(this.wrap_el,".js-date-day-input"),this.value_el=$el.down(this.wrap_el,".js-date-value-input"),this.value_el.readOnly=!0,this.days_el=$el.down(this.wrap_el,".js-date-days-container"),this.days_list=$el.select(this.days_el,".js-date-day"),$e.add(this.days_el,"mousedown",this.select_day,this),this.select_month=$c.get($el.down(this.wrap_el,".js-date-month-select"),"select"),this.month_$e=this.select_month.on({change:this.select_month_change,focus:this.select_month_focus,blur:this.select_month_blur},this),this.select_year=$c.get($el.down(this.wrap_el,".js-date-year-select"),"select"),this.year_$e=this.select_year.on({change:this.select_year_change,focus:this.select_year_focus,blur:this.select_year_blur},this),this.collapse_timer=new $t(this.collapse,this,this.collapse_timer_delay),this.date_format=this.config.format||this.date_format,this._set_date({day:this.day_el.value,month:this.select_month.value,year:this.select_year.value})},destroy:function(){$e.del(this.days_el,"click",this.select_day,this),this.select_month.un(this.month_$e),this.select_month.destroy(),this.select_month=null,this.select_year.un(this.year_$e),this.select_year.destroy(),this.select_year=null,$super(this,arguments)},get_days_count:function(e,t){return 1==e||3==e||5==e||7==e||8==e||10==e||12==e?31:4==e||6==e||9==e||11==e?30:t%4==0&&t%100!=0||t%400==0?29:28},_set_date:function(e){var t=+e.year||this.year,i=+e.month||this.month,s=Math.min(+e.day||this.day,this.get_days_count(i,t));(s!=this.day||i!=this.month||t!=this.year)&&(this.year=t,this.month=i,this.day=s,this.redraw_days(),this.draw_date())},get_date:function(){return{day:this.day,month:this.month,year:this.year}},draw_date:function(){this.value_el.value=this.formater.get(this.date_format,{d:(this.day<10?"0":"")+this.day,m:(this.month<10?"0":"")+this.month,y:this.year})},redraw_days:function(){var e=this.get_days_count(this.month,this.year);$el.del($el.down(this.days_el,".active"),"active");for(var t=1;31>=t;t++)$el.tgl(this.days_list[t-1],"hidden",t>e);$el.add($el.up(this.days_list[this.day-1],"td"),"active")},get_element:function(e){switch(e){case"focus":return $el.down(wrap_el,".js-date-value-input");case"calendar":return $el.down(this.wrap_el,".calendar")}},toggle_focus:function(e){$el.tgl(this.wrap_el,"focus",e)},focus:function(){this.disabled||($super(this,arguments),this.expand(),this.collapse_timer.clear(),this.fire("focus"))},blur:function(){$super(this,arguments),this.collapse_timer.set()},toggle_expanded:function(e){$el.tgl(this.wrap_el,"active",e)},is_expanded:function(){return $el.has(this.wrap_el,"active")},expand:function(){this.expanded||this.disabled||(this.toggle_expanded(!0),this.correct_options_position(),this.expanded=!0)},collapse:function(){this.expanded&&(this.toggle_expanded(!1),this.expanded=!1)},correct_options_position:function(){switch(this.drop_direction){case"down":return this.toggle_drop_up(!1);case"up":return this.toggle_drop_up(!0)}this.toggle_drop_up(!1);var e=$el.viewport_height(),t=e+$el.scroll_top(),i=this.wrap_el.getBoundingClientRect().top+this.wrap_el.offsetHeight+$el.scroll_top()+this.calendar.offsetHeight,s=t-i;this.toggle_drop_up(0>s)},toggle_drop_up:function(e){$el.tgl(this.wrap_el,"drop-up",e)},select_day:function(e){return $el.has(e,"js-date-day")&&this._set_date({day:e.getAttribute("data-value")}),!0},select_month_change:function(e){this._set_date({month:e})},select_month_focus:function(){this.collapse_timer.clear()},select_month_blur:function(){this.collapse_timer.set()},select_year_change:function(e){this._set_date({year:e})},select_year_focus:function(){this.collapse_timer.clear()},select_year_blur:function(){this.collapse_timer.set()}}),$c.register("date-picker",B.Controls.DatePicker)),B.Controls.TelephoneNumber||(B.Controls.TelephoneNumber=$class(B.Controls.BaseControl,{name:"Controls.TelephoneNumber",wrap_el:null,select:null,input_el:null,select_$e:null,init:function(){$super(this,arguments),this.input_el=this.get_element(this.wrap_el,"input"),this.select=$c.get($el.down(this.wrap_el,".js-tel-country-code"),"select"),this.select_$e=this.select.on({focus:this.focus,blur:this.blur},this)},destroy:function(){this.select._subscribers&&this.select.un(this.select_$e),this.input_el=this.select=this.select_$e=null,$super(this,arguments)},get_element:function(e,t){switch(t){case"input":case"focus":return $el.down(e,".js-tel-national")}}}),$c.register("tel-number",B.Controls.TelephoneNumber)),B.Controls.Popup||(B.Controls.Popup=$class(B.Controls.BaseControl,{name:"Controls.Popup",window_width:750,window_height:600,param_tpl:"width={width}, height={height}",wnd_name:null,button_el:null,init:function(){$super(this,arguments),this.wnd_name="popup_"+ +new Date,this.button_el=this.get_element(this.wrap_el,"button"),$e.add(this.button_el,"click",this._click,this)},destroy:function(){this.params=this.wnd=this.wnd_name=null,$e.del(this.button_el,"click",this._click,this),this.button_el=null,$super(this,arguments)},get_element:function(e,t){switch(t){case"button":return e}},set_param:function(e,t){this.params=this.params||{},this.params[e]=t},_get_url:function(){var e=this.config.url_tpl;return this.params&&(e=$u.tpl(e,this.params)),e},_get_wnd_features:function(){var e={width:+this.config.width||this.window_width,height:+this.config.height||this.window_height};return $u.tpl(this.param_tpl,e)},_open_popup:function(){var e,t;e=this._get_url(),t=this._get_wnd_features(),this.wnd=window.open(e,this.wnd_name,t)},_click:function(){return this._open_popup(),!0}}),$c.register("popup",B.Controls.Popup)),B.Controls.UploadOverlayBase||(B.Controls.UploadOverlayBase=$class(B.Controls.BaseControl,{button_el:null,init:function(){$super(this,arguments),this.button_el=this.get_element(this.wrap_el,"button"),$e.add(this.button_el,"click",this.click,this)},destroy:function(){$e.del(this.button_el,"click",this.click,this),this.button_el=this.get_element(this.wrap_el,"button"),$super(this,arguments)},get_element:function(e,t){switch(t){case"button":return e}},get_ovl_config:function(){return this.config},click:function(){var e=this.get_ovl_config();return e.click_stats_url&&new $r(e.click_stats_url,{method:"get"}),B.Upload2.UploadOverlayController.open(e.type,null,e.source||null),!0}})),$c.register("upload-overlay",B.Controls.UploadOverlayBase),B.Controls.Counter||(B.Controls.Counter=$class(B.Controls.BaseControl,{name:"Controls.Counter",DEFAULT_VALUE:0,value:null,tpl:'<div class="counter__num {disable}"><b class="counter__up current">{current}</b><b class="counter__down current">{current}</b><b class="counter__up next">{next}</b><b class="counter__down next">{next}</b></div>',init:function(){$super(this,arguments);var e="skip_animation"in this.config;this.value=this.config.value||this.DEFAULT_VALUE,this.draw(0,this.value,!e)},destroy:function(){this.value=null,$super(this,arguments)},update:function(e){"number"==typeof e&&this.value!=e&&(this.draw(this.value,e,!0),this.value=e)},draw:function(e,t,i){i&&this.animate(!1),t=t.toString().split("").reverse(),e=e.toString().split("").reverse();for(var s="",o=t.length-1;o>=0;o--)s+=$u.tpl(this.tpl,{current:e[o]||0,next:t[o],disable:e[o]==t[o]?"disable":""});this.wrap_el.innerHTML=s,i&&this.animate(!0)},animate:function(e){$el.tgl(this.wrap_el,"active",e)}}),$c.register("counter",B.Controls.Counter,!0)),B.TooltipManager||(B.TooltipManager=new $class($u.Observable,{name:"TooltipManager",body_wrapper:null,tooltip_el:null,tooltip_parent:null,tooltip_el_clone:null,mouse_on_tooltip:null,map:{l:"r",r:"l",t:"b",b:"t"},constructor:function(){$super(this,arguments),B.on({"app:init":this.init},this)},init:function(){this.run_show=$t.debounce(this.show,100,this),this.run_hide=$t.debounce(this.hide,100,this),this.body_wrapper=$el.create("div",{className:"js-tooltip"}),document.body.appendChild(this.body_wrapper),B.on("ovl:prerender",this.cleanup,this)},show_with_debounce:function(e,t){this.mouse_on_tooltip||(this.tooltip_el=e,this.tooltip_parent=t,this.run_show())},hide_with_debounce:function(){if(this.tooltip_el_clone&&this.tooltip_el_clone.contains($e.e.relatedTarget))$e.add(this.tooltip_el_clone,"mouseleave",this.mouse_leave_from_tooltip,this),$e.add(this.tooltip_el_clone,"click",this.mouse_leave_from_tooltip,this);else{if(this.tooltip_parent&&"mouseleave"==$e.e.type&&this.tooltip_parent==$e.e.relatedTarget)return this.mouse_on_tooltip=!0,void 0;this.mouse_on_tooltip=null,$el.del(this.tooltip_parent,"hovered"),this.run_hide()}},mouse_leave_from_tooltip:function(){return $e.del(this.tooltip_el_clone,"click",this.mouse_leave_from_tooltip,this),$e.del(this.tooltip_el_clone,"mouseleave",this.mouse_leave_from_tooltip,this),this.hide(),!0},set_default_position:function(e,t){e.className.match(/\b[tblr][lcrtb]\b/)||(e.className+=" "+t)},check_viewport:function(e){var t=e.getBoundingClientRect(),i=[];return t.top<0&&i.push("t"),document.documentElement.offsetHeight-t.top-t.height<0&&i.push("b"),t.left<0&&i.push("l"),document.documentElement.offsetWidth-t.left-t.width<0&&i.push("r"),i},set_body_wrapper:function(e){var t=e.getBoundingClientRect();this.body_wrapper.style.top=t.top+$el.scroll_top()+"px","rtl"===$el.dir()?this.body_wrapper.style.right=document.documentElement.offsetWidth-t.right+document.documentElement.getBoundingClientRect().left+"px":this.body_wrapper.style.left=t.left+$el.scroll_left()+"px",this.body_wrapper.style.width=t.width+"px",this.body_wrapper.style.height=t.height+"px"},set_position:function(e,t){for(var i=e.split(""),s=0;s<t.length;s++){var o=i.indexOf(t[s]);-1==o&&(o=1),i[o]=this.map[t[s]]}return i.join("")},render:function(e,t){var i=e.className,s=this.check_viewport(e);s&&(i=i.replace(/\b[tblr][lcrtb]\b/,function(e){return this.set_position(e,s)}.bind(this))),this.tooltip_el_clone.className=i,this.set_body_wrapper(t)},show:function(){this.hiding_tooltip&&(this.hiding_tooltip.clear(),this.cleanup()),this.tooltip_el_clone&&this.cleanup(),this.run_show.clear(),$e.add(this.tooltip_parent,"wheel",this.cleanup,this),this.tooltip_el_clone=this.tooltip_el.cloneNode(!0),this.render(this.tooltip_el,this.tooltip_parent),this.body_wrapper.appendChild(this.tooltip_el_clone),$u.reflow(this.tooltip_el_clone),$el.add(this.body_wrapper,"active")},hide:function(){return this.tooltip_el_clone?($el.del(this.body_wrapper,"active"),this.hiding_tooltip||(this.hiding_tooltip=$u.transition.wait(this.tooltip_el_clone,this.cleanup,this)),void 0):!1},cleanup:function(){return this.tooltip_el_clone&&($el.del(this.body_wrapper,"active"),this.body_wrapper.innerHTML="",$e.del(this.tooltip_parent,"wheel",this.cleanup,this)),this.tooltip_el_clone=this.hiding_tooltip=null,this.fire("tooltip_hidden"),!0}})),B.Controls.BaseTooltip||(B.Controls.BaseTooltip=$class(B.Controls.BaseControl,{name:"Controls.BaseTooltip",els_config:{tooltip:"tc",datalist:"bc"},container_el:null,init:function(){$super(this,arguments)},destroy:function(){this.hide(),$super(this,arguments)},show:function(){B.TooltipManager.show_with_debounce(this.get_tooltip(),this.container_el)},hide:function(){B.TooltipManager.hide_with_debounce()},set_container:function(e){this.container_el=e},get_tooltip:function(){for(var e in this.els_config){var t=$el.down(this.container_el,"."+e);if(t){B.TooltipManager.set_default_position(t,this.els_config[e]);break}}return t}})),B.Controls.HoverTooltip||(B.Controls.HoverTooltip=$class(B.Controls.BaseTooltip,{name:"Controls.HoverTooltip",$b:null,init:function(){$super(this,arguments),$e.add(this.wrap_el,"mouseenter",this.show,this),$e.add(this.wrap_el,"mouseleave",this.hide,this),this.container_el=this.wrap_el},show:function(){$super(this,arguments),$el.add(this.container_el,"hovered")},destroy:function(){$e.del(this.wrap_el,"mouseenter",this.show,this),$e.del(this.wrap_el,"mouseleave",this.hide,this),$super(this,arguments)}}),$c.register("tooltip",B.Controls.HoverTooltip,!1,!0)),B.Controls.ClickableTooltip||(B.Controls.ClickableTooltip=$class(B.Controls.BaseTooltip,{name:"Controls.ClickableTooltip",init:function(){$super(this,arguments),$e.add(window,"resize",this.hide,this),B.on("app:statechange",this.hide,this)},show:function(){$super(this,arguments),$e.on("__all__",this.hide,this)},hide:function(){B.TooltipManager.hide(),$e.un("__all__",this.hide,this)},destroy:function(){$e.del(window,"resize",this.hide,this),B.un("app:statechange",this.hide,this),$super(this,arguments)}}),$c.register("tooltip-clickable",B.Controls.ClickableTooltip)),B.Controls.DropdownButton||(B.Controls.DropdownButton=$class(B.Controls.BaseControl,{name:"Controls.DropdownButton",has_click:null,tooltip_clickable:null,$b:null,init:function(){$super(this,arguments),this.tooltip_clickable=$c.get(this.get_element(this.wrap_el,"tooltip"),"tooltip-clickable"),this.tooltip_clickable.set_container(this.wrap_el),this.$b=B.TooltipManager.on("tooltip_hidden",this.hide_tooltip_by_click,this),$e.add(this.wrap_el,"click",this.show_tooltip_by_click,this)},destroy:function(){B.TooltipManager.un(this.$b),this.tooltip_clickable=null,$e.del(this.wrap_el,"click",this.show_tooltip_by_click,this),$super(this,arguments)},get_element:function(e,t){switch(t){case"tooltip":return $el.down(e,".js-dropdown-btn-tooltip")}},show_tooltip_by_click:function(){return this.has_click?(this.hide_tooltip_by_click(),void 0):(this.tooltip_clickable.show(),this.toggle(!0),this.has_click=!0,void 0)},hide_tooltip_by_click:function(){this.tooltip_clickable.hide(),this.toggle(!1),this.has_click=null},toggle:function(e){$el.tgl(this.wrap_el,"active",e)}}),$c.register("dropdown-btn",B.Controls.DropdownButton)),function(){function e(e,i){return e.section(i.get(["PAGES"],!1),i,{block:t},{})}function t(e,t){return e.write(' <div class="pagination"> ').section(t.get(["ITEM"],!1),t,{block:i},{}).write(" </div> ")}function i(e,t){return e.write(" ").section(t.get(["PREVIOUS_PAGE"],!1),t,{block:s},{}).write(" ").section(t.get(["NO_PREVIOUS_PAGE"],!1),t,{block:n},{}).write(" ").section(t.get(["DOTS"],!1),t,{block:a},{}).write(" ").section(t.get(["CURRENT_PAGE"],!1),t,{block:l},{}).write(" ").section(t.get(["OTHER_PAGE"],!1),t,{block:_},{}).write(" ").section(t.get(["NEXT_PAGE"],!1),t,{block:c},{}).write(" ").section(t.get(["NO_NEXT_PAGE"],!1),t,{block:d},{}).write(" ")}function s(e,t){return e.write(' <div class="btn btn--sm btn--white"><i class="icon ico--arrow-l"></i><span class="btn-txt">Prev.</span><a href="').reference("url",t).write('" class="b-link js-pages').section(t.get(["_APP"],!1),t,{block:o},{}).write('"></a></div> ')}function o(e,t){return e.write(' app" rel="').reference("rel",t)}function n(e){return e.write(' <div class="btn btn--sm btn--white disabled"><i class="icon ico--grey ico--arrow-l"></i><span class="btn-txt">Prev.</span></div> ')}function a(e,t){return e.write(' <div class="btn btn--sm btn--white btn--ico"><i class="icon ico--etc"></i><a href="').reference("url",t).write('" class="b-link js-pages').section(t.get(["_APP"],!1),t,{block:r},{}).write('"></a></div> ')}function r(e,t){return e.write(' app" rel="').reference("rel",t)}function l(e,t){return e.write(' <div class="btn btn--sm btn--blue btn--page active"><span class="btn-txt">').reference("page",t).write("</span></div> ")}function _(e,t){return e.write(' <div class="btn btn--sm btn--white btn--page"><span class="btn-txt">').reference("page",t).write('</span><a href="').reference("url",t).write('" class="b-link js-pages').section(t.get(["_APP"],!1),t,{block:p},{}).write('"></a></div> ')}function p(e,t){return e.write(' app" rel="').reference("rel",t)}function c(e,t){return e.write(' <div class="btn btn--sm btn--white"><span class="btn-txt">Next</span><i class="icon ico--arrow-r"></i><a href="').reference("url",t).write('" class="b-link js-pages').section(t.get(["_APP"],!1),t,{block:u},{}).write('"></a></div> ')}function u(e,t){return e.write(' app" rel="').reference("rel",t)}function d(e){return e.write(' <div class="btn btn--sm btn--white disabled"><span class="btn-txt">Next</span><i class="icon ico--grey ico--arrow-r"></i></div> ')}return $u.dust.register("components/block.pagination",e),e.s={PAGES:t},t.s={ITEM:i},i.s={PREVIOUS_PAGE:s,NO_PREVIOUS_PAGE:n,DOTS:a,CURRENT_PAGE:l,OTHER_PAGE:_,NEXT_PAGE:c,NO_NEXT_PAGE:d},s.s={_APP:o},a.s={_APP:r},_.s={_APP:p},c.s={_APP:u},e}(),B.HoN_v3.PagerView||(B.HoN_v3.PagerView=$class(B.DustView,{template:"components/block.pagination",PAGE_URL_TEMPLATE:"/{url}{page_param}",PAGE_PARAM_TEMPLATE:"/{page}",MAX_BUTTON_COUNT:8,DOTS_PAGE_DELTA:2,setData:function(e,t,i){for(var s,o={prev:this.buildPrevButton,next:this.buildNextButton,dots:this.buildDotsButton,current:this.buildCurrentButton,other:this.buildOtherButton},n=this.getItems(e,t),a=[],r=0;r<n.length;r++)s=n[r],a.push(o[s.type].call(this,s.page,i));return this.set("PAGES/ITEM",a)},getItems:function(e,t){if(2>t)return[];var i=Math.min(t,this.MAX_BUTTON_COUNT),s=e>1,o=t>e,n=2,a=this.MAX_BUTTON_COUNT,r=this.MAX_BUTTON_COUNT-2,l=this.MAX_BUTTON_COUNT-4,_=t>this.MAX_BUTTON_COUNT,p=_&&e>r,c=_&&t-e>l,u=0,d=e;if(p&&c){var b=Math.floor(this.MAX_BUTTON_COUNT/2)+1;u=e-b,d=b}else p&&(u=Math.min(e,t-this.MAX_BUTTON_COUNT),d=e-u);var h=[];h.push({type:"prev",page:s?e-1:void 0});for(var m,E=1,g=E+u;i>=E;E++,g++){switch(E){case d:m={type:"current",page:g};break;case n:m=p?{type:"dots",page:Math.max(g-this.DOTS_PAGE_DELTA,n)}:{type:"other",page:g};break;case a:m=c?{type:"dots",page:Math.min(g+this.DOTS_PAGE_DELTA,t)}:{type:"other",page:g};break;default:m={type:"other",page:p&&1==E?1:g}}h.push(m)}return h.push({type:"next",page:o?e+1:void 0}),h},getPageUrl:function(e,t){return $u.tpl(this.PAGE_URL_TEMPLATE,{url:t,page_param:1==e?"":$u.tpl(this.PAGE_PARAM_TEMPLATE,{page:e})})},getNumberedButton:function(e){return{page:e}},getAppLinkButton:function(e,t){return{url:this.getPageUrl(e,t),_APP:{rel:B.App.state}}},getPageLinkButton:function(e,t){return $config(this.getAppLinkButton(e,t),this.getNumberedButton(e))},buildPrevButton:function(e,t){return e?{PREVIOUS_PAGE:this.getAppLinkButton(e,t)}:{NO_PREVIOUS_PAGE:!0}},buildNextButton:function(e,t){return e?{NEXT_PAGE:this.getAppLinkButton(e,t)}:{NO_NEXT_PAGE:!0}},buildDotsButton:function(e,t){return{DOTS:this.getAppLinkButton(e,t)}},buildCurrentButton:function(e){return{CURRENT_PAGE:this.getNumberedButton(e)}},buildOtherButton:function(e,t){return{OTHER_PAGE:this.getPageLinkButton(e,t)}}})),function(){function e(e,i){return e.section(i.get(["_ONLINE_STATUS"],!1),i,{block:t},{}).section(i.get(["VERIFY_STATUS"],!1),i,{block:l},{}).section(i.get(["VIP_STATUS"],!1),i,{block:_},{}).section(i.get(["SPP_STATUS"],!1),i,{block:b},{}).section(i.get(["RISEUP_STATUS"],!1),i,{block:h},{}).section(i.get(["HOT_STATUS"],!1),i,{block:E},{}).section(i.get(["MOBILE_STATUS"],!1),i,{block:g},{})}function t(e,t){return e.write('<!-- --><i class="online-status').section(t.get(["_ONLINE"],!1),t,{block:i},{}).section(t.get(["_AWAY"],!1),t,{block:s},{}).section(t.get(["_OFFLINE"],!1),t,{block:o},{}).section(t.get(["_HIDDEN"],!1),t,{block:n},{}).section(t.get(["_TEMPLATE"],!1),t,{block:a},{}).write(' tooltip-wrap"').section(t.get(["_TOOLTIP"],!1),t,{block:r},{}).write("></i><!-- -->")}function i(e){return e.write(" online-status--online")}function s(e){return e.write(" online-status--away")}function o(e){return e.write(" online-status--offline")}function n(e){return e.write(" online-status--offline")}function a(e,t){return e.write(" ").reference("status",t)}function r(e,t){return e.write(' data-control-type="tooltip"><span class="tooltip"><span class="tooltip-txt">').reference("text",t).write("</span></span")}function l(e,t){return e.write('<!-- --><i class="inline ico ico--verify-tick tooltip-wrap" data-control-type="tooltip"> <span class="tooltip"><span class="tooltip-txt">').reference("verified_text",t).write("</span></span> </i><!-- -->")}function _(e,t){return e.write('<!-- --><i class="inline ico-feature ico-feature--sm ico-feature--color ico-feature--vip tooltip-wrap" data-control-type="tooltip"> <span class="tooltip"><span class="tooltip-txt"> ').section(t.get(["OWN_PROFILE"],!1),t,{block:p},{}).write(" ").section(t.get(["OTHER_PROFILE"],!1),t,{block:c},{}).write(' </span></span> <span class="b-link js-vip-button"></span> </i><!-- -->')}function p(e){return e.write("You're already a VIP member")}function c(e,t){return e.write(" ").section(t.get(["MALE"],!1),t,{block:u},{}).write(" ").section(t.get(["FEMALE"],!1),t,{block:d},{}).write(" ")}function u(e){return e.write("He is a VIP member")}function d(e){return e.write("She is a VIP member")}function b(e,t){return e.write('<!-- --><i class="inline ico-feature ico-feature--sm ico-feature--color ico-feature--spp tooltip-wrap" data-control-type="tooltip"> <span class="tooltip"><span class="tooltip-txt">').reference("text",t).write('</span></span> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("rel",t).write('"></a> </i><!-- -->')}function h(e,t){return e.write('<!-- --><i class="inline ico-feature ico-feature--sm ico-feature--color ico-feature--riseup tooltip-wrap" data-control-type="tooltip"> <span class="tooltip"><span class="tooltip-txt">Raised profile ').reference("rised",t).write("</span></span> ").section(t.get(["_LINK"],!1),t,{block:m},{}).write(" </i><!-- -->")}function m(e,t){return e.write('<span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span>')}function E(e,t){return e.write('<!-- --><i class="inline ico-feature ico-feature--sm ico-feature--color ico-feature--popular tooltip-wrap" data-control-type="tooltip"> <span class="tooltip"><span class="tooltip-txt">This user is extremely popular today!</span></span> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("rel",t).write('"></a> </i><!-- -->')}function g(e,t){return e.write('<!-- --><i class="inline ico-feature ico-feature--sm ico-feature--color ico-feature--mobile tooltip-wrap" data-control-type="tooltip"> <span class="tooltip"><span class="tooltip-txt"> Currently using ').reference("PAGE_partner_name",t).write(" on mobile\n</span></span> ").section(t.get(["_LINK"],!1),t,{block:f},{}).write(" </i><!-- -->")}function f(e,t){return e.write('<span class="b-link js-ovl-open" data-ovl-type="ovl" data-ovl-url="').reference("url",t).write('"></span>')}return $u.dust.register("components/block.user-status",e),e.s={_ONLINE_STATUS:t,VERIFY_STATUS:l,VIP_STATUS:_,SPP_STATUS:b,RISEUP_STATUS:h,HOT_STATUS:E,MOBILE_STATUS:g},t.s={_ONLINE:i,_AWAY:s,_OFFLINE:o,_HIDDEN:n,_TEMPLATE:a,_TOOLTIP:r},_.s={OWN_PROFILE:p,OTHER_PROFILE:c},c.s={MALE:u,FEMALE:d},h.s={_LINK:m},g.s={_LINK:f},e}(),$l.register({section:"spp_icon",lang:"en-us",translations:{SPP_TITLES:{MALE:"Super Powered Guy!",FEMALE:"Super Powered Girl!"}}}),$l.register({section:"hon/profile_header2",lang:"en-us",translations:{HON_HEADER:{HIS_INTERESTS:"his<br>interests",HER_INTERESTS:"her<br>interests",HIS_FRIENDS:"his<br>friends",HER_FRIENDS:"her<br>friends",YOUR_FRIENDS_MALE:"your<br>friends",YOUR_FRIENDS_FEMALE:"your<br>friends",YOUR_INTERESTS_MALE:"your<br>interests",YOUR_INTERESTS_FEMALE:"your<br>interests"},OTHERS_PROFILE_IS_VERIFIED:{MALE:"Profile is verified",FEMALE:"Profile is verified"},MY_PROFILE_IS_VERIFIED:{MALE:"Profile is verified",FEMALE:"Profile is verified"}}}),B.HoN_v3.ProfileHeaderIconsView=$class(B.DustView,{template:"components/block.user-status",setVerified:function(e,t){var i=t===$p.SexType.FEMALE?"FEMALE":"MALE",s=$l.get("hon/profile_header2",e?"MY_PROFILE_IS_VERIFIED":"OTHERS_PROFILE_IS_VERIFIED")[i];return this.set("VERIFY_STATUS",{verified_text:s})},setVip:function(e,t){var i;if(e)i="OWN_PROFILE";else{var s=t===$p.SexType.FEMALE?"FEMALE":"MALE";i="OTHER_PROFILE/"+s}return this.set("VIP_STATUS/"+i,!0)},setSpp:function(e){var t=e===$p.SexType.FEMALE?"FEMALE":"MALE";return this.set("SPP_STATUS",{text:$l.get("spp_icon",["SPP_TITLES",t]),url:"/spp",rel:"spp-promo"})},setRiseUp:function(e,t){return this.set("RISEUP_STATUS",{rised:e,_LINK:{ovl_type:"riseup",ovl_url:"/billing/riseup-ws.phtml?activation_place="+t}})},setMobile:function(){return this.set("MOBILE_STATUS",{PAGE_partner_name:$l.get("partner","title"),_LINK:{url:"/ws/get-app-ovl?ref=web-ovl-icon"}})},setHot:function(){return this.set("HOT_STATUS",{url:"/spp",rel:"spp-promo"})}}),$u.relative=function(e){return e.replace(/^.*\/\/[^\/]+/,"")},$l.register({section:"uploader",lang:"en-us",translations:{PHOTOSET_PERSONAL_NAME_FOR_ME:"Photos of you",PRIVATE_PHOTOS:"Private photos",PHOTOSET_FRIENDS_OWNER:"Photos of you and friends",ER_PHOTO_UPLOAD:{ER_PHOTO_UPLOAD_LARGE:"File too large - max size: {{max_size}}Mb",ER_PHOTO_UPLOAD:"Internal error",ER_PHOTO_INTERNAL:"Internal error",ER_PHOTOSET_NOTFOUND:"Internal error",ER_PHOTO_UPLOAD_FORMAT:"Unsupported file type",ER_PHOTO_NOTALLOWEDMORE:"No more than {{max_photos}} files per album",ER_PHOTO_UPLOAD_SMALL:"Image too small, min size: {{width}}x{{height}}px",ER_PHOTO_BADINPUT:"Upload error or unsupported format",ER_PHOTO_FILE_NOT_SELECTED:"File not selected",ER_PHOTO_ONLY_ALLOWED:"You cannot add videos to your Photos of you",ER_VIDEO_UPLOAD_SHORT:"Video too short, min length: {{min_video_length}} {{min_video_length_seconds}}",ER_VIDEO_UPLOAD_LONG:"Video too long, max length: {{max_video_length}} {{max_video_length_seconds}}"},PHOTOS_COACHING:{pending:"You need {{num}} more {{votes}} to see your photo rating.",high_score:"This is a popular photo!",low_score:"This photo isn’t doing so well, try replacing it for a better rating",low_res:"This photo is too small, try replacing it for a better rating",bad_aspect_ratio:"This photo might be badly cropped, try replacing it for a better rating",average_score:"Not bad, but you could get even better ratings if you add more photos",stars_score_4:"Great photo! Add more photos and see how they compare",stars_score_5:"Stunning photo! Everyone loves it!",not_personal:"Remember, group photos aren’t rated",other:"This photo isn’t eligible for rating","private":"Remember, private photos aren’t rated",small_face:{MALE:"Your face is not clearly visible, try replacing this photo for a better rating",FEMALE:"Your face is not clearly visible, try replacing this photo for a better rating"}}}}),B.Upload2={},B.Upload2.Controller=new $class($u.Observable,{name:"upload-controller",default_group_config:{files_left:500,min_width:200,min_height:200,allowed_filesize:134217728,allowed_image_types:["image/jpg","image/jpeg","image/jpe","image/jfif","image/jfi","image/gif","image/jp2","image/jpc","image/wdp","image/hdp","image/png","image/bmp","image/tiff","image/tif"],allow_video:!1,allowed_video_types:""},group_config:null,constructor:function(){$super(this,arguments),this._groups={}
},_get_config:function(e){var t,i;return e=e.split("#")[0],e in this.group_config&&(i=$clone(this.group_config[e]),t=$clone(this.default_group_config),i=$config(t,i)),i},set_groups_config:function(e){this.group_config=e},get_group:function(e,t){var i,s;return i=this._groups[e],i||(s=this._get_config(e),$config(s,t),i=this._groups[e]=new B.Upload2.FileGroup(e,s)),i},add_files:function(e,t){this._groups[t].add(e)}}),B.Upload2.UploadOverlayController=new $class({name:"upload2.UploaderOverlayController",_config:{},storageKey:"uploadRulesShow",set_config:function(e){this._config=e},open:function(e,t,i){var s=this._get_config(e);t&&$config(s,t),s.cfg.source=i,this.getDontShowRules()?B.Ovl.open(s):B.Ovl.open({type:"hon_upload_rules",ovlCfg:s})},show:function(e){B.Ovl.open(e)},_get_config:function(e){return e in this._config?this._config[e]:void 0},setDontShowRules:function(e){$u.storage.setItem(this.storageKey,e?1:0)},getDontShowRules:function(){return 1==$u.storage.getItem(this.storageKey)||B.HoN_v3.Partner.Features.existUploadRules()}}),B.Upload2.Uploader=$class($u.Observable,{name:"Upload.Uploader",upload_url:null,max_count:1/0,max_threads:2,max_file_size:1/0,mime_types:null,extensions:null,xhr_timeout:18e5,extra_data:null,extra_validation_callback:null,scope:null,_files:null,_xhrs:null,_queue:null,_last_id:0,_active_threads:0,_completed:!1,_allowed_mime_types:null,_allowed_extensions_re:null,ERROR_TOO_LARGE:1,ERROR_BAD_FORMAT:2,ERROR_INVALID:3,ERROR_TRANSPORT_ERROR:4,ERROR_UPLOAD_ERROR:5,ERROR_PHOTO_UPLOAD_SMALL:6,constructor:function(e){$super(this,arguments),$config(this,e),this._files={},this._xhrs={},this._queue=[],this._extra_params={},this.mime_types&&(this.extensions=this._get_extensions_from_mime_types(this.mime_types),this._allowed_mime_types=this.mime_types.join(",")),this.extensions&&(this._allowed_extensions_re=this._get_allowed_extensions_regexp(this.extensions)),this._recreate_input()},destroy:function(){$super(this,arguments),$e.del(this._upload_input,"change",this._on_input_change,this),$el.remove(this._upload_input),this._upload_input=null,this._files=this._xhrs=this._queue=null,this._allowed_mime_types=this._allowed_extensions_re=null},choose:function(){this._upload_input&&(this._upload_input.value="",this._upload_input.click())},set_upload_url:function(e){this.upload_url=e,this._queue.length&&this._upload_next()},cancel_one:function(e){for(var t=0;t<this._queue.length;t++)if(this._queue[t]===e){this._files[e]._canceled=!0,delete this._queue[t],this.fire("cancel_one",e);break}this._xhrs[e]&&(this._active_threads--,this._xhrs[e].abort(),delete this._xhrs[e],this._upload_next())},cancel_all:function(){var e=this._xhrs;for(var t in e)e[t].abort();this._xhrs={},this._queue=[],this._active_threads=0},add_photos:function(e){if(e.length){this._completed=!1;for(var t=0;t<e.length;t++){var i=e[t],s=this._generate_id();i._id=s,this._files[s]=i,this._files[s].percent=0,this.fire("registered",s,this._files[s]);var o=this._validate(i);if(o===!0){if(this.extra_validation_callback){var n=this.extra_validation_callback.call(this.scope,s,i);if(n!==!0){this._error(s,this.ERROR_INVALID,n);continue}}this._queue.push(s)}else this._error(s,o)}for(var a=0;a<this.max_threads;a++)this._upload_next()}},retry:function(e){delete this._files[e]._is_upload_error,delete this._files[e]._upload_error_code,delete this._files[e]._upload_error_text,this._queue.push(e),this._upload_next()},get_totals_percent:function(){var e,t,i=0,s=0;for(var o in this._files)e=this._files[o],e._is_upload_error||e._canceled||(s+=e.percent,i++);return t=0==i?100:Math.round(s/i)},_recreate_input:function(){this._upload_input&&($e.del(this._upload_input,"change",this._on_input_change,this),$el.remove(this._upload_input));var e=$el.create("input",{className:"uploader_input",type:"file",multiple:1!==this.max_count,accept:this._allowed_mime_types});document.body.appendChild(e),this._upload_input=e,$e.add(this._upload_input,"change",this._on_input_change,this)},_on_input_change:function(){this.add_photos(this._upload_input.files),this._recreate_input()},_validate:function(e){return e.size>this.max_file_size?this.ERROR_TOO_LARGE:this._allowed_extensions_re.test(e.name)?!0:this.ERROR_BAD_FORMAT},_upload_next:function(){this._queue.length?this.upload_url&&this._upload_photo(this._queue.shift()):this._active_threads||this._completed||(this._completed=!0,this.fire("queue_completed"))},_upload_photo:function(e){var t=this._files[e];if(!t)return this._upload_next(),void 0;var i=new FormData;if(i.append("file",t),this.extra_data)for(var s in this.extra_data)i.append(s,this.extra_data[s]);var o=this.upload_url;this._xhrs[e]=new $r(o,{method:"post",cors:!0,timeout:this.xhr_timeout,data:i,upload_progress:this._upload_progress.bind(this,e),ready:this._upload_ready.bind(this,e),error:this._upload_error.bind(this,e)}),this._active_threads++,this.fire("started",e)},_upload_ready:function(e,t){this._active_threads--,delete this._xhrs[e],t.errno?(this._files[e]._upload_error_text=t.errmsg,this._error(e,this.ERROR_UPLOAD_ERROR)):(this._files[e].percent=100,this.fire("ready",e,t)),this._upload_next()},_upload_error:function(e,t){this._active_threads--,this._error(e,this.ERROR_TRANSPORT_ERROR,t),this._upload_next()},_upload_progress:function(e,t){this._files[e].percent=t,this.fire("progress",e,t)},_error:function(e,t,i){var s=this._files[e];delete this._xhrs[e],s.percent=0,s._is_upload_error=!0,s._upload_error_code=t,this.fire("error",e,t,i)},_generate_id:function(){return++this._last_id},_get_extensions_from_mime_types:function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].replace(/^\w+\//,""));return t},_get_allowed_extensions_regexp:function(e){return new RegExp("\\.("+e.join("|").replace(/\*/g,"\\*")+")$","i")}}),$u.Filereader||($u.Filereader=$class($u.Observable,{name:"Filereader",constructor:function(){$super(this,arguments),this.index=0,this.map={}},destroy:function(){this._clear_all(),$super(this,arguments)},read:function(e){var t=new FileReader;t.onload=this._onload.bind(this,this.index),t.onabort=this._onabort.bind(this,this.index),t.onerror=this._onerror.bind(this,this.index),this.map[this.index]={file:e,reader:t},this.index++,t.readAsDataURL(e)},_onerror:function(e){this._remove(e),this.fire("error")},_onabort:function(e){this._remove(e),this.fire("abort")},_onload:function(e){var t=this.map[e];this._remove(e),this.fire("ready",t.file,t.reader.result)},_remove:function(e){var t=this.map[e].reader;t.onload=null,t.onabort=null,t.onerror=null,t.readyState==FileReader.LOADING&&t.abort(),delete this.map[e]},_clear_all:function(){for(var e in this.map)this._remove(e);this.index=0}})),B.Upload2.FileGroupBase=$class($u.Observable,{name:"Upload.FileGroup",state:"not_inited",constructor:function(e,t){$super(this,arguments),this.group_name=e,this.cfg=t,this._errors_strings=$l.get("uploader","ER_PHOTO_UPLOAD"),this._files={},"not_inited"==this.state&&this._init()},destroy:function(){this._uploader&&(this._uploader.un(this.$e_uploader),this._uploader.destroy(),this._uploader=this.$e_uploader=null),this._filereader&&(this._filereader.un(this.$e_filereader),this._filereader.destroy(),this._filereader=this.$e_filereader=null),this._errors_strings=null,$super(this,arguments)},get_info:function(){var e={title:this.cfg.title,allowed_filesize:this.cfg.allowed_filesize,allow_video:this.cfg.allow_video,files_left:this.cfg.files_left,cfg:this.cfg};return this.cfg.allow_add_more&&(e.allow_add_more=!0),this.cfg.allow_remove&&(e.allow_remove=!0),this.cfg.allow_make_private&&(e.allow_make_private=!0),e},add:function(e){this._uploader.add_photos(e)},choose:function(){this._uploader.choose()},retry:function(e){this._uploader.retry(e)},remove:function(e){0==this._files[e].file.percent?this._uploader.cancel_one(e):100==this._files[e].file.percent&&this._remove_photo(e)},read:function(e){this._filereader||(this._filereader=new $u.Filereader,this.$e_filereader=this._filereader.on({ready:this._on_file_readed},this)),this._files[e].data_uri?this.fire("readed",e):this._filereader.read(this._files[e].file)},get_file:function(e){return this._files[e]},get_files:function(){return this._files},get_totals_percent:function(){return this._uploader.get_totals_percent()},get_error_text:function(e,t){var i,s=this._files[e].file;return i=s._upload_error_code==this._uploader.ERROR_UPLOAD_ERROR?s._upload_error_text:$u.tpl(this._errors_strings[this._get_error_name_by_code(t)],{max_size:this.cfg.allowed_filesize/1024/1024,width:this.cfg.min_width,height:this.cfg.min_height})},_init:function(){this.state="loading",this._create_uploader(),this._load_endpoint(this._set_endpoint,this)},_get_error_name_by_code:function(e){var t;switch(e){case this._uploader.ERROR_BAD_FORMAT:t="ER_PHOTO_UPLOAD_FORMAT";break;case this._uploader.ERROR_TOO_LARGE:t="ER_PHOTO_UPLOAD_LARGE";break;case this._uploader.ERROR_TRANSPORT_ERROR:t="ER_PHOTO_INTERNAL";break;case this._uploader.ERROR_UPLOAD_ERROR:t="ER_PHOTO_UPLOAD";break;case this._uploader.ERROR_PHOTO_UPLOAD_SMALL:t="ER_PHOTO_UPLOAD_SMALL";break;case this._uploader.ERROR_INVALID:default:t="ER_PHOTO_INTERNAL"}return t},_load_endpoint:function(){throw"Call abstract _load_endpoint"},_set_endpoint:function(e){this._uploader.set_upload_url(e),this.state="inited",this.fire("inited")},_compress_data_uri:function(e){return e},_create_uploader:function(){var e,t={};t[B.Session.getSessionName()]=B.Session.getSessionId(),$config(t,this.cfg.extra_params),e={max_file_size:this.cfg.allowed_filesize,mime_types:this.cfg.allowed_image_types,extra_data:t,scope:this},"max_choose_count"in this.cfg&&(e.max_count=this.cfg.max_choose_count),this._uploader=new B.Upload2.Uploader(e),this.$e_uploader=this._uploader.on({registered:this._on_registered,started:this._on_started,cancel_one:this._on_cancel_one,progress:this._on_progress,error:this._on_error,ready:this._on_ready,queue_completed:this._on_queue_completed},this)},_on_file_readed:function(e,t){var i=/[^.]+$/.exec(e.name)[0];this._files[e._id].data_uri=this._compress_data_uri(t,i),this.fire("readed",e._id)},_on_registered:function(e,t){this._files[e]={file:t},this.fire("registered",e)},_on_started:function(e){this.fire("started",e)},_on_cancel_one:function(e){this.fire("cancel_one",e)},_on_progress:function(e,t){this.fire("progress",e,t)},_on_error:function(e,t,i){this.fire("error",e,t,i)},_on_ready:function(e,t){this.fire("ready",e,t)},_on_queue_completed:function(e){this.fire("queue_completed",e)},_remove_photo:function(){throw"Call abstract _remove_photo"}}),$gpb.exists("badoo.bma.ServerUploadPhoto","message")||($gpb.exists("badoo.bma.PhotoSourceType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoSourceType=new $gpb.Enum("badoo.bma.PhotoSourceType");t._values=[1,2,3],t.CAMERA=1,t.DISK=2,t.PHOTO_SOURCE_TYPE_EXTERNAL_PROVIDER=3}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerUploadPhoto=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerUploadPhoto",t.prototype._descriptor={fields:{album_type:{type:14,type_name:"badoo.bma.AlbumType",number:12,label:1},photo_id:{type:9,number:8,label:1},short_id:{type:5,number:2,label:1},album_id:{type:9,number:1,label:1},photo_source:{type:14,type_name:"badoo.bma.PhotoSourceType",number:4,label:1},photo:{type:12,number:3,label:1},external_provider_photo_source:{type:14,type_name:"badoo.bma.ExternalProviderType",number:9,label:1},upload_trigger:{type:14,type_name:"badoo.bma.FeatureType",number:6,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:10,label:1},photo_to_replace:{type:9,number:7,label:1},preview_photo_size:{type:11,type_name:"badoo.bma.PhotoSize",number:11,label:1},guid:{type:9,number:5,label:1}}}}()),$gpb.exists("badoo.bma.ClientUploadPhoto","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientUploadPhoto=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientUploadPhoto",t.prototype._descriptor={fields:{album:{type:11,type_name:"badoo.bma.Album",number:2,label:1},photo:{type:11,type_name:"badoo.bma.Photo",number:4,label:1},guid:{type:9,number:3,label:1},short_id:{type:5,number:1,label:1}}}}(),B.Upload2.FileGroup=$class(B.Upload2.FileGroupBase,{source:null,constructor:function(){switch($super(this,arguments),this.group_name){case"photos_of_me":B.HoN_v3.CurrentUser.on({photo_removed:this._on_photo_removed,photo_removing_error:this._on_photo_removing_error},this)}},choose:function(e){this.source=null,e&&(this.source=e),$super(this,arguments)},_load_endpoint:function(e,t){$p.MessageType;this._on_load_callback=e,this._on_load_ctx=t,B.HoN_v3.Models.Cache.CommonSettingsCache.fetch(this._ready_server_get_common_settings,this)},_ready_server_get_common_settings:function(e){var t,i,s=e.getSettings();if(t=s.getExternalEndpoints()){for(var o=0;o<t.length;o++)if(t[o].getType()==this.cfg.external_endpoint_type){i=t[o].getUrl(),this._on_load_callback.call(this._on_load_ctx,i);break}this._on_load_callback=this._on_load_ctx=null}},_get_id_in_group:function(e){var t,i;for(var s in this._files)if(i=this._files[s],i._upload_data&&i._upload_data.photo_id==e){t=s;break}return t},_remove_photo:function(e){switch(this.group_name){case"photos_of_me":this._files[e]._removing||(this._files[e]._removing=!0,B.HoN_v3.CurrentUser.remove_photo(this._files[e]._upload_data.photo_id));break;default:throw"Uknown group."}},_on_photo_removing_error:function(e,t){var i=this._get_id_in_group(t);delete this._files[i]._removing},_on_photo_removed:function(e){var t=this._get_id_in_group(e);this.fire("photo_removed",t,e)},_on_ready:function(e,t){switch(this._files[e]._upload_data={photo_id:t.photo_id},this.cfg.action_after_upload){case"SERVER_UPLOAD_PHOTO":this._server_upload_photo(e,t.photo_id);break;default:$super(this,arguments)}},_server_upload_photo:function(e,t){var i=(new $p.ServerUploadPhoto).setPhotoId(t);this.source&&i.setContext(+this.source),this.cfg.photo_size&&i.setPreviewPhotoSize((new $p.PhotoSize).setWidth(this.cfg.photo_size.width).setHeight(this.cfg.photo_size.height)),new $gpb.Rpc($p.MessageType.SERVER_UPLOAD_PHOTO,i).on($p.MessageType.CLIENT_UPLOAD_PHOTO_SUCCESS,this._client_upload_photo_success.bind(this,e),this).on($p.MessageType.CLIENT_UPLOAD_PHOTO_FAILED,this._client_upload_photo_failed,this).request()},_client_upload_photo_success:function(e,t,i){if(!t){var s=i.getPhoto(),o=s.getLargePhotoSize(),n={height:o.getHeight(),width:o.getWidth()};n.height>160&&(n.width/=n.height/160,n.height=160),this.fire("ready",e,{photo_id:s.getId(),preview_url:s.getPreviewUrl(),size:n})}},_client_upload_photo_failed:function(e){e||this.fire("error",id,this._uploader.ERROR_TRANSPORT_ERROR)},_on_queue_completed:function(){$super(this,arguments),new $gpb.Rpc($p.MessageType.SERVER_GET_COMMON_SETTINGS).request()}}),B.Upload2.Controller.set_groups_config({photos_of_me:{title:$l.get("uploader","PHOTOSET_PERSONAL_NAME_FOR_ME"),external_endpoint_type:$p.ExternalEndpointType.EXTERNAL_ENDPOINT_TYPE_PHOTO_UPLOAD,action_after_upload:"SERVER_UPLOAD_PHOTO",allow_add_more:!0,allow_remove:!0,allow_make_private:!0,photo_size:{width:180,height:180},extra_params:{album_type:$p.AlbumType.ALBUM_TYPE_PHOTOS_OF_ME}},messanger:{title:"",external_endpoint_type:$p.ExternalEndpointType.EXTERNAL_ENDPOINT_TYPE_CHAT_MULTIMEDIA_UPLOAD,max_choose_count:1}}),B.Upload2.UploadOverlayController.set_config({add_photos:{type:"choose_files",cfg:{group_name:"photos_of_me",description_type:"ADD_PHOTOS"}},photos_of_me:{type:"choose_files",cfg:{group_name:"photos_of_me",description_type:"PHOTOS_OF_ME"}},photos_of_me_blocker:{type:"choose_files",cfg:{group_name:"photos_of_me",description_type:"PHOTOS_OF_ME",is_promo:!0}},chat_blocker:{type:"choose_files",cfg:{group_name:"photos_of_me",description_type:"CHAT_BLOCKER",is_promo:!0}}}),$gpb.exists("badoo.bma.ServerGetNextPromoBlocks","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ServerGetNextPromoBlocks=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ServerGetNextPromoBlocks",t.prototype._descriptor={fields:{showed_promo_blocks:{type:14,type_name:"badoo.bma.PromoBlockType",number:1,label:3},promo_block_positions:{type:14,type_name:"badoo.bma.PromoBlockPosition",number:2,label:3},context:{type:14,type_name:"badoo.bma.ClientSource",number:3,label:1}}}}(),$gpb.exists("badoo.bma.ClientNextPromoBlocks","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientNextPromoBlocks=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientNextPromoBlocks",t.prototype._descriptor={fields:{promo_blocks:{type:11,type_name:"badoo.bma.PromoBlock",number:1,label:3}}}}(),B.HoN_v3.BannersConfig||(B.HoN_v3.BannersConfig={userFields:["USER_FIELD_IS_DELETED","USER_FIELD_NAME","USER_FIELD_AGE","USER_FIELD_GENDER","USER_FIELD_PHOTO_COUNT","USER_FIELD_ONLINE_STATUS","USER_FIELD_DISTANCE_SHORT","USER_FIELD_DISTANCE_LONG","USER_FIELD_PROFILE_PHOTO","USER_FIELD_ONLINE_STATUS_TEXT","USER_FIELD_HAS_MOBILE_APP","USER_FIELD_IS_VERIFIED","USER_FIELD_HAS_SPP","USER_FIELD_HAS_RISEUP","USER_FIELD_LAST_RISEUP_TIME_MESSAGE","USER_FIELD_HAS_PAID_VIP","USER_FIELD_IS_HOT"],resultsPerPage:19,minAge:18,maxAge:80,minAgeRange:4,reset:{male:{gender:$p.SexType.FEMALE,from:10,to:5},female:{gender:$p.SexType.MALE,from:5,to:10},after:50},promo:{possiblePositions:[1,2,5,6],blocks:{honRiseup:"BANNER_RISEUP",honRiseup2:"BANNER_RISEUP_V2",honExtraShows:"BANNER_EXTRA_SHOWS",honExtraShows2:"BANNER_EXTRA_SHOWS_V2",honSpotlight:"BANNER_SPOTLIGHT",honSpp:"BANNER_SPP",badooNewSpecialDelivery:"BANNER_SPECIAL_DELIVERY",honFavorite:"BANNER_FAVORITE",honReadFirst:"BANNER_READ_FIRST",honFirstContact:"BANNER_FIRST_CONTACT",badooNewFindFriends:"BANNER_FIND_FRIENDS",honMobile:"BANNER_MOBILE",badooNewNoPhotos:"BANNER_NO_PHOTOS",badooNewAddMorePhotos:"BANNER_ADD_MORE_PHOTOS",inboxFull:"BANNER_INBOX_FULL",likedYou:"BANNER_LIKED_YOU",boost:"BANNER_BOOST"},getPosition:function(e){var t=[];if(e)for(var i=0;i<this.possiblePositions.length&&this.possiblePositions[i]<=e;i++)t.push(this.possiblePositions[i]);else t=this.possiblePositions;return t[Math.floor(Math.random()*t.length)]}},appState:"search"}),B.HoN_v3.BannersDataBase||(B.HoN_v3.BannersDataBase=$class({constructor:function(e){this.__data=e,this.init(e)},guid:function(e){return e&&(this._guid=e),this._guid},getBannerName:function(){throw"Abstract :: B.HoN_v3.BannersData.Base getBannerName"},getStatData:function(){throw"Abstract :: B.HoN_v3.BannersData.Base getStatData"},isHorizontal:function(){return!1},needUploadPhoto:function(){return!1},getFeature:function(){return this.data.feature},getPromoType:function(){return this.data.promoType},getProductType:function(){return this.data.productType},getRequiredAction:function(){return this.data.requiredAction},hasDisplayImages:function(){return this.data.hasDisplayImages},getDisplayTitle:function(){return this.data.displayTitle},getDisplayMessage:function(){return this.data.displayMessage},getOtherText:function(){return this.data.otherText},getDisplayAction:function(){return this.data.displayAction},getGoalProgress:function(){return this.data.goalProgress},getDisplayImages:function(){return this.data.displayImages}}),B.HoN_v3.BannersPromoBlock=$class(B.HoN_v3.BannersDataBase,{init:function(e){this.data={displayTitle:e.getHeader(),displayMessage:e.getMssg(),otherText:e.getOtherText(),displayAction:e.getAction(),requiredAction:e.getOkAction(),productType:e.getOkPaymentProductType(),displayImages:e.getPictures(),hasDisplayImages:e.hasPictures(),goalProgress:e.getGoalProgress()}},getStatData:function(e,t,i){var s=(new $p.PromoBannerStats).setEvent(e).setBannerId(t).setContext(i).setPromoBlockType(this.__data.getPromoBlockType()).setPromoBlockPosition(this.__data.getPromoBlockPosition());return s},getBannerName:function(){var e;switch(this.__data.getPromoBlockType()){case $p.PromoBlockType.PROMO_BLOCK_TYPE_RISEUP:e="honRiseup";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_RISEUP_2:e="honRiseup2";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_SPECIAL_DELIVERY:e="badooNewSpecialDelivery";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_SPECIAL_DELIVERY_2:e="honReadFirst";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_FAVOURITES:e="honFavorite";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_SPP:e="honSpp";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_SPOTLIGHT:e="honSpotlight";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_EXTRA_SHOWS:e="honExtraShows";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_EXTRA_SHOWS_2:e="honExtraShows2";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_ADD_PHOTO:e="badooNewNoPhotos";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_ADD_MORE_PHOTOS:e="badooNewAddMorePhotos";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_FIND_FRIENDS:e="badooNewFindFriends";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_DOWNLOAD_MOBILE:e="honMobile";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_CHAT_WITH_NEWBIES:e="honFirstContact";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_CHAT_WITH_TIRED:e="inboxFull";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_LIKED_YOU:e="likedYou";break;case $p.PromoBlockType.PROMO_BLOCK_TYPE_BOOST:e="boost"}return e},isHorizontal:function(){return this.__data.getPromoBlockPosition()==$p.PromoBlockPosition.PROMO_BLOCK_POSITION_HORIZONTAL},needUploadPhoto:function(){return this.__data.getOtherAction()==$p.ActionType.UPLOAD_PHOTO},getPromoBlockType:function(){return this.__data.getPromoBlockType()},getPromoBlockPosition:function(){return this.__data.getPromoBlockPosition()}})),B.HoN_v3.BannersModel||(B.HoN_v3.BannersModel=$class({id:null,context:$p.ClientSource.CLIENT_SOURCE_UNSPECIFIED,constructor:function(e){e&&(this.context=e)},destroy:function(){this.id=null},setContext:function(e){return this.context=e,this},setData:function(e){return this.data=e,this.id=this.data.getBannerName(),this},getData:function(){return this.data},sendPromoStats:function(e){if(this.id){var t=e?$p.CommonStatsEventType.COMMON_EVENT_CLICK:$p.CommonStatsEventType.COMMON_EVENT_SHOW,i=this.data.getStatData(t,this.id,this.context);new $gpb.Rpc($p.MessageType.SERVER_APP_STATS,(new $p.ServerAppStats).setPromoBannerStats(i)).request()}}})),function(){function e(e,i){return e.section(i.get(["BANNER_RISEUP"],!1),i,{block:t},{}).write(" ").section(i.get(["BANNER_RISEUP_V2"],!1),i,{block:s},{}).write(" ").section(i.get(["BANNER_EXTRA_SHOWS"],!1),i,{block:a},{}).write(" ").section(i.get(["BANNER_EXTRA_SHOWS_V2"],!1),i,{block:l},{}).write(" ").section(i.get(["BANNER_SPOTLIGHT"],!1),i,{block:c},{}).write(" ").section(i.get(["BANNER_SPP"],!1),i,{block:m},{}).write(" ").section(i.get(["BANNER_SPECIAL_DELIVERY"],!1),i,{block:g},{}).write(" ").section(i.get(["BANNER_FAVORITE"],!1),i,{block:T},{}).write(" ").section(i.get(["BANNER_READ_FIRST"],!1),i,{block:S},{}).write(" ").section(i.get(["BANNER_FIRST_CONTACT"],!1),i,{block:I},{}).write(" ").section(i.get(["BANNER_FIND_FRIENDS"],!1),i,{block:A},{}).write(" ").section(i.get(["BANNER_MOBILE"],!1),i,{block:w},{}).write(" ").section(i.get(["BANNER_NO_PHOTOS"],!1),i,{block:k},{}).write(" ").section(i.get(["BANNER_ADD_MORE_PHOTOS"],!1),i,{block:U},{}).write(" ").section(i.get(["BANNER_BOOST"],!1),i,{block:x},{})}function t(e,t){return e.write(' <div class="promo-banner promo-banner--riseup" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--lime brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <mark class="brick brick--sm brick--lime"> <i class="ico ico--white ico--riseup-xsm"></i> </mark> </div> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--lime js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:i},{}).write(' </div> <div class="promo-banner__cost">Cost of service: 100 credits</div> </div> ')}function i(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function s(e,t){return e.write(' <div class="promo-banner promo-banner--photo-set" data-banner-guid="').reference("guid",t).write('"> <div class="promo-banner__imgs"> ').section(t.get(["_IMAGES"],!1),t,{block:o},{}).write(' <mark class="brick brick--sm brick--lime brick--stroke"> <i class="ico ico--white ico--riseup-xsm"></i> </mark> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--lime js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:n},{}).write(' </div> <div class="promo-banner__cost">Cost of service: 100 credits</div> </div> ')}function o(e,t){return e.write('<img src="').reference("src",t).write('" alt="">')}function n(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function a(e,t){return e.write(' <div class="promo-banner promo-banner--encounters" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--aqua brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--aqua js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:r},{}).write(' </div> <div class="promo-banner__cost">Cost of service: 100 credits</div> </div> ')}function r(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function l(e,t){return e.write(' <div class="promo-banner promo-banner--encounters2" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> ').section(t.get(["_IMAGES"],!1),t,{block:_},{}).write(' </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--aqua js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:p},{}).write(' </div> <div class="promo-banner__cost">Cost of service: 100 credits</div> </div> ')}function _(e,t){return e.write(' <div class="brick brick--lg brick--aqua brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> ')}function p(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function c(e,t){return e.write(' <div class="promo-banner promo-banner--spotlight" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> ').section(t.get(["_IMAGES"],!1),t,{block:u},{}).write(' </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--lblue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:h},{}).write(' </div> <div class="promo-banner__cost">Cost of service: 100 credits</div> </div> ')}function u(e,t){return e.write(' <div class="brick').section(t.get(["_XLG"],!1),t,{block:d},{}).write(' brick--lblue brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> ').section(t.get(["_ICO"],!1),t,{block:b},{}).write(" </div> ")}function d(e){return e.write(" brick--xlg brick--stroke")}function b(e){return e.write(' <mark class="brick brick--sm brick--bc"> <i class="ico-feature ico-feature--spotlight"></i> </mark> ')}function h(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function m(e,t){return e.write(' <div class="promo-banner promo-banner--spp" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--yellow brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <mark class="brick brick--sm brick--bc"> <i class="ico-feature ico-feature--spp"></i> </mark> </div> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--yellow js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="payment" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:E},{}).write(" </div> </div> ")}function E(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function g(e,t){return e.write(' <div class="promo-banner promo-banner--special-delivery" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--blue brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <mark class="brick brick--sm brick--bc"> <i class="ico-feature ico-feature--delivery"></i> </mark> </div> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:f},{}).write(" </div> </div> ")}function f(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function T(e,t){return e.write(' <div class="promo-banner promo-banner--favourite" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> ').section(t.get(["_IMAGES"],!1),t,{block:y},{}).write(' </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--yellow js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:O},{}).write(" </div> </div> ")}function y(e,t){return e.write(' <div class="brick').section(t.get(["_XLG"],!1),t,{block:v},{}).write(' brick--yellow brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> ')}function v(e){return e.write(" brick--xlg brick--stroke")}function O(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function S(e,t){return e.write(' <div class="promo-banner promo-banner--read-first" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <mark class="brick brick--sm brick--bc"> <i class="ico-feature ico-feature--delivery"></i> </mark> </div> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:R},{}).write(" </div> </div> ")
}function R(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function I(e,t){return e.write(' <div class="promo-banner promo-banner--first-contact" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> ').section(t.get(["_IMAGES"],!1),t,{block:N},{}).write(' </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--grass js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:P},{}).write(" </div> </div> ")}function N(e,t){return e.write(' <div class="brick brick--lg brick--grass brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> ')}function P(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function A(e,t){return e.write(' <div class="promo-banner promo-banner--find-friends" data-banner-guid="').reference("guid",t).write('"> <div class="promo-banner__imgs"> ').section(t.get(["_IMAGES"],!1),t,{block:C},{}).write(' </div> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:L},{}).write(" </div> </div> ")}function C(e,t){return e.write('<img src="').reference("src",t).write('" alt="">')}function L(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function w(e,t){return e.write(' <div class="promo-banner promo-banner__user--mobile" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <mark class="brick brick--sm brick--blue brick--bc"> <i class="ico-feature ico-feature--mobile"></i> </mark> </div> </div> <div class="promo-banner__btns"> <div class="btn btn--sm btn--white js-promo-btn"> <i class="ico ico--xsm ico--color ico--apple"><a href="').reference("appstore_url",t).write('" class="b-link" target="_blank"></a>').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:$},{}).write('</i><span class="btn-txt">App Store</span> </div> <div class="btn btn--sm btn--white js-promo-btn"> <i class="ico ico--xsm ico--color ico--gplay"><a href="').reference("gstore_url",t).write('" class="b-link" target="_blank"></a>').section(t.get(["_NO_PHOTO_BLOCKER1"],!1),t,{block:M},{}).write('</i><span class="btn-txt">Google Play</span> </div> <div class="btn btn--sm btn--white js-promo-btn"> <i class="ico ico--xsm ico--color ico--windows"><a href="').reference("winstore_url",t).write('" class="b-link" target="_blank"></a>').section(t.get(["_NO_PHOTO_BLOCKER2"],!1),t,{block:B},{}).write('</i><span class="btn-txt">Windows Phone</span> </div> </div> </div> ')}function $(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function M(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function B(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function k(e,t){return e.write(' <div class="promo-banner promo-banner--add-photos" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--border"> <i class="ico ico--blue ico--lg ico--photo-up"></i> </div> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link" data-control-type="upload-overlay" data-type="add_photos" tabindex="-1"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:F},{}).write(" </div> </div> ")}function F(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function U(e,t){return e.write(' <div class="promo-banner promo-banner--add-photos" data-banner-guid="').reference("guid",t).write('"> <h2 class="promo-banner__title">').reference("display_title",t,["s"]).write('</h2> <div class="promo-banner__user"> <div class="brick brick--xlg brick--border"> <i class="ico ico--blue ico--lg ico--photo-up"></i> </div> ').section(t.get(["_IMAGES"],!1),t,{block:H},{}).write(' </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write('</p> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link" data-control-type="upload-overlay" data-type="add_photos" tabindex="-1"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:D},{}).write(" </div> </div> ")}function H(e,t){return e.write(' <div class="brick brick--lg brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> ')}function D(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function x(e,t){return e.write(' <div class="promo-banner promo-banner--photo-set js-aside-promo" data-banner-guid="').reference("guid",t).write('"> <div class="promo-banner__imgs"> ').section(t.get(["_IMAGES"],!1),t,{block:Y},{}).write(' <mark class="brick brick--sm"><i class="ico-feature ico-feature--boost"></i></mark> </div> <p class="promo-banner__txt">').reference("display_message",t,["s"]).write("</p> ").section(t.get(["COUNTER"],!1),t,{block:V},{}).write(" ").section(t.get(["PROGRESS"],!1),t,{block:W},{}).write(' <div class="btn btn--sm btn--pink js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span><span class="b-link js-boost-banner-dialog" data-control-type="fb-apprequest-dialog" data-control-name="boost-banner" tabindex="-1"></span> </div> </div> ')}function Y(e,t){return e.write('<img src="').reference("src",t).write('" alt="">')}function V(e,t){return e.write(' <div class="counter-wrap').section(t.get(["_HIDDEN"],!1),t,{block:G},{}).write(' js-fb-requests-counter"> <b>Invite friends</b> <div><div class="inline counter" data-control-type="counter" data-value="').reference("num",t).write('"></div></div> </div> ')}function G(e){return e.write(" hidden")}function W(e,t){return e.write(' <div class="js-fb-request-progress-container').section(t.get(["_HIDDEN"],!1),t,{block:j},{}).write('"> <div class="progress-bar progress-bar--sm"> <span class="progress-bar_" style="width: ').reference("progress_value",t).write('%"></span> </div> <p class="js-number-friends-left">').reference("text",t).write("</p> </div> ")}function j(e){return e.write(" hidden")}return $u.dust.register("common/block.promo-banners.bma",e),e.s={BANNER_RISEUP:t,BANNER_RISEUP_V2:s,BANNER_EXTRA_SHOWS:a,BANNER_EXTRA_SHOWS_V2:l,BANNER_SPOTLIGHT:c,BANNER_SPP:m,BANNER_SPECIAL_DELIVERY:g,BANNER_FAVORITE:T,BANNER_READ_FIRST:S,BANNER_FIRST_CONTACT:I,BANNER_FIND_FRIENDS:A,BANNER_MOBILE:w,BANNER_NO_PHOTOS:k,BANNER_ADD_MORE_PHOTOS:U,BANNER_BOOST:x},t.s={_NO_PHOTO_BLOCKER:i},s.s={_IMAGES:o,_NO_PHOTO_BLOCKER:n},a.s={_NO_PHOTO_BLOCKER:r},l.s={_IMAGES:_,_NO_PHOTO_BLOCKER:p},c.s={_IMAGES:u,_NO_PHOTO_BLOCKER:h},u.s={_XLG:d,_ICO:b},m.s={_NO_PHOTO_BLOCKER:E},g.s={_NO_PHOTO_BLOCKER:f},T.s={_IMAGES:y,_NO_PHOTO_BLOCKER:O},y.s={_XLG:v},S.s={_NO_PHOTO_BLOCKER:R},I.s={_IMAGES:N,_NO_PHOTO_BLOCKER:P},A.s={_IMAGES:C,_NO_PHOTO_BLOCKER:L},w.s={_NO_PHOTO_BLOCKER:$,_NO_PHOTO_BLOCKER1:M,_NO_PHOTO_BLOCKER2:B},k.s={_NO_PHOTO_BLOCKER:F},U.s={_IMAGES:H,_NO_PHOTO_BLOCKER:D},x.s={_IMAGES:Y,COUNTER:V,PROGRESS:W},V.s={_HIDDEN:G},W.s={_HIDDEN:j},e}(),function(){function e(e,i){return e.section(i.get(["BANNER_RISEUP_V2"],!1),i,{block:t},{}).write(" ").section(i.get(["BANNER_EXTRA_SHOWS"],!1),i,{block:s},{}).write(" ").section(i.get(["BANNER_SPOTLIGHT"],!1),i,{block:n},{}).write(" ").section(i.get(["BANNER_SPP"],!1),i,{block:r},{}).write(" ").section(i.get(["BANNER_SPECIAL_DELIVERY"],!1),i,{block:_},{}).write(" ").section(i.get(["BANNER_LIKED_YOU"],!1),i,{block:c},{}).write(" ").section(i.get(["BANNER_INBOX_FULL"],!1),i,{block:d},{}).write(" ").section(i.get(["BANNER_FAVORITE"],!1),i,{block:h},{}).write(" ").section(i.get(["BANNER_READ_FIRST"],!1),i,{block:E},{}).write(" ").section(i.get(["BANNER_FIRST_CONTACT"],!1),i,{block:f},{}).write(" ").section(i.get(["BANNER_FIND_FRIENDS"],!1),i,{block:y},{}).write(" ").section(i.get(["BANNER_MOBILE"],!1),i,{block:S},{}).write(" ").section(i.get(["BANNER_NO_PHOTOS"],!1),i,{block:P},{}).write(" ").section(i.get(["BANNER_ADD_MORE_PHOTOS"],!1),i,{block:C},{})}function t(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--riseup"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span><br> <span class="small lgrey">Cost of service: 100 credits</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--lime js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:i},{}).write(" </div> </div> </div> ")}function i(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function s(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--encounters"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span><br> <span class="small lgrey">Cost of service: 100 credits</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--aqua js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:o},{}).write(" </div> </div> </div> ")}function o(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function n(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--spotlight"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span><br> <span class="small lgrey">Cost of service: 100 credits</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--lblue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:a},{}).write(" </div> </div> </div> ")}function a(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function r(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--spp"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--yellow js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="payment" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:l},{}).write(" </div> </div> </div> ")}function l(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function _(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--delivery"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:p},{}).write(" </div> </div> </div> ")}function p(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function c(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--vote"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--red js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:u},{}).write(" </div> </div> </div> ")}function u(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function d(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--hot"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--orange js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:b},{}).write(" </div> </div> </div> ")}function b(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function h(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--favorite"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--yellow js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:m},{}).write(" </div> </div> </div> ")}function m(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function E(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--delivery"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:g},{}).write(" </div> </div> </div> ")}function g(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function f(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <i class="ico-feature ico-feature--newbie"></i> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--grass js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:T},{}).write(" </div> </div> </div> ")}function T(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function y(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> ').section(t.get(["_IMAGES"],!1),t,{block:v},{}).write(' </div> <div class="banner-content"> <span>').reference("display_title",t,["s"]).write(" ").reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link js-ovl-open" data-ovl-type="').reference("ovl_type",t).write('" data-ovl-url="').reference("ovl_url",t).write('"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:O},{}).write(" </div> </div> </div> ")}function v(e,t){return e.write(' <div class="brick"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> ')}function O(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function S(e,t){return e.write(' <div class="banner banner--mobile" data-banner-guid="').reference("guid",t).write('"> <div class="inline"> <div class="banner-title"> <b>').reference("display_title",t,["s"]).write('</b> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--white js-promo-btn"> <i class="ico ico--xsm ico--color ico--apple"><a href="').reference("appstore_url",t).write('" class="b-link" target="_blank"></a>').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:R},{}).write('</i><span class="btn-txt">App Store</span> </div> <div class="btn btn--sm btn--white js-promo-btn"> <i class="ico ico--xsm ico--color ico--gplay"><a href="').reference("gstore_url",t).write('" class="b-link" target="_blank"></a>').section(t.get(["_NO_PHOTO_BLOCKER1"],!1),t,{block:I},{}).write('</i><span class="btn-txt">Google Play</span> </div> <div class="btn btn--sm btn--white js-promo-btn"> <i class="ico ico--xsm ico--color ico--windows"><a href="').reference("winstore_url",t).write('" class="b-link" target="_blank"></a>').section(t.get(["_NO_PHOTO_BLOCKER2"],!1),t,{block:N},{}).write('</i><span class="btn-txt">Windows Phone</span> </div> </div> </div> </div> ')}function R(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function I(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function N(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function P(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <div class="brick brick--add-photo"> <div class="brick-img"><img src="').helper("version",t,{},{url:"/v2/-/-/i/hotornot_v2/banner-photo.1.png"}).write('" alt=""></div> </div> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link" data-control-type="upload-overlay" data-type="add_photos" tabindex="-1"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:A},{}).write(" </div> </div> </div> ")}function A(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}function C(e,t){return e.write(' <div class="banner" data-banner-guid="').reference("guid",t).write('"> <div class="banner-promo"> <div class="banner--add-photos"> <div class="brick brick--add-photo"> <div class="brick-img"><img src="').helper("version",t,{},{url:"/v2/-/-/i/hotornot_v2/banner-photo.1.png"}).write('" alt=""></div> </div> ').section(t.get(["_IMAGES"],!1),t,{block:L},{}).write(' </div> </div> <div class="banner-content"> <span>').reference("display_message",t,["s"]).write('</span> </div> <div class="banner-buttons"> <div class="btn btn--sm btn--blue js-promo-btn"> <span class="btn-txt">').reference("display_action",t).write('</span> <span class="b-link" data-control-type="upload-overlay" data-type="add_photos" tabindex="-1"></span> ').section(t.get(["_NO_PHOTO_BLOCKER"],!1),t,{block:w},{}).write(" </div> </div> </div> ")}function L(e,t){return e.write(' <div class="brick"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> ')}function w(e){return e.write('<div class="b-link banner-no-photo-blocker"></div>')}return $u.dust.register("common/block.promo-banners.horizontal",e),e.s={BANNER_RISEUP_V2:t,BANNER_EXTRA_SHOWS:s,BANNER_SPOTLIGHT:n,BANNER_SPP:r,BANNER_SPECIAL_DELIVERY:_,BANNER_LIKED_YOU:c,BANNER_INBOX_FULL:d,BANNER_FAVORITE:h,BANNER_READ_FIRST:E,BANNER_FIRST_CONTACT:f,BANNER_FIND_FRIENDS:y,BANNER_MOBILE:S,BANNER_NO_PHOTOS:P,BANNER_ADD_MORE_PHOTOS:C},t.s={_NO_PHOTO_BLOCKER:i},s.s={_NO_PHOTO_BLOCKER:o},n.s={_NO_PHOTO_BLOCKER:a},r.s={_NO_PHOTO_BLOCKER:l},_.s={_NO_PHOTO_BLOCKER:p},c.s={_NO_PHOTO_BLOCKER:u},d.s={_NO_PHOTO_BLOCKER:b},h.s={_NO_PHOTO_BLOCKER:m},E.s={_NO_PHOTO_BLOCKER:g},f.s={_NO_PHOTO_BLOCKER:T},y.s={_IMAGES:v,_NO_PHOTO_BLOCKER:O},S.s={_NO_PHOTO_BLOCKER:R,_NO_PHOTO_BLOCKER1:I,_NO_PHOTO_BLOCKER2:N},P.s={_NO_PHOTO_BLOCKER:A},C.s={_IMAGES:L,_NO_PHOTO_BLOCKER:w},e}(),B.HoN_v3.BannersView||(B.HoN_v3.BannersView=$class(B.DustView,{template_in_list:"common/block.promo-banners.bma",template_horizontal:"common/block.promo-banners.horizontal",setData:function(e,t,i){return this.setBanner({display_title:e.getDisplayTitle(),display_message:e.getDisplayMessage(),other_text:e.getOtherText(),display_action:e.getDisplayAction(),requiredAction:e.getRequiredAction(),productType:e.getProductType(),hasDisplayImages:e.hasDisplayImages(),displayImages:e.getDisplayImages()&&e.getDisplayImages().map(function(e){return e.getDisplayImages()}),goalProgress:e.getGoalProgress(),guid:e.guid(),horizontal:e.isHorizontal(),bannerName:t,noPhotoBlocker:e.needUploadPhoto(),promoMobileAppUrls:i})},setBanner:function(e){var t=B.HoN_v3.BannersConfig.promo,i={display_title:e.display_title,display_message:e.display_message,display_action:e.display_action,guid:e.guid};switch(this.template=e.horizontal?this.template_horizontal:this.template_in_list,e.requiredAction){case $p.ActionType.PAYMENT_REQUIRED:switch(e.productType){case $p.PaymentProductType.PAYMENT_PRODUCT_TYPE_RISEUP:i.ovl_type="riseup",i.ovl_url="/billing/riseup-ws.phtml?activation_place=111";break;case $p.PaymentProductType.PAYMENT_PRODUCT_TYPE_SPP:i.ovl_url="/billing/spp-ws.phtml?activation_place=111",i.ovl_type="payment";break;case $p.PaymentProductType.PAYMENT_PRODUCT_TYPE_SPOTLIGHT:i.ovl_type="spotlight",i.ovl_url="/billing/spotlight-wizard-ws.phtml?activation_place=111";break;case $p.PaymentProductType.PAYMENT_PRODUCT_TYPE_EXTRA_SHOWS:i.ovl_type="riseup",i.ovl_url="/billing/riseup-ws.phtml?extra_shows=1&activation_place=111"}break;case $p.ActionType.SHOW_BMA_PROMO:if(!e.promoMobileAppUrls)return this;i.appstore_url=e.promoMobileAppUrls.ios,i.gstore_url=e.promoMobileAppUrls.android,i.winstore_url=e.promoMobileAppUrls.winphone;break;case $p.ActionType.OPEN_CONTACTS:i.ovl_type="hon-import-overlay",i.ovl_url="/import/hon.phtml?imp=12&rfr=15"}if(e.hasDisplayImages){var s=e.displayImages;1===s.length?i.src=s[0]:(i._IMAGES=[],s.forEach(function(e,t){i._IMAGES.push({_XLG:0===t,_ICO:0===t,src:e})}))}if("boost"==e.bannerName){var o=e.goalProgress;if(o){var n=o.getGoal(),a=o.getProgress();a>0?(i.PROGRESS={},i.PROGRESS.text=e.other_text,i.PROGRESS.progress_value=Math.ceil(100*a/n)):(i.COUNTER={},i.COUNTER.num=n)}}e.noPhotoBlocker&&(i._NO_PHOTO_BLOCKER=!0);var r={};return r[t.blocks[e.bannerName]]=i,this.set(r)}})),B.HoN_v3.BannersController||(B.HoN_v3.BannersController=$class({banner:null,promoMobileAppUrls:{empty:!0},_view:null,constructor:function(e){this.setPromoMobileAppUrls(),this.banner=new B.HoN_v3.BannersModel(e),this.promoMobileAppUrls={empty:!1,ios:"/install/?ref=web-direct-banner&d=Iphone",android:"/install/?ref=web-direct-banner&d=Android",winphone:"/install/?ref=generic&d=WindowsPhone"}},destroy:function(){this.banner&&(this.banner.destroy(),this.banner=null),this._view=null},setData:function(e){return this.setPromoMobileAppUrls(),this.banner.setData(e),this._setView(this.banner.getData(),this.banner.id),this},_setView:function(e,t){return!t||"honMobile"===t&&this.promoMobileAppUrls.empty?this._view=null:(this._view=new B.HoN_v3.BannersView,this._view.setData(e,t,this.promoMobileAppUrls)),this},clear:function(){this._view=null},getView:function(){return this._view?(this.sendPromoStats(),this._view):null},getPosition:function(e){return B.HoN_v3.BannersConfig.promo.getPosition(e)},setPromoMobileAppUrls:function(){if(!this.promoMobileAppUrls.empty)return!0;var e=B.HoN_v3.Models.Cache.CommonSettingsCache.model&&B.HoN_v3.Models.Cache.CommonSettingsCache.model.getSettings();if(endpoints=e&&e.getExternalEndpoints(),i=0,e){for(;i<endpoints.length;i++)switch(endpoints[i].getType()){case $p.ExternalEndpointType.EXTERNAL_ENDPOINT_TYPE_APP_STORE:this.promoMobileAppUrls.ios=endpoints[i].getUrl();break;case $p.ExternalEndpointType.EXTERNAL_ENDPOINT_TYPE_GOOGLE_PLAY:this.promoMobileAppUrls.android=endpoints[i].getUrl();break;case $p.ExternalEndpointType.EXTERNAL_ENDPOINT_TYPE_WINDOWS_PHONE_STORE:this.promoMobileAppUrls.winphone=endpoints[i].getUrl()}return this.promoMobileAppUrls.empty=!1,!0}return!1},sendPromoStats:function(e){return this.banner.sendPromoStats(e),this}})),B.HoN_v3.BannersManager||(B.HoN_v3.BannersManager=new $class({name:"B.HoN_v3.BannersManager",banners:{},banners_count:1,encounter_vote_counter:0,votes_to_update:20,animated_banners:!0,constructor:function(){B.on("app:init",this.init,this)},init:function(){this.$e_B=B.on({"spp:change_status":this._on_spp_change,"encounters:voted":this._encounters_voted},this),this.$e_upload=B.Upload2.Controller.get_group("photos_of_me").on({queue_completed:this._on_queue_completed},this),this.$e=$e.on({".banner-no-photo-blocker":this._noPhotoBlockerClick})},makeGUID:function(){return this.banners_count++},getBanner:function(e){var t,i,s=this.makeGUID(e.data);return i=this.banners[s],i||(t=new B.HoN_v3.BannersPromoBlock(e.data),t.guid(s),i=new B.HoN_v3.BannersController(e.source).setData(t),this.banners[s]=i),s},delBanner:function(e){this.banners[e]&&(this.banners[e].destroy(),delete this.banners[e])},getView:function(e){return this.banners[e]?this.banners[e].getView():""},getBannerPromoId:function(e){return this.banners[e]?this.banners[e].banner.id:void 0},sendPromoStats:function(e,t){this.banners[t]&&this.banners[t].banner.sendPromoStats(e)},_reloadAllBanners:function(){var e,t,i=[],s=[];this.$r&&this.$r.abort();for(var o in this.banners)e=this.banners[o].banner.getData(),i.push(e.getPromoBlockType()),s.push(e.getPromoBlockPosition());t=new $p.ServerGetNextPromoBlocks,t.setShowedPromoBlocks(i).setPromoBlockPositions(s).setContext(B.ClientSourceHelper.getSourceForState()),this.$r=new $gpb.Rpc($p.MessageType.SERVER_GET_NEXT_PROMO_BLOCKS,t).on($p.MessageType.CLIENT_NEXT_PROMO_BLOCKS,this._onReloadBanners,this).request()},_onReloadBanners:function(e,t){if(this.$r=null,!e){var i,s,o,n,a=t.getPromoBlocks();if(a){a[0]&&(a[0].getPromoBlockPosition()==$p.PromoBlockPosition.PROMO_BLOCK_POSITION_HORIZONTAL?s=a[0]:n=a[0]),a[1]&&(a[1].getPromoBlockPosition()==$p.PromoBlockPosition.PROMO_BLOCK_POSITION_HORIZONTAL?s=a[1]:n=a[1]);for(var r,l=$el.select(document.body,"[data-banner-guid]"),_=0;_<l.length;_++)r=l[_].getAttribute("data-banner-guid"),r in this.banners&&(this.banners[r].banner.getData().isHorizontal()?i={guid:r,el:l[_]}:o={guid:r,el:l[_]});i&&s&&this._changeBanner(i,s),o&&n&&this._changeBanner(o,n)}}},_changeBanner:function(e,t){var i,s,o=$el.up(e.el,".js-banner-slot");i=this.banners[e.guid],s=new B.HoN_v3.BannersPromoBlock(t),s.guid(e.guid),this.banners[e.guid]=new B.HoN_v3.BannersController(i.banner.context).setData(s),this._change_animation(o,e.guid)},_change_animation:function(e,t){this.animated_banners?(e.style.height=$el.down(e,"[data-banner-guid]").getBoundingClientRect().height+"px",$el.add(e,"animated"),$e.add(e,"transitionend",this.on_transition_end,this)):e.innerHTML=this.banners[t].getView()},on_transition_end:function(e){$e.del(e,"transitionend",this.on_transition_end,this);var t=$el.down(e,"[data-banner-guid]"),i=t.getAttribute("data-banner-guid");e.innerHTML=this.banners[i].getView(),e.style.height=$el.down(e,"[data-banner-guid]").getBoundingClientRect().height+"px",$el.del(e,"animated")},_makeBannerData:function(e){var t=$gpb("badoo.bma.ApplicationFeature",e);return t},_on_spp_change:function(e){!e||"search"!=B.App.state&&"mm"!=B.App.state||this._reloadAllBanners()},_encounters_voted:function(){"mm"==B.App.state&&(this.encounter_vote_counter++,this.encounter_vote_counter==this.votes_to_update&&(this.encounter_vote_counter=0,this._reloadAllBanners()))},_on_queue_completed:function(){("search"==B.App.state||"mm"==B.App.state)&&this._clearNoPhotoBlocker()},_clearNoPhotoBlocker:function(){var e=$el.select(document.body,".banner-no-photo-blocker");if(e)for(var t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},_noPhotoBlockerClick:function(){B.Upload2.UploadOverlayController.open("photos_of_me")}})),B.HoN_v3.SeenProfile=new $class({_lastProfileId:null,constructor:function(){B.on({"app:statechange":this.init},this)},init:function(){"profile-view"!==B.App.state&&"profile-edit"!==B.App.state&&"big-photo-view"!==B.App.state&&(this._lastProfileId=null)},isSeen:function(e){return this._lastProfileId===e?!0:(this._lastProfileId=e,!1)}}),$l.register({section:"status",lang:"en-us",translations:{STATUS:{MALE:{DELETED:"Deleted member",INVISIBLE:"Invisible user"}},TIME_AGO:{JUST_NOW:"just now",TODAY:"today",YESTERDAY:"yesterday",TIME_AGO:"{{number}} {{metric}} ago",MORE_THAN_A_WEEK:"more than a week ago",MORE_THAN_A_MONTH:"more than a month ago"}}}),function(){function e(e,o){return e.write('<div class="prev-next js-prev-next-container"> <div class="btn btn--sm btn--ico').section(o.get(["_PREV_BUTTON_HIDDEN"],!1),o,{block:t},{}).write(' js-prev-button-wrap"> <i class="ico ico--arrow-up"> <span class="b-link js-prev-button"></span> ').section(o.get(["NON_AUTH_PREV"],!1),o,{block:i},{}).write(' </i> </div> <div class="prev-next__users"> <div class="prev-next__users_ js-prev-next-users" style="-webkit-transform: translate(0, ').reference("top",o).write("px); transform: translate(0, ").reference("top",o).write('px);"> ').section(o.get(["USER"],!1),o,{block:s},{}).write(' </div> </div> <div class="btn btn--sm btn--ico').section(o.get(["_NEXT_BUTTON_HIDDEN"],!1),o,{block:r},{}).write(' js-next-button-wrap"> <i class="ico ico--arrow-down"> <span class="b-link js-next-button"></span> ').section(o.get(["NON_AUTH_NEXT"],!1),o,{block:l},{}).write(" </i> </div> </div>")}function t(e){return e.write(" invisible")}function i(e,t){return e.write('<a href="').reference("sign_url",t).write('" class="b-link"></a>')}function s(e,t){return e.write(" ").section(t.get(["CURRENT"],!1),t,{block:o},{}).write(" ").section(t.get(["NORMAL"],!1),t,{block:n},{}).write(" ").section(t.get(["DELETED"],!1),t,{block:a},{}).write(" ")}function o(e,t){return e.write(' <div> <div class="brick brick--outline"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> </div> </div> ')}function n(e,t){return e.write(' <div> <div class="brick brick--hover tooltip-wrap" data-control-type="tooltip"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <div class="tooltip tooltip--delayed-show"> <div class="tooltip-txt">').reference("name",t).write(", ").reference("age",t).write('</div> </div> <a href="').reference("url",t).write('" class="b-link app" rel="').reference("rel",t).write('"></a> </div> </div> ')
}function a(e,t){return e.write(' <div> <div class="brick brick--hover tooltip-wrap"> <div class="brick-img"><img src="').reference("src",t).write('" alt=""></div> <div class="tooltip tooltip--delayed-show"> <div class="tooltip-txt">').reference("name",t).write("</div> </div> </div> </div> ")}function r(e){return e.write(" invisible")}function l(e,t){return e.write('<a href="').reference("sign_url",t).write('" class="b-link"></a>')}return $u.dust.register("game/block.prev-next",e),e.s={_PREV_BUTTON_HIDDEN:t,NON_AUTH_PREV:i,USER:s,_NEXT_BUTTON_HIDDEN:r,NON_AUTH_NEXT:l},s.s={CURRENT:o,NORMAL:n,DELETED:a},e}(),B.HoN_v3.Profile=B.HoN_v3.Profile||{},B.HoN_v3.Profile.NextupView||(B.HoN_v3.Profile.NextupView=$class(B.DustView,{template:"game/block.prev-next",INVISIBLE_PHOTO:"/v2/-/-/i/hotornot_v2/180_invisible.2.png",DELETED_PHOTO:"/v2/-/-/i/hotornot_v2/user-deleted-44.1.png",setData:function(e,t,i,s){for(var o=[],n=Math.max(Math.min(i-2,2),0),a=0;a<e.length;a++){var r,l,_=a+t,p=e[a],c=p.getIsDeleted(),u=p.getIsInvisible();c?(r=this.DELETED_PHOTO,l="DELETED"):u&&(r=this.INVISIBLE_PHOTO,l="INVISIBLE"),c||u?o.push({src:$r.images_root+r,DELETED:{name:$l.get("status",["STATUS","MALE",l])}}):o.push({src:p.getProfilePhoto().getSquareFaceUrl(),name:p.getName(),age:p.getAge(),url:"/profile/0"+p.getUserId()+"?p="+(_+1)+"&folder="+s,rel:p.getUserId()==B.Session.getUserId()?"profile-edit":"profile-view",NORMAL:_!==i,CURRENT:_===i})}return this.set("top",-1*B.HoN_v3.Profile.NextupController.FRAME_HEIGHT*n).set("USER",o)},setFirst:function(){return this.set("_PREV_BUTTON_HIDDEN",!0)},setLast:function(){return this.set("_NEXT_BUTTON_HIDDEN",!0)}})),B.HoN_v3.FolderResultsManager||(B.HoN_v3.FolderResults=$class({_cache:[],_query:null,_resultsCount:null,_rpc:null,_folderId:null,updateEvt:"folders:updated",resultsEvt:"folders:results",$e:null,DEFAULT_LENGTH:20,CACHE_LENGTH:50,CHECK_CHACHE_LENGTH:10,constructor:function(e){this._folderId=e;var t={};t[this.resultsEvt]=this.onNewResults,this.$e=B.on(t,this)},getResults:function(e,t){if(!this._query)return!1;var i=null;return e=e||0,t=t||this.DEFAULT_LENGTH,this._precache(e),this._haveInCache(e,t)&&(i=this._cache.slice(e,e+t)),i},getCount:function(){return this._resultsCount},getFolderId:function(){return this._query.getFolderId()},_precache:function(e){e=Math.max(0,e-this.CHECK_CHACHE_LENGTH);var t=Math.min(this._resultsCount-1,2*this.CHECK_CHACHE_LENGTH);this._haveInCache(e,t)||this._request(Math.max(e-7,0),this.CACHE_LENGTH)},onNewResults:function(e,t,i,s){if(e===this._folderId){this._query=t,this._resultsCount=s;var o=t.getOffset();if(o)for(var n=0;n<i.length;n++)this._cache[o+n]=i[n];else this._drop_cache(),this._cache=i;B.fire(this.updateEvt,e)}},_drop_cache:function(){this._cache=[]},_request:function(e,t){this._rpc||(this._query.setOffset(e).setPreferredCount(t||15),this._rpc=new $gpb.Rpc($p.MessageType.SERVER_GET_USER_LIST,this._query).on($p.MessageType.CLIENT_USER_LIST,this._parse_response,this).setJinbaRequest(this.jinbaRequest).request())},_parse_response:function(e,t){if(this._rpc=null,!e&&t.getTotalSections()>0){var i=t.getSection()[0];B.fire(this.resultsEvt,this._folderId,this._query,i.getUsers()||[],i.getTotalCount())}},_updateCache:function(e,t){for(var i=0;i<t.length;i++)this._cache[e+i]=t[i]},_haveInCache:function(e,t){for(;t--;)if(e+t<this._resultsCount&&!this._cache[e+t])return!1;return!0}}),B.HoN_v3.FolderResultsManager=new $class({_map:{},create:function(e){return this._map[e]||(this._map[e]=new B.HoN_v3.FolderResults(e)),this._map[e]},get:function(e){return this._map[e]}})),$gpb.exists("badoo.bma.ClientNotification","message")||($gpb.exists("badoo.bma.CommonPlaceSuggestion","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.CommonPlaceSuggestion=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.CommonPlaceSuggestion",t.prototype._descriptor={fields:{description:{type:9,number:3,label:1},id:{type:5,number:1,label:1},places:{type:11,type_name:"badoo.bma.CommonPlace",number:2,label:3},title:{type:9,number:4,label:1}}}}(),$gpb.exists("badoo.bma.ClientNotificationType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientNotificationType=new $gpb.Enum("badoo.bma.ClientNotificationType");t._values=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,49,10001,10002,10003],t.UNKNOWN_CLIENT_NOTIFICATION_TYPE=0,t.CLIENT_NOTIFICATION_TYPE_VERIFIED_MESSAGES_BANNER=1,t.CLIENT_NOTIFICATION_TYPE_I_AM_HERE_TO_BANNER=2,t.CLIENT_NOTIFICATION_TYPE_PHOTOS_MODERATED=3,t.CLIENT_NOTIFICATION_TYPE_CREDITS_REWARDS=4,t.CLIENT_NOTIFICATION_TYPE_INVITE_ALL_FACEBOOK_FRIENDS=5,t.CLIENT_NOTIFICATION_TYPE_INVITE_ALL_FACEBOOK_FRIENDS_HIDDEN=6,t.CLIENT_NOTIFICATION_TYPE_REACTIVATION_INVITES=7,t.CLIENT_NOTIFICATION_TYPE_FRIEND_JOINED_NOTIFICATION=8,t.CLIENT_NOTIFICATION_TYPE_NEW_AWARD=9,t.CLIENT_NOTIFICATION_TYPE_RATE_YOUR_FRIENDS=10,t.CLIENT_NOTIFICATION_TYPE_INVITE_PHONEBOOK_SPLASH=11,t.CLIENT_NOTIFICATION_TYPE_SPP_EXPIRED=12,t.CLIENT_NOTIFICATION_TYPE_HELP_FRIENDS=13,t.CLIENT_NOTIFICATION_TYPE_NEW_SOCIAL_PHOTOS=14,t.CLIENT_NOTIFICATION_TYPE_WHATS_NEW=15,t.CLIENT_NOTIFICATION_TYPE_CONNECT_TWITTER=16,t.CLIENT_NOTIFICATION_TYPE_FRIENDS_OF_FRIENDS=17,t.CLIENT_NOTIFICATION_TYPE_FEATURES_CHANGED=18,t.CLIENT_NOTIFICATION_TYPE_COMMON_PLACES_SUGGESTION=19,t.CLIENT_NOTIFICATION_TYPE_SPOTLIGHT_REMINDER=20,t.CLIENT_NOTIFICATION_TYPE_BOOST_INVITES=21,t.CLIENT_NOTIFICATION_TYPE_VIDEO_PROCESS_COMPLETED=22,t.CLIENT_NOTIFICATION_TYPE_FIRST_PHOTO_APPROVED=23,t.CLIENT_NOTIFICATION_TYPE_SECRET_COMMENT=24,t.CLIENT_NOTIFICATION_TYPE_EMPTY_PHOTOS=25,t.CLIENT_NOTIFICATION_TYPE_HUGGLE_PROMO_SPLASH=26,t.CLIENT_NOTIFICATION_TYPE_EXTRA_SHOWS_REMINDER=27,t.CLIENT_NOTIFICATION_TYPE_FREE_SPOTLIGHT=28,t.CLIENT_NOTIFICATION_TYPE_RISE_UP_REMINDER=29,t.CLIENT_NOTIFICATION_TYPE_PHOTO_OF_THE_DAY=30,t.CLIENT_NOTIFICATION_TYPE_CONFIRM_EMAIL=31,t.CLIENT_NOTIFICATION_TYPE_PHOTO_OF_THE_DAY_GET_FEATURED=32,t.CLIENT_NOTIFICATION_TYPE_SUPER_POWERS_PROMO=33,t.CLIENT_NOTIFICATION_TYPE_MY_PROFILE_SCORE_CALCULATED=34,t.CLIENT_NOTIFICATION_TYPE_CONNECT_FACEBOOK_PROMO=35,t.CLIENT_NOTIFICATION_TYPE_BUMBLE_VIBEE_UNLOCK=36,t.CLIENT_NOTIFICATION_TYPE_SPOTLIGHT_FOR_SHARING=37,t.CLIENT_NOTIFICATION_TYPE_EMAIL_TROUBLE=38,t.CLIENT_NOTIFICATION_TYPE_EMAIL_IN_SPAM=39,t.CLIENT_NOTIFICATION_TYPE_PROMO_IMPORT=40,t.CLIENT_NOTIFICATION_TYPE_PROMO_IMPORT_COMPLETED=41,t.CLIENT_NOTIFICATION_TYPE_EMAIL_PROBLEM=42,t.CLIENT_NOTIFICATION_TYPE_PROMO_PHOTOS_IMPORT=43,t.CLIENT_NOTIFICATION_TYPE_ABUSE=44,t.CLIENT_NOTIFICATION_TYPE_VIP_PROMO=45,t.CLIENT_NOTIFICATION_TYPE_PURCHASE_COMPLETE=46,t.CLIENT_NOTIFICATION_TYPE_VERIFY=47,t.CLIENT_NOTIFICATION_TYPE_PURCHASE_FAILED=49,t.EXPERIMENTAL_CLIENT_NOTIFICATION_TYPE_GIFT=10001,t.EXPERIMENTAL_CLIENT_NOTIFICATION_TYPE_FREE_CREDITS=10002,t.EXPERIMENTAL_CLIENT_NOTIFICATION_TYPE_DOUBLE_CREDITS=10003}(),$gpb.exists("badoo.bma.PhotoNotificationInfo","message")||($gpb.exists("badoo.bma.ExternalProviderImportProgress","message")||($gpb.exists("badoo.bma.ProfileFieldImportData","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ProfileFieldImportData=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ProfileFieldImportData",t.prototype._descriptor={fields:{profile_fields:{type:11,type_name:"badoo.bma.ProfileField",number:1,label:3}}}}(),$gpb.exists("badoo.bma.FormFailure","message")||($gpb.exists("badoo.bma.FieldError","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FieldError=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FieldError",t.prototype._descriptor={fields:{field_name:{type:9,number:1,label:2},error:{type:9,number:2,label:2}}}}(),$gpb.exists("badoo.bma.FormField","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.FormField=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FormField",t.prototype._descriptor={fields:{key:{type:9,number:1,label:1},value:{type:9,number:2,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.FormFailure=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.FormFailure",t.prototype._descriptor={fields:{form_data:{type:11,type_name:"badoo.bma.Hashtable",number:4,label:1},failure:{type:11,type_name:"badoo.bma.ServerErrorMessage",number:2,label:1},errors:{type:11,type_name:"badoo.bma.FieldError",number:1,label:3},captcha_url:{type:9,number:3,label:1},str_form_data:{type:11,type_name:"badoo.bma.FormField",number:5,label:3}}}}()),$gpb.exists("badoo.bma.ContactImportProgress","message")||($gpb.exists("badoo.bma.ContactListView","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ContactListView=new $gpb.Enum("badoo.bma.ContactListView");t._values=[1,2],t.CLV_LIST=1,t.CLV_GRID=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ContactImportProgress=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ContactImportProgress",t.prototype._descriptor={fields:{display_text:{type:9,number:2,label:1},required_contact_count:{type:5,number:5,label:1},client_should_send_sms:{type:8,number:7,label:1},contacts:{type:11,type_name:"badoo.bma.PhonebookContact",number:1,label:3},legal_info:{type:9,number:6,label:1},app_link_url:{type:9,number:11,label:1},header_text:{type:9,number:4,label:1},sms_content_text:{type:9,number:8,label:1},invite_text:{type:9,number:10,label:1},view:{type:14,type_name:"badoo.bma.ContactListView",number:9,label:1}}}}()),$gpb.exists("badoo.bma.PhotoImportProgress","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoImportProgress=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhotoImportProgress",t.prototype._descriptor={fields:{albums:{type:11,type_name:"badoo.bma.Album",number:1,label:3}}}}(),$gpb.exists("badoo.bma.ClientPersonProfileEditForm","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientPersonProfileEditForm=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientPersonProfileEditForm",t.prototype._descriptor={fields:{options:{type:11,type_name:"badoo.bma.ClientProfileOption",number:1,label:3}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExternalProviderImportProgress=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExternalProviderImportProgress",t.prototype._descriptor={fields:{import_id:{type:9,number:1,label:1},profile_field_progress_data:{type:11,type_name:"badoo.bma.ProfileFieldImportData",number:7,label:1},complete:{type:8,number:2,label:1},success:{type:8,number:3,label:1},form:{type:11,type_name:"badoo.bma.FormFailure",number:4,label:1},contact_import_progress_data:{type:11,type_name:"badoo.bma.ContactImportProgress",number:5,label:1},cache_ts:{type:5,number:9,label:1},photo_import_progress_data:{type:11,type_name:"badoo.bma.PhotoImportProgress",number:6,label:1},person_profile_edit_form:{type:11,type_name:"badoo.bma.ClientPersonProfileEditForm",number:8,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.PhotoNotificationInfo=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PhotoNotificationInfo",t.prototype._descriptor={fields:{import_progress:{type:11,type_name:"badoo.bma.ExternalProviderImportProgress",number:1,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientNotification=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientNotification",t.prototype._descriptor={fields:{import_providers:{type:11,type_name:"badoo.bma.ExternalProviders",number:20,label:1},common_place_suggestions:{type:11,type_name:"badoo.bma.CommonPlaceSuggestion",number:18,label:3},title:{type:9,number:2,label:1},url:{type:9,number:10,label:1},transaction_identifier:{type:9,number:9,label:1},feature:{type:14,type_name:"badoo.bma.FeatureType",number:5,label:1},image_urls:{type:9,number:11,label:3},id:{type:9,number:1,label:2},urgent:{type:8,number:7,label:1},action_text:{type:9,number:8,label:1},goal_progress:{type:11,type_name:"badoo.bma.GoalProgress",number:17,label:1},display:{type:14,type_name:"badoo.bma.FeatureType",number:4,label:1},display_comment:{type:9,number:15,label:1},blocking:{type:8,options:{"default":"false"},number:22,label:1},action:{type:14,type_name:"badoo.bma.ActionType",number:6,label:2},message:{type:9,number:3,label:1},verified_information:{type:11,type_name:"badoo.bma.ClientUserVerifiedGet",number:21,label:1},type:{type_name:"badoo.bma.ClientNotificationType",number:12,label:1,type:14,options:{"default":"UNKNOWN_CLIENT_NOTIFICATION_TYPE"}},cancel_action_text:{type:9,number:14,label:1},photo_notification_info:{type:11,type_name:"badoo.bma.PhotoNotificationInfo",number:19,label:1},purchase_info:{type:11,type_name:"badoo.bma.FeaturePrePurchaseInfo",number:13,label:1}}}}()),$gpb.exists("badoo.bma.ClientPurchaseReceipt","message")||($gpb.exists("badoo.bma.ExperimentalPackSale","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalPackSale=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExperimentalPackSale",t.prototype._descriptor={fields:{promo_title:{type:9,number:3,label:1},provider_id:{type:9,number:9,label:1},product_type:{type:14,type_name:"badoo.bma.PaymentProductType",number:5,label:1},button_caption:{type:9,number:6,label:1},title:{type:9,number:1,label:1},order_id:{type:9,number:8,label:1},text:{type:9,number:2,label:1},promo_details:{type:9,number:4,label:1},benefits:{type:9,number:7,label:1},product_uid:{type:9,number:10,label:1}}}}(),$gpb.exists("badoo.bma.ExperimentalCrossSell","message")||($gpb.exists("badoo.bma.ExperimentalCrossSellType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalCrossSellType=new $gpb.Enum("badoo.bma.ExperimentalCrossSellType");t._values=[1,2],t.EXPERIMENTAL_CROSS_SELL_SPP=1,t.EXPERIMENTAL_CROSS_SELL_CREDITS=2}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.ExperimentalCrossSell=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ExperimentalCrossSell",t.prototype._descriptor={fields:{promo_title:{type:9,number:3,label:1},provider_id:{type:9,number:8,label:1},benefits:{type:9,number:11,label:1},button_caption:{type:9,number:6,label:1},title:{type:9,number:1,label:1},order_id:{type:9,number:7,label:1},text:{type:9,number:2,label:1},promo_type:{type:14,type_name:"badoo.bma.ExperimentalCrossSellType",number:5,label:1},cost:{type:9,number:9,label:1},promo_details:{type:9,number:4,label:1},conditions:{type:9,number:10,label:1},product_uid:{type:9,number:12,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.ClientPurchaseReceipt=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.ClientPurchaseReceipt",t.prototype._descriptor={fields:{experimental_pack_sale:{type:11,type_name:"badoo.bma.ExperimentalPackSale",number:10003,label:1},notification:{type:11,type_name:"badoo.bma.ClientNotification",number:3,label:1},transaction_identifier:{type:9,number:1,label:2},experimental_cross_sell:{type:11,type_name:"badoo.bma.ExperimentalCrossSell",number:10001,label:1},payment_timeout:{type:5,number:15,label:1},productType:{type:14,type_name:"badoo.bma.PaymentProductType",number:14,label:1},experimental_is_cancel:{type:8,number:10002,label:1},is_synchronous:{type:8,number:4,label:1},purchase_success:{type:8,number:2,label:2}}}}()),$gpb.exists("badoo.bma.PurchaseTransaction","message")||($gpb.exists("badoo.bma.QuickPaymentDataEntryMethod","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.QuickPaymentDataEntryMethod=new $gpb.Enum("badoo.bma.QuickPaymentDataEntryMethod");t._values=[1,2],t.QUICK_PAYMENT_DATA_ENTRY_METHOD_CAMERA=1,t.QUICK_PAYMENT_DATA_ENTRY_METHOD_NFC=2}(),$gpb.exists("badoo.bma.PaymentProviderType","enum")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PaymentProviderType=new $gpb.Enum("badoo.bma.PaymentProviderType");t._values=[40,43,100,1e5,26,100001,83,85,98,101,102,113,114,115,116,117,118,119,35,142,143],t.APPLE=40,t.BOKU=43,t.CREDIT_CARD=100,t.SIMPLE_SMS=1e5,t.CREDITS=26,t.STORED=100001,t.FORTUMO=83,t.IPX=85,t.ALLOPASS=98,t.NEOMOBILE=101,t.WEB=102,t.GOOGLE_WALLET=113,t.BOKU_WEB=114,t.INCENTIVE=115,t.BB_MARKET=116,t.GOOGLE_WALLET_SUBSCRIPTION=117,t.GLOBAL_CHARGE=118,t.TIMWE=119,t.PAYPAL=35,t.AMAZON=142,t.EXTERNAL_WEB=143}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PurchaseTransaction=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PurchaseTransaction",t.prototype._descriptor={fields:{provider_product_uid:{type:9,number:6,label:1},fortumo_tc_id:{type:9,number:20,label:1},provider_id:{type:5,number:11,label:1},processing_message:{type:9,number:9,label:1},uid:{type:9,number:1,label:2},fortumo_service_amount:{type:9,number:19,label:1},quick_data_entry:{type:14,type_name:"badoo.bma.QuickPaymentDataEntryMethod",number:12,label:3},price:{type:9,number:4,label:2},error_url:{type:9,number:15,label:1},fortumo_product_name:{type:9,number:18,label:1},is_one_step:{type:8,number:17,label:1},currency:{type:9,number:5,label:2},provider_key:{type:9,number:8,label:1},success_url:{type:9,number:14,label:1},redirect_url:{type:9,number:10,label:1},provider:{type:14,type_name:"badoo.bma.PaymentProviderType",number:2,label:2},is_carrier_billing:{type:8,number:13,label:1},provider_account:{type:9,number:7,label:1},result_url:{type:9,number:16,label:1},transaction_id:{type:9,number:3,label:2}}}}()),$gpb.exists("badoo.bma.PurchaseTransactionSetup","message")||($gpb.exists("badoo.bma.PurchaseTransactionSetupParams","message")||($gpb.exists("badoo.bma.GiftPurchaseParams","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.GiftPurchaseParams=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.GiftPurchaseParams",t.prototype._descriptor={fields:{gift_product_id:{type:5,number:1,label:1},is_private:{type:8,number:4,label:1},text:{type:9,number:2,label:1}}}}(),function(){var e=$gpb.namespace("badoo.bma"),t=e.PurchaseTransactionSetupParams=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PurchaseTransactionSetupParams",t.prototype._descriptor={fields:{gift_params:{type:11,type_name:"badoo.bma.GiftPurchaseParams",number:11,label:1},photo_id:{type:9,number:1,label:1},match_id:{type:9,number:6,label:1},experimental_to_user_id:{type:9,number:10003,label:1},msisdn:{type:9,number:2,label:1},chat_message_uid:{type:9,number:9,label:1},sticker_pack_id:{type:9,number:8,label:1},mcc:{type:9,number:3,label:1},experimental_stickers_pack_id:{type:9,number:10005,label:1},experimental_hide_gift:{type:8,number:10004,label:1},user_id:{type:9,number:7,label:1},experimental_transaction_identifier:{type:9,number:1006,label:1},experimental_gift_text:{type:9,number:10002,label:1},mnc:{type:9,number:4,label:1},experimental_gift_type:{type:9,number:10001,label:1},chat_message:{type:9,number:10,label:1}}}}()),function(){var e=$gpb.namespace("badoo.bma"),t=e.PurchaseTransactionSetup=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PurchaseTransactionSetup",t.prototype._descriptor={fields:{purchase_params:{type:11,type_name:"badoo.bma.PurchaseTransactionSetupParams",number:12,label:1},provider_id:{type:5,number:11,label:1},product_type:{type:14,type_name:"badoo.bma.PaymentProductType",number:17,label:1},uid:{type:9,number:1,label:1},promo_block_type:{type:14,type_name:"badoo.bma.PromoBlockType",number:15,label:1},chat_initial_screen_type:{type:14,type_name:"badoo.bma.ChatBlockId",number:16,label:1},template_name:{type:9,number:8,label:1},feature:{type:14,type_name:"badoo.bma.FeatureType",number:3,label:1},error_url:{type:9,number:7,label:1},credits_for_product:{type:14,type_name:"badoo.bma.PaymentProductType",number:18,label:1},sharing_provider_type:{type:14,type_name:"badoo.bma.ExternalProviderType",number:13,label:1},result_url:{type:9,number:4,label:1},params:{type:11,type_name:"badoo.bma.Hashtable",number:9,label:1},mime_type:{type:9,number:6,label:1},context:{type:14,type_name:"badoo.bma.ClientSource",number:14,label:1},provider:{type:14,type_name:"badoo.bma.PaymentProviderType",number:2,label:1},auto_top_up:{type:8,number:10,label:1},terms_url:{type:9,number:5,label:1}}}}()),$gpb.exists("badoo.bma.PurchaseTransactionFailed","message")||!function(){var e=$gpb.namespace("badoo.bma"),t=e.PurchaseTransactionFailed=function(){$gpb.Message.apply(this,arguments)};$gpb.extend(t,$gpb.Message),t.prototype.$gpb="badoo.bma.PurchaseTransactionFailed",t.prototype._descriptor={fields:{provider_id:{type:5,number:6,label:1},uid:{type:9,number:1,label:2},notification:{type:11,type_name:"badoo.bma.ClientNotification",number:3,label:1},provider:{type:14,type_name:"badoo.bma.PaymentProviderType",number:2,label:1},form_error:{type:11,type_name:"badoo.bma.FormFailure",number:4,label:1},transaction_id:{type:9,number:5,label:1}}}}(),function(){function e(e,t){return e.write('<div class="ovl-body"> <div class="ovl-promo ovl-promo--spotlight-free"> <div class="brick brick--xlg"> <div class="brick-img"><img src="').reference("src_promo_1",t).write('" alt=""></div> </div> <div class="brick brick--xxxlg brick--stroke"> <div class="brick-img"><img src="').reference("src_user",t).write('" alt=""></div> <div class="brick brick--sm"> <i class="ico-feature ico-feature--spotlight"></i> </div> </div> <div class="brick brick--xlg"> <div class="brick-img"><img src="').reference("src_promo_2",t).write('" alt=""></div> </div> <span class="middle"></span> </div> <div class="ovl-content"> <h1>').reference("title",t).write('</h1> <p class="x-large">').reference("description",t).write('</p> </div> <div class="ovl-buttons"> <div class="btn btn--blue"> <span class="btn-txt js-give-free-spotlight">').reference("action",t).write('</span> </div> <div class="btn btn--white"> <span class="btn-txt">').reference("reject",t).write('</span> <span class="b-link js-ovl-close"></span> </div> </div> <div class="ovl-hint">').reference("cost",t).write('</div> <div class="ovl-close"><i class="icon ico--white ico--cross js-ovl-close"></i></div> </div>')}return $u.dust.register("spotlight/popup.spotlight-free",e),e}(),B.HoN_v3.FreeSpotlightView||(B.HoN_v3.FreeSpotlightView=$class(B.DustView,{template:"spotlight/popup.spotlight-free",setData:function(e){var t=e.getPurchaseInfo(),i=t.getApplicationFeature(),s=Array.prototype.slice.call(i.getDisplayImages()).map(function(e){return e.getDisplayImages()});return this.set({reject:e.getCancelActionText(),action:i.getDisplayAction(),title:i.getDisplayTitle(),description:i.getDisplayMessage(),src_user:s[0],src_promo_1:s[1],src_promo_2:s[2],cost:t.getCost()})}})),B.HoN_v3.FreeSpotlightNotification||(B.HoN_v3.FreeSpotlightNotification=new $class({constructor:function(){$gpb.Rpc.any.on($p.MessageType.CLIENT_NOTIFICATION,this.on_client_notification,this)},destroy:function(){$gpb.Rpc.any.off($p.MessageType.CLIENT_NOTIFICATION,this.on_client_notification,this)},on_client_notification:function(e,t){if(!e){var i,s={},o=null;switch(t.getType()){case $p.ClientNotificationType.CLIENT_NOTIFICATION_TYPE_FREE_SPOTLIGHT:i="free-spotlight",o=new B.HoN_v3.FreeSpotlightView,o.setData(t);var n=Array.prototype.slice.call(t.getPurchaseInfo().getApplicationFeature().getDisplayImages());s.photo=n[0].getDisplayImages(),s.notification_id=t.getId()}if(i){var a={type:i,html:o};$config(a,s),B.OvlQueue.push(a)}}}})),B.HoN_v3.Partner.set_type("web");